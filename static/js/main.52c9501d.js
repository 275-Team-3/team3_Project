/*! For license information please see main.52c9501d.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(s[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)r.call(a,o[l])&&(s[o[l]]=a[o[l]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,I=60106,E=60107,S=60108,_=60114,T=60109,A=60110,C=60112,N=60113,P=60120,O=60115,D=60116,R=60121,L=60128,j=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),I=U("react.portal"),E=U("react.fragment"),S=U("react.strict_mode"),_=U("react.profiler"),T=U("react.provider"),A=U("react.context"),C=U("react.forward_ref"),N=U("react.suspense"),P=U("react.suspense_list"),O=U("react.memo"),D=U("react.lazy"),R=U("react.block"),U("react.scope"),L=U("react.opaque.id"),j=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case I:return"Portal";case _:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case R:return G(e._render);case D:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,me=(ve=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach((function(e){ke.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Te=null,Ae=null;function Ce(e){if(e=ni(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),_e(e.stateNode,e.type,t))}}function Ne(e){Te?Ae?Ae.push(e):Ae=[e]:Te=e}function Pe(){if(Te){var e=Te,t=Ae;if(Ae=Te=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Le=Oe,je=!1,Me=!1;function Fe(){null===Te&&null===Ae||(Re(),Pe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ve){Ve=!1}function ze(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var qe=!1,Ke=null,We=!1,He=null,Ge={onError:function(e){qe=!0,Ke=e}};function Qe(e,t,n,r,i,a,o,s,u){qe=!1,Ke=null,ze.apply(Ge,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if($e(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ye(i),e;if(a===r)return Ye(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,at=[],ot=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=dt(t,n,r,i,a),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ti(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){yt(e)&&n.delete(t)}function kt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ot&&yt(ot)&&(ot=null),null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),ct.forEach(gt),lt.forEach(gt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kt)))}function wt(e){function t(t){return bt(t,e)}if(0<at.length){bt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==st&&bt(st,e),null!==ut&&bt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Et={},St={};function _t(e){if(Et[e])return Et[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Et[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Tt=_t("animationend"),At=_t("animationiteration"),Ct=_t("animationstart"),Nt=_t("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Tt,"animationEnd",At,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function jt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Mt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Lt):0!==(s&=a)&&(r=jt(s),i=Lt)}else 0!==(a=n&~o)?(r=jt(a),i=Lt):0!==s&&(r=jt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Ht=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){je||Re();var i=Yt,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Fe()}}function Xt(e,t,n,r){Gt(Ht,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),at.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=vt(ot,e,t,n,r,i),!0;case"dragenter":return st=vt(st,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,lt.set(a,vt(lt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Rr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Se(r);if(null!==(i=ti(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(fn),dn=i({},fn,{view:0,detail:0}),pn=sn(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=sn(vn),yn=sn(i({},vn,{dataTransfer:0})),gn=sn(i({},dn,{relatedTarget:0})),kn=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(bn),xn=sn(i({},fn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return _n}var An=i({},dn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(An),Nn=sn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),On=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Dn),Ln=[9,13,27,32],jn=f&&"CompositionEvent"in window,Mn=null;f&&"documentMode"in document&&(Mn=document.documentMode);var Fn=f&&"TextEvent"in window&&!Mn,Un=f&&(!jn||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ne(r),0<(t=jr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Xn(e){Ar(e,0)}function Yn(e){if(Y(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),$n=Qn=null)}function ir(e){if("value"===e.propertyName&&Yn($n)){var t=[];if(Gn(t,$n,e,Se(e)),e=Xn,je)e(t);else{je=!0;try{Oe(e,t)}finally{je=!1,Fe()}}}}function ar(e,t,n){"focusin"===e?(rr(),$n=n,(Qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn($n)}function sr(e,t){if("click"===e)return Yn(t)}function ur(e,t){if("input"===e||"change"===e)return Yn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,gr=null,kr=null,br=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&fr(br,r)||(br=r,0<(r=jr(kr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Ir.length;Er++)Ot.set(Ir[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),qe){if(!qe)throw Error(o(198));var l=Ke;qe=!1,Ke=null,We||(We=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,c),a=u}}}if(We)throw e=He,We=!1,He=null,e}function Cr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Nr]||(e[Nr]=!0,s.forEach((function(t){_r.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&_r.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ai(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Xt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ti(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Me)return e(t,n);Me=!0;try{return Le(e,t,n)}finally{Me=!1,Fe()}}((function(){var r=a,i=Se(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Tt:case At:case Ct:u=kn;break;case Nt:u=On;break;case"scroll":u=pn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ri(u),d=null==c?s:ri(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ti(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Mr(d))p++;for(d=0,v=h;v;v=Mr(v))d++;for(;0<p-d;)l=Mr(l),p--;for(;0<d-p;)h=Mr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Mr(l),h=Mr(h)}l=null}else l=null;null!==u&&Fr(o,s,u,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(u=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Hn(s))if(Zn)m=ur;else{m=or;var y=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=sr);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ri(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,kr=r,br=null);break;case"focusout":br=kr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Kn=!0)),0<(y=jr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=qn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!jn&&zn(e,t)?(e=nn(),tn=en=Zt=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Mr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,a))&&o.unshift(Lr(n,u,s)):i||null!=(u=Ue(n,a))&&o.push(Lr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Vr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Xr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Xr,Jr="__reactProps$"+Xr,Zr="__reactContainer$"+Xr,ei="__reactEvents$"+Xr;function ti(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Yr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Yr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Jr]||null}function ai(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],si=-1;function ui(e){return{current:e}}function ci(e){0>si||(e.current=oi[si],oi[si]=null,si--)}function li(e,t){si++,oi[si]=e.current,e.current=t}var fi={},hi=ui(fi),di=ui(!1),pi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(di),ci(hi)}function gi(e,t,n){if(hi.current!==fi)throw Error(o(168));li(hi,t),li(di,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,pi=hi.current,li(hi,e),li(di,di.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ki(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(hi),li(hi,e)):ci(di),li(di,n)}var xi=null,Ii=null,Ei=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,_i=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ci=a.unstable_now,Ni=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Ri=a.unstable_LowPriority,Li=a.unstable_IdlePriority,ji={},Mi=void 0!==Ai?Ai:function(){},Fi=null,Ui=null,Vi=!1,Bi=Ci(),zi=1e4>Bi?Ci:function(){return Ci()-Bi};function qi(){switch(Ni()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Ri:return 96;case Li:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Ri;case 95:return Li;default:throw Error(o(332))}}function Wi(e,t){return e=Ki(e),Ei(e,t)}function Hi(e,t,n){return e=Ki(e),Si(e,t,n)}function Gi(){if(null!==Ui){var e=Ui;Ui=null,_i(e)}Qi()}function Qi(){if(!Vi&&null!==Fi){Vi=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Si(Pi,Gi),n}finally{Vi=!1}}}var $i=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Yi=ui(null),Ji=null,Zi=null,ea=null;function ta(){ea=Zi=Ji=null}function na(e){var t=Yi.current;ci(Yi),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ia(e,t){Ji=e,ea=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function aa(e,t){if(ea!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ea=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(o(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var oa=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;oa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:oa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var pa=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),la(e,i),pu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function ga(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=aa(a):(i=mi(t)?pi:hi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pa,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=aa(a):(a=mi(t)?pi:hi.current,i.context=vi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case I:return(t=Yu(t,e.mode,n)).return=e,t}if(wa(t)||z(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case I:return n.key===i?l(e,t,n,r):null}if(wa(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case I:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xu(a,e.mode,u)).return=e,e=r),s(e);if(wa(a))return v(e,r,a,u);if(z(a))return m(e,r,a,u);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Ea(!0),_a=Ea(!1),Ta={},Aa=ui(Ta),Ca=ui(Ta),Na=ui(Ta);function Pa(e){if(e===Ta)throw Error(o(174));return e}function Oa(e,t){switch(li(Na,t),li(Ca,e),li(Aa,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Aa),li(Aa,t)}function Da(){ci(Aa),ci(Ca),ci(Na)}function Ra(e){Pa(Na.current);var t=Pa(Aa.current),n=de(t,e.type);t!==n&&(li(Ca,e),li(Aa,n))}function La(e){Ca.current===e&&(ci(Aa),ci(Ca))}var ja=ui(0);function Ma(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Ua=null,Va=!1;function Ba(e,t){var n=Ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qa(e){if(Va){var t=Ua;if(t){var n=t;if(!za(e,t)){if(!(t=Gr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Va=!1,void(Fa=e);Ba(Fa,n)}Fa=e,Ua=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Va=!1,Fa=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Wa(e){if(e!==Fa)return!1;if(!Va)return Ka(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Ua;t;)Ba(e,t),t=Gr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Fa?Gr(e.stateNode.nextSibling):null;return!0}function Ha(){Ua=Fa=null,Va=!1}var Ga=[];function Qa(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var $a=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ya=0,Ja=null,Za=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ao(e,t,n,r,i,a){if(Ya=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),no){a=0;do{if(no=!1,!(25>a))throw Error(o(301));a+=1,eo=Za=null,t.updateQueue=null,$a.current=Ro,e=n(r,i)}while(no)}if($a.current=Po,t=null!==Za&&null!==Za.next,Ya=0,eo=Za=Ja=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Ja.memoizedState=eo=e:eo=eo.next=e,eo}function so(){if(null===Za){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=Za.next;var t=null===eo?Ja.memoizedState:eo.next;if(null!==t)eo=t,Za=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Za=e).memoizedState,baseState:Za.baseState,baseQueue:Za.baseQueue,queue:Za.queue,next:null},null===eo?Ja.memoizedState=eo=e:eo=eo.next=e}return eo}function uo(e,t){return"function"===typeof t?t(e):t}function co(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Za,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ya&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Ja.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,cr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);cr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ya&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function ho(e,t,n,r){var i=Ds;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=$a.current,c=u.useState((function(){return fo(i,t,n)})),l=c[1],f=c[0];c=eo;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Ja;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-qt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:f}).dispatch=l=No.bind(null,Ja,e),c.queue=e,c.baseQueue=null,f=fo(i,t,n),c.memoizedState=c.baseState=f),f}function po(e,t,n){return ho(so(),e,t,n)}function vo(e){var t=oo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e}).dispatch=No.bind(null,Ja,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},oo().memoizedState=e}function go(){return so().memoizedState}function ko(e,t,n,r){var i=oo();Ja.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==Za){var o=Za.memoizedState;if(a=o.destroy,null!==r&&io(r,o.deps))return void mo(t,n,a,r)}Ja.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function wo(e,t){return ko(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function Io(e,t){return bo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)}function _o(){}function To(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Co(e,t){var n=qi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function No(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,cr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:aa,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Oo={readContext:aa,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:aa,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=No.bind(null,Ja,e),[r.memoizedState,e]},useRef:yo,useState:vo,useDebugValue:_o,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return wo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return yo(e=Co.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ho(r,e,t,n)},useOpaqueIdentifier:function(){if(Va){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,mo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return vo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:So,useLayoutEffect:Io,useMemo:Ao,useReducer:co,useRef:go,useState:function(){return co(uo)},useDebugValue:_o,useDeferredValue:function(e){var t=co(uo),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=co(uo)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(uo)[0]},unstable_isNewReconciler:!1},Ro={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:So,useLayoutEffect:Io,useMemo:Ao,useReducer:lo,useRef:go,useState:function(){return lo(uo)},useDebugValue:_o,useDeferredValue:function(e){var t=lo(uo),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(uo)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(uo)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,jo=!1;function Mo(e,t,n,r){t.child=null===e?_a(t,null,n,r):Sa(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return ia(t,i),r=ao(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Mo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Hu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return qo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Mo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var a=mi(n)?pi:hi.current;return a=vi(t,a),ia(t,i),n=ao(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Mo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ko(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(ia(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ga(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=aa(c):c=vi(t,c=mi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ka(t,o,r,c),oa=!1;var h=t.memoizedState;o.state=h,ha(t,r,o,i),u=t.memoizedState,s!==r||h!==u||di.current||oa?("function"===typeof l&&(va(t,n,l,r),u=t.memoizedState),(s=oa||ya(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ua(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=aa(u):u=vi(t,u=mi(n)?pi:hi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ka(t,o,r,u),oa=!1,h=t.memoizedState,o.state=h,ha(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||di.current||oa?("function"===typeof d&&(va(t,n,d,r),p=t.memoizedState),(c=oa||ya(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&wi(t,n,!1),as(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):Mo(e,t,s,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Oa(e,t.containerInfo)}var Go,Qo,$o,Xo,Yo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),li(ja,1&a),null===e?(void 0!==i.fallback&&qa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$u(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(o,s),null!==e?r=Hu(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Mo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ma(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ma(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&yi(),null;case 3:return Da(),ci(di),ci(hi),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qo(t),null;case 5:La(t);var a=Pa(Na.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Yr]=t,r[Jr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Cr(Sr[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":ue(r,s),Cr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe.html&&(e=he(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Yr]=t,e[Jr]=r,Go(e,t,!1,!1),t.stateNode=e,c=Ee(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),a=r;break;case"iframe":case"object":case"embed":Cr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Cr(Sr[a],e);a=r;break;case"source":Cr("error",e),a=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),a=r;break;case"details":Cr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Cr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Cr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?we(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Cr("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Na.current),Pa(Aa.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return ci(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ds||0===(134217727&Bs)&&0===(134217727&zs)||gu(Ds,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),Qo(t),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return na(t),null;case 19:if(ci(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ma(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ma(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Va)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=ja.current,li(ja,s?1&t|2:1&t),n):null;case 23:case 24:return Iu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),ci(di),ci(hi),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return ci(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(ja),null;case 4:return Da(),null;case 10:return na(e),null;case 23:case 24:return Iu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(){},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Cr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Ys=r),ls(0,t)},n}function ds(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Is(e,n,t):Es(e,n,t)}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ye(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=zi(),gs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function As(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cs=Math.ceil,Ns=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Os=0,Ds=null,Rs=null,Ls=0,js=0,Ms=ui(0),Fs=0,Us=null,Vs=0,Bs=0,zs=0,qs=0,Ks=null,Ws=0,Hs=1/0;function Gs(){Hs=zi()+500}var Qs,$s=null,Xs=!1,Ys=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Os)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===uu&&(uu=Vs),0!==$i.transition){0!==cu&&(cu=null!==Ks?Ks.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Os)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Ds&&(zs|=t,4===Fs&&gu(e,Ls));var r=qi();1===t?0!==(8&Os)&&0===(48&Os)?ku(e):(mu(e,n),0===Os&&(Gs(),Gi())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ks=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-qt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Lt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Mt(e,e===Ds?Ls:0),t=Lt,0===r)null!==n&&(n!==ji&&_i(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&_i(n)}15===t?(n=ku.bind(null,e),null===Fi?(Fi=[n],Ui=Si(Pi,Qi)):Fi.push(n),n=ji):14===t?n=Hi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Mt(e,e===Ds?Ls:0);if(0===n)return null;var r=n,i=Os;Os|=16;var a=_u();for(Ds===e&&Ls===r||(Gs(),Eu(e,r));;)try{Cu();break}catch(u){Su(e,u)}if(ta(),Ns.current=a,Os=i,null!==Rs?r=0:(Ds=null,Ls=0,r=Fs),0!==(Vs&zs))Eu(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ft(e))&&(r=Tu(e,n))),1===r)throw t=Us,Eu(e,0),gu(e,n),mu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ou(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ws+500-zi())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-qt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=Kr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(o(329))}}return mu(e,zi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Os))throw Error(o(327));if(Lu(),e===Ds&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Tu(e,t);0!==(Vs&zs)&&(n=Tu(e,t=Mt(e,t)))}else n=Tu(e,t=Mt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ft(e))&&(n=Tu(e,t))),1===n)throw n=Us,Eu(e,0),gu(e,t),mu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),mu(e,zi()),null}function bu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Gs(),Gi())}}function wu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Gs(),Gi())}}function xu(e,t){li(Ms,js),js|=t,Vs|=t}function Iu(){js=Ms.current,ci(Ms)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Da(),ci(di),ci(hi),Qa();break;case 5:La(r);break;case 4:Da();break;case 13:case 19:ci(ja);break;case 10:na(r);break;case 23:case 24:Iu()}n=n.return}Ds=e,Rs=Hu(e.current,null),Ls=js=Vs=t,Fs=0,Us=null,qs=zs=Bs=0}function Su(e,t){for(;;){var n=Rs;try{if(ta(),$a.current=Po,to){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if(Ya=0,eo=Za=Ja=null,no=!1,Ps.current=null,null===n||null===n.return){Fs=1,Us=t,Rs=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=ca(-1,1);g.tag=2,la(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,fa(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,fa(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Pu(n)}catch(I){t=I,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function _u(){var e=Ns.current;return Ns.current=Po,null===e?Po:e}function Tu(e,t){var n=Os;Os|=16;var r=_u();for(Ds===e&&Ls===t||Eu(e,t);;)try{Au();break}catch(i){Su(e,i)}if(ta(),Os=n,Ns.current=r,null!==Rs)throw Error(o(261));return Ds=null,Ls=0,Fs}function Au(){for(;null!==Rs;)Nu(Rs)}function Cu(){for(;null!==Rs&&!Ti();)Nu(Rs)}function Nu(e){var t=Qs(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Pu(e):Rs=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ou(e){var t=qi();return Wi(99,Du.bind(null,e,t)),null}function Du(e,t){do{Lu()}while(null!==eu);if(0!==(48&Os))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-qt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ds&&(Rs=Ds=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ps.current=null,Vr=Qt,mr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(_){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,$s=r;do{try{Ru()}catch(_){if(null===$s)throw Error(o(330));Vu($s,_),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var k=$s.flags;if(16&k&&ye($s.stateNode,""),128&k){var b=$s.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs($s),$s.flags&=-3;break;case 6:xs($s),$s.flags&=-3,_s($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,_s($s.alternate,$s);break;case 4:_s($s.alternate,$s);break;case 8:Ss(s,u=$s);var x=u.alternate;bs(u),null!==x&&bs(x)}$s=$s.nextEffect}}catch(_){if(null===$s)throw Error(o(330));Vu($s,_),$s=$s.nextEffect}}while(null!==$s);if(w=Br,b=vr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&pr(k.ownerDocument.documentElement,k)){null!==s&&mr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=dr(k,x),a=dr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Vr,Br=Vr=null,e.current=n,$s=r;do{try{for(k=e;null!==$s;){var I=$s.flags;if(36&I&&ys(k,$s.alternate,$s),128&I){b=void 0;var E=$s.ref;if(null!==E){var S=$s.stateNode;$s.tag,b=S,"function"===typeof E?E(b):E.current=b}}$s=$s.nextEffect}}catch(_){if(null===$s)throw Error(o(330));Vu($s,_),$s=$s.nextEffect}}while(null!==$s);$s=null,Mi(),Os=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((I=$s).sibling=null,I.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(_){}if(mu(e,zi()),Xs)throw Xs=!1,e=Ys,Ys=null,e;return 0!==(8&Os)||Gi(),null}function Ru(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?Ze($s,lu)&&(fu=!0):13===$s.tag&&As(e,$s)&&Ze($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Zs||(Zs=!0,Hi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,Fu)}return!1}function ju(e,t){nu.push(t,e),Zs||(Zs=!0,Hi(97,(function(){return Lu(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Hi(97,(function(){return Lu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(o(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Gi(),!0}function Uu(e,t,n){la(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(la(n,i),i=hu(),null!==(n=vu(n,1)))zt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Ls&n)===n&&(4===Fs||3===Fs&&(62914560&Ls)===Ls&&500>zi()-Ws?Eu(e,0):qs|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===uu&&(uu=Vs),0===(t=Vt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ku(e,t,n,r){return new qu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Qu(n.children,i,a,t);case j:s=8,i|=16;break;case S:s=8,i|=1;break;case _:return(e=Ku(12,n,t,8|i)).elementType=_,e.type=_,e.lanes=a,e;case N:return(e=Ku(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case P:return(e=Ku(19,n,t,i)).elementType=P,e.lanes=a,e;case M:return $u(n,i,a,t);case F:return(e=Ku(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case A:s=9;break e;case C:s=11;break e;case O:s=14;break e;case D:s=16,r=null;break e;case R:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Ku(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Ku(23,e,r,t)).elementType=M,e.lanes=n,e}function Xu(e,t,n){return(e=Ku(6,e,null,t)).lanes=n,e}function Yu(e,t,n){return(t=Ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=ki(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(i,t),pu(i,s,a),s}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Ku(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[Zr]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}Zu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}wu((function(){Zu(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Ho(t),Ha();break;case 5:Ra(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(li(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);li(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),ia(t,n),i=ao(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&va(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Mo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=qo(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ua(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Gr(t.stateNode.containerInfo.firstChild),Fa=t,a=Va=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=_a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Mo(e,t,r,n),Ha();t=t.child}return t;case 5:return Ra(t),null===e&&qa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,qr(r,i)?s=null:null!==a&&qr(r,a)&&(t.flags|=16),zo(e,t),Mo(e,t,s,n),t.child;case 6:return null===e&&qa(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Mo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(li(Yi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=cr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!di.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=ca(-1,n&-n)).tag=2,la(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ra(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Mo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ia(t,n),r=r(i=aa(i,a.unstable_observedBits)),t.flags|=1,Mo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Uo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,ia(t,n),ga(t,r,i),ba(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},rc.prototype.render=function(e){Zu(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zu(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(pu(e,4,hu()),nc(e,4))},tt=function(e){13===e.tag&&(pu(e,67108864,hu()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),nc(e,n)}},rt=function(e,t){return t()},_e=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bu,De=function(e,t,n,r,i){var a=Os;Os|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Os=a)&&(Gs(),Gi())}},Re=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,zi())}))}Gi()}(),Lu())},Le=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Gs(),Gi())}};var sc={Events:[ni,ri,ii,Ne,Pe,Lu,{current:!1}]},uc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{xi=lc.inject(cc),Ii=lc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Os=n,Gi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===s||e===o||e===h||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=y},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+_(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+_(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+_(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function P(){var e=N.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],T=[],A=1,C=null,N=3,P=!1,O=!1,D=!1;function R(e){for(var t=I(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(_,t)}t=I(T)}}function L(e){if(D=!1,R(e),!O)if(null!==I(_))O=!0,n(j);else{var t=I(T);null!==t&&r(L,t.startTime-e)}}function j(e,n){O=!1,D&&(D=!1,i()),P=!0;var a=N;try{for(R(n),C=I(_);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,N=C.priorityLevel;var s=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===I(_)&&E(_),R(n)}else E(_);C=I(_)}if(null!==C)var u=!0;else{var c=I(T);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{C=null,N=a,P=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||P||(O=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return I(_)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:A++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(T,e),null===I(_)&&e===I(T)&&(D?i():D=!0,r(L,o-s))):(e.sortIndex=u,x(_,e),O||P||(O=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".4ef7427d.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="react-typescript-starter:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/team3_Project/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkreact_typescript_starter=self.webpackChunkreact_typescript_starter||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Di},SDK_VERSION:function(){return Ka},_DEFAULT_ENTRY_NAME:function(){return Pa},_addComponent:function(){return La},_addOrOverwriteComponent:function(){return ja},_apps:function(){return Da},_clearComponents:function(){return Va},_components:function(){return Ra},_getProvider:function(){return Fa},_registerComponent:function(){return Ma},_removeServiceInstance:function(){return Ua},deleteApp:function(){return Qa},getApp:function(){return Ha},getApps:function(){return Ga},initializeApp:function(){return Wa},onLog:function(){return Ya},registerVersion:function(){return Xa},setLogLevel:function(){return Ja}});var t,r=n(791),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||u()}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){return function(e){if(Array.isArray(e))return o(e)}(e)||l(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=b();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function I(e,t,n){return I=b()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},I.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},E(e)}function S(e){return a(e)||l(e)||s(e)||u()}function _(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var A,C="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function R(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:R(e);return N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(T({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(C,v),h=e,function(){s.removeEventListener(C,v),h=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=D(y.location,e,n);r&&r(i,e);var a=O(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(u){s.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=D(y.location,e,n);r&&r(i,e);var a=O(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(A||(A={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function M(e,t,n){void 0===n&&(n="/");var r=Y(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=F(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Q(i[o],X(r));return a}function F(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(N(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=te([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),F(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:G(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=_(U(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function U(e){var t=e.split("/");if(0===t.length)return[];var n=S(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=U(i.join("/")),u=[];return u.push.apply(u,f(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,f(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,B=3,z=2,q=1,K=10,W=-2,H=function(e){return"*"===e};function G(e,t){var n=e.split("/"),r=n.length;return n.some(H)&&(r+=W),t&&(r+=z),n.filter((function(e){return!H(e)})).reduce((function(e,t){return e+(V.test(t)?B:""===t?q:K)}),r)}function Q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=$({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:te([i,l.pathname]),pathnameBase:ne(te([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=te([i,l.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);P("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return P(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function X(e){try{return decodeURI(e)}catch(t){return P(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Y(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ee(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(N(!(i=T({},e)).pathname||!i.pathname.includes("?"),J("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),J("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),J("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:re(a),hash:ie(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var te=function(e){return e.join("/").replace(/\/\/+/g,"/")},ne=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},re=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ie=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ae=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(E(Error));function oe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["post","put","patch","delete"],ue=(new Set(se),["get"].concat(se));new Set(ue),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var ce="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},le=r.useState,fe=r.useEffect,he=r.useLayoutEffect,de=r.useDebugValue;function pe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ce(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement;var ve=r.createContext(null);var me=r.createContext(null);var ye=r.createContext(null);var ge=r.createContext(null);var ke=r.createContext(null);var be=r.createContext({outlet:null,matches:[]});var we=r.createContext(null);function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function Ie(){return null!=r.useContext(ke)}function Ee(){return Ie()||N(!1),r.useContext(ke).location}function Se(){Ie()||N(!1);var e=r.useContext(ge),t=e.basename,n=e.navigator,i=r.useContext(be).matches,a=Ee().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase}))),s=r.useRef(!1);r.useEffect((function(){s.current=!0}));var u=r.useCallback((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=ee(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:te([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return u}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(be).matches,a=Ee().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return ee(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Te(){var e=function(){var e,t=r.useContext(we),n=De(Ce.UseRouteError),i=Re(Ce.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=oe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ae,Ce,Ne=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return m(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(be.Provider,{value:this.props.routeContext},r.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Pe(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(ve);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(be.Provider,{value:t},i)}function Oe(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||N(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;n&&(c=o.route.ErrorBoundary?r.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:r.createElement(Te,null));var l=t.concat(i.slice(0,s+1)),f=function(){var t=e;return u?t=c:o.route.Component?t=r.createElement(o.route.Component,null):o.route.element&&(t=o.route.element),r.createElement(Pe,{match:o,routeContext:{outlet:e,matches:l},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===s)?r.createElement(Ne,{location:n.location,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function De(e){var t=r.useContext(me);return t||N(!1),t}function Re(e){var t=function(e){var t=r.useContext(be);return t||N(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||N(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ae||(Ae={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ce||(Ce={}));var Le;function je(e){N(!1)}function Me(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;Ie()&&N(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=L(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,I=void 0===x?null:x,E=v.key,S=void 0===E?"default":E,_=r.useMemo((function(){var e=Y(y,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:I,key:S},navigationType:c}}),[d,y,k,w,I,S,c]);return null==_?null:r.createElement(ge.Provider,{value:p},r.createElement(ke.Provider,{children:o,value:_}))}function Fe(e){var n=e.children,i=e.location,a=r.useContext(ve);return function(e,n){Ie()||N(!1);var i,a=r.useContext(ge).navigator,o=r.useContext(me),s=r.useContext(be).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,Ee());if(n){var h,d="string"===typeof n?L(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||N(!1),i=d}else i=f;var p=i.pathname||"/",v=M(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=Oe(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:te([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:te([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,o||void 0);return n&&m?r.createElement(ke.Provider,{value:{location:xe({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:Ve(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Le||(Le={}));var Ue=new Promise((function(){}));r.Component;function Ve(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(f(t),[i]);if(e.type!==r.Fragment){e.type!==je&&N(!1),e.props.index&&e.props.children&&N(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ve(e.props.children,a)),n.push(o)}else n.push.apply(n,Ve(e.props.children,a))}})),n}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Ke=["aria-current","caseSensitive","className","end","style","to","children"];function We(e){var t=e.basename,n=e.children,i=e.window,a=r.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),j((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:R(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,s=c(r.useState({action:o.action,location:o.location}),2),u=s[0],l=s[1];return r.useLayoutEffect((function(){return o.listen(l)}),[o]),r.createElement(Me,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ge=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=ze(e,qe),d=r.useContext(ge).basename,p=!1;if("string"===typeof l&&Ge.test(l)&&(n=l,He)){var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=Y(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}var g=function(e,t){var n=(void 0===t?{}:t).relative;Ie()||N(!1);var i=r.useContext(ge),a=i.basename,o=i.navigator,s=_e(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:te([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=Se(),l=Ee(),f=_e(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:R(l)===R(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return r.createElement("a",Be({},h,{href:n||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var $e=r.forwardRef((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=ze(e,Ke),v=_e(h,{relative:p.relative}),m=Ee(),y=r.useContext(me),g=r.useContext(ge).navigator,k=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,b=m.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(b=b.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase());var x,I=b===k||!l&&b.startsWith(k)&&"/"===b.charAt(k.length),E=null!=w&&(w===k||!l&&w.startsWith(k)&&"/"===w.charAt(k.length)),S=I?i:void 0;x="function"===typeof u?u({isActive:I,isPending:E}):[u,I?"active":null,E?"pending":null].filter(Boolean).join(" ");var _="function"===typeof f?f({isActive:I,isPending:E}):f;return r.createElement(Qe,Be({},p,{"aria-current":S,className:x,ref:t,style:_,to:h}),"function"===typeof d?d({isActive:I,isPending:E}):d)}));var Xe,Ye;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Xe||(Xe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ye||(Ye={}));var Je=[{title:"Nike mercury",description:"nike mercury 12 limited edition",price:200,stock:94,brand:"nike",category:"sneakers",image:"../src/components/landingpage/lp_images/1.jpg"},{title:"Nike mercury fly",description:"nike mercury fly air jordan",price:200,stock:94,brand:"nike",category:"sneakers",image:"../src/components/landingpage/lp_images/2.jpg"},{title:"Nike lebrons",description:"nike lebrons 2022 fly",price:200,stock:94,brand:"nike",category:"sneakers",image:"../src/components/landingpage/lp_images/3.jpg"},{title:"Nike lebrons",description:"nike lebrons 2023 fly",price:200,stock:94,brand:"nike",category:"sneakers",image:"../src/components/landingpage/lp_images/4.jpg"},{title:"laker jersey",description:"nike lebrons lacker jersey 2022",price:80,stock:94,brand:"nike",category:"jerseys",image:"../src/components/landingpage/lp_images/7.jpg"},{title:"golden state jersey",description:"Steph Curry nike golden state jersey",price:80,stock:94,brand:"nike",category:"jerseys",image:"../src/components/landingpage/lp_images/8.jpg"},{title:"PSG jersey",description:"mbappe jersey",price:80,stock:94,brand:"nike",category:"jerseys",image:"../src/components/landingpage/lp_images/10.jpg"},{title:"Ronaldo jersey",description:"christiano ronaldo jersey",price:80,stock:94,brand:"nike",category:"jerseys",image:"../src/components/landingpage/lp_images/11.jpg"},{title:"Messi jersey",description:"Messi jersey",price:80,stock:94,brand:"addidas",category:"jerseys",image:"../src/components/landingpage/lp_images/12.jpg"}];function Ze(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function rt(e,t){if(null==e)return{};var n,r,i=nt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var it=n(694),at=n.n(it),ot=n(184),st=["as","disabled"];function ut(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var ct=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,st),a=c(ut(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,ot.jsx)(s,Object.assign({},i,o,{ref:t}))}));ct.displayName="Button";var lt=["xxl","xl","lg","md","sm","xs"],ft="xs",ht=r.createContext({prefixes:{},breakpoints:lt,minBreakpoint:ft});ht.Consumer,ht.Provider;function dt(e,t){var n=(0,r.useContext)(ht).prefixes;return e||n[t]||t}function pt(){return(0,r.useContext)(ht).breakpoints}function vt(){return(0,r.useContext)(ht).minBreakpoint}var mt=["as","bsPrefix","variant","size","active","disabled","className"],yt=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,s=e.active,u=void 0!==s&&s,l=e.disabled,f=void 0!==l&&l,h=e.className,d=rt(e,mt),p=dt(r,"btn"),v=c(ut(tt({tagName:n,disabled:f},d)),2),m=v[0],y=v[1].tagName;return(0,ot.jsx)(y,tt(tt(tt({},m),d),{},{ref:t,disabled:f,className:at()(h,p,u&&"active",a&&"".concat(p,"-").concat(a),o&&"".concat(p,"-").concat(o),d.href&&f&&"disabled")}))}));yt.displayName="Button";var gt=yt;ot.Fragment,ot.Fragment;var kt=function(){var e=c((0,r.useState)(Je),2),t=e[0],n=e[1];return(0,ot.jsxs)("div",{className:"container",children:[(0,ot.jsx)("div",{className:"row clearfix",children:(0,ot.jsx)("div",{className:"col-md-12 column",children:(0,ot.jsxs)("table",{className:"table table-bordered table-hover",id:"tab_logic",children:[(0,ot.jsx)("thead",{children:(0,ot.jsxs)("tr",{children:[(0,ot.jsx)("th",{className:"text-center",children:"Product"}),(0,ot.jsx)("th",{className:"text-center",children:"Brand"}),(0,ot.jsx)("th",{className:"text-center",children:"Price"}),(0,ot.jsx)("th",{className:"text-center",children:"Image"}),(0,ot.jsx)("th",{className:"text-center",children:"Stock"}),(0,ot.jsx)("th",{className:"text-center",children:"Category"})]})}),(0,ot.jsxs)("tbody",{children:[(0,ot.jsxs)("tr",{id:"addr0",children:[(0,ot.jsx)("td",{children:"1"}),(0,ot.jsx)("td",{children:(0,ot.jsx)("input",{type:"text",name:"name[]",placeholder:"Enter Product Name",className:"form-control"})}),(0,ot.jsx)("td",{children:(0,ot.jsx)("input",{type:"text",name:"Brand",placeholder:"Enter Brand Name",className:"form-control"})}),(0,ot.jsx)("td",{children:(0,ot.jsx)("input",{type:"number",name:"Price",placeholder:"Enter Price",className:"form-control"})}),(0,ot.jsx)("td",{children:(0,ot.jsx)("input",{type:"number",name:"Stock",placeholder:"Enter Stock",className:"form-control"})}),(0,ot.jsx)("td",{children:(0,ot.jsx)("input",{type:"string",name:"image",placeholder:"Enter image",className:"form-control"})})]}),(0,ot.jsx)("tr",{id:"addr1"}),t.map((function(e){return(0,ot.jsxs)("tr",{children:[(0,ot.jsx)("th",{scope:"row",children:e.title}),(0,ot.jsx)("td",{children:e.brand}),(0,ot.jsx)("td",{children:e.price}),(0,ot.jsx)("td",{children:e.image}),(0,ot.jsx)("td",{children:e.stock}),(0,ot.jsx)("td",{children:e.category})]},1)}))]})]})})}),(0,ot.jsx)(gt,{id:"add_row",className:"btn btn-default pull-left",onClick:function(){n([].concat(f(t),[{title:"name",description:"product",price:13,stock:13,brand:"nike",category:"shoes",image:"url"}]))},children:"Add Row"}),(0,ot.jsx)(gt,{id:"delete_row",className:"pull-right btn btn-default",children:"Delete Row"})]})};var bt=function(){return(0,ot.jsx)("div",{children:(0,ot.jsxs)("table",{className:"table",children:[(0,ot.jsx)("thead",{children:(0,ot.jsxs)("tr",{children:[(0,ot.jsx)("th",{scope:"col",children:"Product Image"}),(0,ot.jsx)("th",{scope:"col",children:"Product"}),(0,ot.jsx)("th",{scope:"col",children:"Price"}),(0,ot.jsx)("th",{scope:"col",children:"Quantity"}),(0,ot.jsx)("th",{scope:"col",children:"Total"})]})}),(0,ot.jsxs)("tbody",{children:[(0,ot.jsxs)("tr",{children:[(0,ot.jsx)("td",{children:(0,ot.jsx)("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAQDxUSEBIQEBAOEA8SEBARFhUSEBYSFREWFhUVFRUYHSggGBolHRUXIzEiJSkrLi4uFx8zODMtNygtLisBCgoKDQ0OFRAPFSsZFRotLS0tKysuKysrKysrLSstLS0tKy0tLSsrKys3KystKystKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAAAQIDBAYHBQj/xAA9EAACAQICBwYDBgUDBQAAAAAAAQIDEQQhBQYSMUFRYQcUInGBkRMyoVKCscHR8CNCYnKiQ+HxFTNjstL/xAAXAQEBAQEAAAAAAAAAAAAAAAAAAQID/8QAHBEBAQACAwEBAAAAAAAAAAAAAAECESExQRJh/9oADAMBAAIRAxEAPwDuIAAAAAAAIZBLIAAAAAAAAAHNu07XCVF92w03GazrVIO0o8oJrc+fsbdrhp6OBwkqrttvw0o8XNrL23s+c8fi6lScpzltSm3KTe9t7zeGPtZtbTojtJx+GdpT7zTW+FbOVuk9/vc6Tqz2lYHF2hOXdqzstiq0oN8oz3e9j58nV9ChyNXGU2+u0wfOWqPaJi8BaDbr4df6M3nFcoSfy+W47lqvrVhNI09rDzTlFLbpSyqwfWPLqsjnZpdvbJRBKIqQAAAAAAAAAAAAAAAAABDIJZAAAAAAADBqnaTrB3LAvZdq2IbpUuaum5S9F9WhORzDtN1j73i3GDvRw94Q5OV/HL1a+ho1WZeqyMOpI79cMKJ5lltrqvqVuRbkzKo27mRo/SNXD1Y1aFSVKpB3jOLs/J810ZhyRG1zA+g+z7tOpY7Zw+K2aOLeUXupVf7Xwl/T7HRkz45i2ndNpppprJprc0+DO/dj+udXHU5YfEJyq4aEZKtwlC9rS/qX1MWLt0oAGVAAAAAAAAAAAAAAAAQyCWQAAAAAADgXanpzvWPlGLvTwt6UOW1/O/fL0Oy63aWWDwNavxhBqC51JeGC92j5mq1W223dttt8W3m2zeE9ZpKuo74qXnf8jIqYOnOKtJRnJNpXey7crnl1JFMcU45ZNJ3SlnZ9ORb+LGRPR9RJt7OV3a+djElTTaUb7k3d33q++yJqYiTltuWb4J8/wL+EpxqScGnfZyd8k0lwJujBIZdr4eUH4k114e5biiwXcNRlOSjFOUpNRilvbbskuZ9Ndneq0dG4NQaXx6tp15f1Wyj5Lcc97FtUPiT7/Wj4KTaw6e5z4z8lw6nbEZypEgAyoAAAAAAAAAAAAAAACGQSyAAAAAADlnbnpXZpUcMn88nVmukU1D6tnF6kzce1PSneNJ1bO8aNqUfu7/q2aTUkdJxGVE5FthspbKqGXqGIcW39rfbJ+jLIMj0HpC8VFxco8dp3drcz0NUNXp6QxcKFO6Unec7fJTT8Un1tu6nhRR9IdlWqawGDU6kbYnEpTqX3xjbww6deovA2/R2Cp4ejCjSjs06UVGEei/MyUQSjCpAAAAAAAAAAAAAAAAAAEMglkAAAAMTS+Mjh8PVrS3UaVSb+7FsyzSO2HSPwdGSgnaWJnCn91Pal/wCqXqIjgGOxDnOU5O8pylKT6t3f4mDNl2rIx5M6pFNylksgyoipFKPR0Joypiq8KNJbU6slGK/Fvoln6Fg3nsd1S73ie8VY3oYWSaTWU6u+K6pb/Y+gTzNWtC08DhKeHpLKlHxS4ym85SfVv8j0zFu1CUQSiCQAAAAAAAAAAAAAAAAABDIJZAAAADjPbrpG9ejQT/7UHOS6ydl9EdmPmftG0l3jSWImneMajpx8qfh/FP3NY9pWqVGWZMuVGWmbqRDAJSMqqhE7r2Jaq/CovHVY+OunGgms1SvnL7zWXTzOZ9nurEtIYyNNp/Ch460uUE91+u4+nKNKMIqMUoxglGKW5JZJIZXwisAGFCUQSgJAAAAAAAAAAAAAAAAAAEMglkAAABgafx6w2ErV3/o0ak15qLsvex8pYqbcm27tttvq953/ALZtJfC0b8NO0sTUjD7sXtS/BHz3WZvHpmrMy2yqRSWhYu0YXZQkb/2R6td8xynNXo4W1SfJyv4I+6v6DodY7LtWO4YFOatiMTapV5pW8EPRfVs3IA5tAAAEoglASAAAAAAAAAAAAAAAAAAIZBLIAAFjH4uFClOrUdoUoSnJ9Iq7A4n236W+JjIUE8sNT8X988/wt7nL6h6Wm9JTxOIqV6nzVpym1yu8l6Ky9Dy5s6zhlbZCAQF2jC7sfTfZrq93DR8IyS+NW/i1nx2pLKPorL35nFuyrQHfNIwUlelh/wCNV5Wi/CvV2PpMxlfFgADKgAAEoglASAAAAAAAAAAAAAAAAAAIZBLIAHL+2zWP4VCODpvx4i06tuFNPJer/A6TjsXCjTlUm7Rgr+fRHGNZKsMXVlOtGE3J3V1ey4JPehLqpXLKjLMmbpU0Nh75U/O8p/8A0Y9TRGG4Q/yn+pv7iaagVQRtP/RqH2P8pfqejo3QlBzUVSg3JxSveW924k+4rpXYnoT4GAdeS/iYyW1f/wAUbqC9fE/U6IY+j8LGjRhTilGNOEYpLJKy5GQZqgAAAAASiCUBIAAAAAAAAAAAAAAAAAAhlFSaim5NJJXbe5IrZoGuusG03RpPwQfjadtqXK/JE2PP1u1jeInswv8ACg8lzf2n+hp+InnusuhXiKyvz8t30MOVT389xAcl7Z3LNWpcqlOy6+ZZ2r77/QIqilfdY2XU2h8TGUVw20/bNms0kbj2dJd/p8cqno9hgdfABpQAAAAAJRBKAkAAAAAAAAAAAAAAAAAAeNrZpHu+FnJfNK0I+b/2OPV8VKT45X5fU6n2h4aU8E3BXdOcZtdM0/xOPyk+K9+BKFd/t7jEci7OV+N/Wxbk8v2yIstu++yKlK/L6FM45fpvJ2bcwLkF6r2No1Kxap4yk3ktvZf3lb8zV4L9tGfg5uM00s01Z+oH0CDB0LjVXw8KnGUVtf3LJr3M40oAAAAAEoglASAAAAAAAAAAAAAAAAAAKKsFJNSV00009zTOYa2aiTjJ1cMnOnm3TXzx8uaOosgD5zr0JRbumrZWeTLV3yO7ad1Xw2LT247FThUhlL1XE5drJqjXwkrtfEg3lUje3ryZEay1bjYK7KpU2iLeStwIK4ppfn+2X8NNLL6/8mM/ryzK6N1nkB1Ls20jlKhLj44ea+Ze1vY3s4lq9pB0q0KibvGSdum5o7Thq0akIzjmpJNepYq4ACgAABKIJQEgAAAAAAAAAAAAAAAAACGQSyABRWpRnFxklKMlZpq6ZWAOX656mfBTrUE5Uv5o73D9YmgVqbi/yPo6STVnmnk091upynXvVbu8vi0k/g1Hu+xLl5ERot7Pk9xXDJ3/ANiJNp7vNi+7IDPw00nly9DompesChFUqrtB/LL7L4ryOa0X+956WFxFrZ7mB3OMk1dZp7mScv0VrBWpK0Ju32XnH2e42LCa5cKtNecHb6P9RtW3A83Aadw9Z2jK0n/LLJ+nM9IoEoglASAAAAAAAAAAAAAAAAAAIZBLIAAAAY+kMHCvSlSmrxqRaf5NdU8zIAHAdM4KVCrOlJeKnJxb59fVHmp9Dp/aVq3UqNYmhBzkls1YRV5WW6SS3nLqsrO0rqSeaeVvNERcp1M8+tuRfp17ZreYLqZ3X6Il1rccwPWp4prc7t8XvL8dIW3vJcTxKbc8opyb+ym39D18Bq5javyYetnxlHYj/lYC/DSDfFp3vvt7HYdWcXKtg6VSecpRab52k1f6HPtE9nOJk0604UY8Untz/RHTMBhIUaUaUMoU4qMeeXF9RFZBKIJRRIAAAAAAAAAAAAAAAAAAhkAAAAAAABbzQtft/oAEc8fzr0Pf0H83qAB0zQ/yryPWAAgABQlAASAAAAAAAAAAP//Z",alt:"sports socks"})}),(0,ot.jsx)("th",{scope:"row",children:"Sports Socks"}),(0,ot.jsx)("td",{children:"$12.99"}),(0,ot.jsx)("td",{children:"1"}),(0,ot.jsx)("td",{children:"$12.99"})]}),(0,ot.jsxs)("tr",{children:[(0,ot.jsx)("td",{children:(0,ot.jsx)("img",{src:"https://m.media-amazon.com/images/I/91A3+NX-jkL._CR0,1171,943,943_UX256.jpg",alt:"t shirt"})}),(0,ot.jsx)("th",{scope:"row",children:"Adidas T-Shirt"}),(0,ot.jsx)("td",{children:"$24.99"}),(0,ot.jsx)("td",{children:"2"}),(0,ot.jsx)("td",{children:"$49.98"})]}),(0,ot.jsxs)("tr",{children:[(0,ot.jsx)("td",{children:(0,ot.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0479/0596/4199/products/1507162_6350_1-summer-walk-shorts-m-phantom-8_256x.jpg?v=1681841030",alt:"Shorts"})}),(0,ot.jsx)("th",{scope:"row",children:"Champion Shorts"}),(0,ot.jsx)("td",{children:"$19.99"}),(0,ot.jsx)("td",{children:"3"}),(0,ot.jsx)("td",{children:"$59.97"})]}),(0,ot.jsx)("div",{className:"checkoutCart",children:(0,ot.jsx)("button",{type:"button",className:"btn btn-light btn-lg",children:"CHECKOUT \ud83d\uded2"})})]})]})})},wt=/-(.)/g;var xt=["className","bsPrefix","as"],It=function(e){return e[0].toUpperCase()+(t=e,t.replace(wt,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?It(e):n,a=t.Component,o=t.defaultProps,s=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,s=t.as,u=void 0===s?a||"div":s,c=rt(t,xt),l=tt(tt({},o),c),f=dt(i,e);return(0,ot.jsx)(u,tt({ref:n,className:at()(r,f)},l))}));return s.displayName=i,s}var St=function(e){return r.forwardRef((function(t,n){return(0,ot.jsx)("div",tt(tt({},t),{},{ref:n,className:at()(t.className,e)}))}))},_t=["bsPrefix","className","variant","as"],Tt=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,s=rt(e,_t),u=dt(n,"card-img");return(0,ot.jsx)(o,tt({ref:t,className:at()(i?"".concat(u,"-").concat(i):u,r)},s))}));Tt.displayName="CardImg";var At=Tt,Ct=r.createContext(null);Ct.displayName="CardHeaderContext";var Nt=Ct,Pt=["bsPrefix","className","as"],Ot=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,s=rt(e,Pt),u=dt(n,"card-header"),c=(0,r.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,ot.jsx)(Nt.Provider,{value:c,children:(0,ot.jsx)(o,tt(tt({ref:t},s),{},{className:at()(i,u)}))})}));Ot.displayName="CardHeader";var Dt=Ot,Rt=["bsPrefix","className","bg","text","border","body","children","as"],Lt=St("h5"),jt=St("h6"),Mt=Et("card-body"),Ft=Et("card-title",{Component:Lt}),Ut=Et("card-subtitle",{Component:jt}),Vt=Et("card-link",{Component:"a"}),Bt=Et("card-text",{Component:"p"}),zt=Et("card-footer"),qt=Et("card-img-overlay"),Kt=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,s=e.body,u=void 0!==s&&s,c=e.children,l=e.as,f=void 0===l?"div":l,h=rt(e,Rt),d=dt(n,"card");return(0,ot.jsx)(f,tt(tt({ref:t},h),{},{className:at()(r,d,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,ot.jsx)(Mt,{children:c}):c}))}));Kt.displayName="Card";var Wt=Object.assign(Kt,{Img:At,Title:Ft,Subtitle:Ut,Body:Mt,Link:Vt,Text:Bt,Header:Dt,Footer:zt,ImgOverlay:qt});function Ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ft,r=[];return Object.entries(e).forEach((function(e){var i=c(e,2),a=i[0],o=i[1];null!=o&&("object"===typeof o?t.forEach((function(e){var t=o[e];if(null!=t){var i=e!==n?"-".concat(e):"";r.push("".concat(a).concat(i,"-").concat(t))}})):r.push("".concat(a,"-").concat(o)))})),r}var Gt=["as","bsPrefix","className","direction","gap"],Qt=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=e.direction,s=e.gap,u=rt(e,Gt);i=dt(i,"horizontal"===o?"hstack":"vstack");var c=pt(),l=vt();return(0,ot.jsx)(r,tt(tt({},u),{},{ref:t,className:at().apply(void 0,[a,i].concat(f(Ht({gap:s},c,l))))}))}));Qt.displayName="Stack";var $t=Qt;var Xt=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function Yt(e){var t=Xt(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var Jt=function(e,t){var n=(0,r.useRef)(!0);(0,r.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)};function Zt(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}var en=Math.pow(2,31)-1;function tn(e,t,n){var r=n-Date.now();e.current=r<=en?setTimeout(t,r):setTimeout((function(){return tn(e,t,n)}),en)}function nn(){var e=function(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}(),t=(0,r.useRef)();return Zt((function(){return clearTimeout(t.current)})),(0,r.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(n(),i<=en?t.current=setTimeout(r,i):tn(t,r,Date.now()+i))},clear:n}}),[])}var rn="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||rn?r.useLayoutEffect:r.useEffect,new WeakMap;var an=["onKeyDown"];var on=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,an),a=c(ut(Object.assign({tagName:"a"},i)),1)[0],o=Yt((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,ot.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,ot.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));on.displayName="Anchor";var sn=on;function un(){return un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},un.apply(this,arguments)}n(176);function cn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ln(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function fn(e,t){return Object.keys(t).reduce((function(n,i){var a,o=n,s=o[cn(i)],u=o[i],c=nt(o,[cn(i),i].map(ln)),l=t[i],f=function(e,t,n){var i=(0,r.useRef)(void 0!==e),a=(0,r.useState)(t),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==t&&s(t),[u?e:o,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}(u,s,e[l]),h=f[0],d=f[1];return un({},c,((a={})[i]=h,a[l]=d,a))}),e)}function hn(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function dn(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function pn(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}hn.__suppressDeprecationWarning=!0,dn.__suppressDeprecationWarning=!0,pn.__suppressDeprecationWarning=!0;var vn=Et("carousel-caption"),mn=["as","bsPrefix","className"],yn=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=rt(e,mn),s=at()(a,dt(i,"carousel-item"));return(0,ot.jsx)(r,tt(tt({ref:t},o),{},{className:s}))}));yn.displayName="CarouselItem";var gn=yn;function kn(e,t){var n=0;return r.Children.map(e,(function(e){return r.isValidElement(e)?t(e,n++):e}))}function bn(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var wn=/([A-Z])/g;var xn=/^ms-/;function In(e){return function(e){return e.replace(wn,"-$1").toLowerCase()}(e).replace(xn,"-ms-")}var En=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Sn=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(In(t))||function(e,t){return bn(e).getComputedStyle(e,t)}(e).getPropertyValue(In(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!En.test(e))}(i)?n+=In(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(In(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},_n=!("undefined"===typeof window||!window.document||!window.document.createElement),Tn=!1,An=!1;try{var Cn={get passive(){return Tn=!0},get once(){return An=Tn=!0}};_n&&(window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,!0))}catch(RF){}var Nn=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!An){var i=r.once,a=r.capture,o=n;!An&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Tn?r:a)}e.addEventListener(t,n,r)};var Pn=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var On=function(e,t,n,r){return Nn(e,t,n,r),function(){Pn(e,t,n,r)}};function Dn(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=On(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Rn(e,t,n,r){null==n&&(n=function(e){var t=Sn(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Dn(e,n,r),a=On(e,"transitionend",t);return function(){i(),a()}}function Ln(e,t){var n=Sn(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function jn(e,t){var n=Ln(e,"transitionDuration"),r=Ln(e,"transitionDelay"),i=Rn(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Mn=!1,Fn=r.createContext(null),Un="unmounted",Vn="exited",Bn="entering",zn="entered",qn="exiting",Kn=function(e){var t,n;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Vn,r.appearStatus=Bn):i=zn:i=t.unmountOnExit||t.mountOnEnter?Un:Vn,r.state={status:i},r.nextCallback=null,r}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Un?{status:Vn}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Bn&&n!==zn&&(t=Bn):n!==Bn&&n!==zn||(t=qn)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Bn){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vn&&this.setState({status:Un})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],s=a[1],u=this.getTimeouts(),c=r?u.appear:u.enter;!e&&!n||Mn?this.safeSetState({status:zn},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Bn},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:zn},(function(){t.props.onEntered(o,s)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!Mn?(this.props.onExit(r),this.safeSetState({status:qn},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Vn},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Vn},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===Un)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,nt(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(Fn.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},a}(r.Component);function Wn(){}Kn.contextType=Fn,Kn.propTypes={},Kn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wn,onEntering:Wn,onEntered:Wn,onExit:Wn,onExiting:Wn,onExited:Wn},Kn.UNMOUNTED=Un,Kn.EXITED=Vn,Kn.ENTERING=Bn,Kn.ENTERED=zn,Kn.EXITING=qn;var Hn=Kn,Gn=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Qn=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=Gn(e),r=Gn(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};var $n=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Xn=r.forwardRef((function(e,t){var n=e.onEnter,a=e.onEntering,o=e.onEntered,s=e.onExit,u=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=rt(e,$n),p=(0,r.useRef)(null),v=Qn(p,h),m=function(e){var t;v((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},g=(0,r.useCallback)(y(n),[n]),k=(0,r.useCallback)(y(a),[a]),b=(0,r.useCallback)(y(o),[o]),w=(0,r.useCallback)(y(s),[s]),x=(0,r.useCallback)(y(u),[u]),I=(0,r.useCallback)(y(c),[c]),E=(0,r.useCallback)(y(l),[l]);return(0,ot.jsx)(Hn,tt(tt({ref:t},d),{},{onEnter:g,onEntered:b,onEntering:k,onExit:w,onExited:I,onExiting:x,addEndListener:E,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,tt(tt({},t),{},{ref:m}))}:r.cloneElement(f,{ref:m})}))})),Yn=Xn,Jn=["defaultActiveIndex"],Zn=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"];var er=r.forwardRef((function(e,t){var n=e.defaultActiveIndex,i=fn(tt({defaultActiveIndex:void 0===n?0:n},rt(e,Jn)),{activeIndex:"onSelect"}),a=i.as,o=void 0===a?"div":a,s=i.bsPrefix,u=i.slide,l=void 0===u||u,f=i.fade,h=void 0!==f&&f,d=i.controls,p=void 0===d||d,v=i.indicators,m=void 0===v||v,y=i.indicatorLabels,g=void 0===y?[]:y,k=i.activeIndex,b=i.onSelect,w=i.onSlide,x=i.onSlid,I=i.interval,E=void 0===I?5e3:I,S=i.keyboard,_=void 0===S||S,T=i.onKeyDown,A=i.pause,C=void 0===A?"hover":A,N=i.onMouseOver,P=i.onMouseOut,O=i.wrap,D=void 0===O||O,R=i.touch,L=void 0===R||R,j=i.onTouchStart,M=i.onTouchMove,F=i.onTouchEnd,U=i.prevIcon,V=void 0===U?(0,ot.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}):U,B=i.prevLabel,z=void 0===B?"Previous":B,q=i.nextIcon,K=void 0===q?(0,ot.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}):q,W=i.nextLabel,H=void 0===W?"Next":W,G=i.variant,Q=i.className,$=i.children,X=rt(i,Zn),Y=dt(s,"carousel"),J="rtl"===(0,r.useContext)(ht).dir,Z=(0,r.useRef)(null),ee=c((0,r.useState)("next"),2),te=ee[0],ne=ee[1],re=c((0,r.useState)(!1),2),ie=re[0],ae=re[1],oe=c((0,r.useState)(!1),2),se=oe[0],ue=oe[1],ce=c((0,r.useState)(k||0),2),le=ce[0],fe=ce[1];(0,r.useEffect)((function(){se||k===le||(Z.current?ne(Z.current):ne((k||0)>le?"next":"prev"),l&&ue(!0),fe(k||0))}),[k,se,le,l]),(0,r.useEffect)((function(){Z.current&&(Z.current=null)}));var he,de=0;!function(e,t){var n=0;r.Children.forEach(e,(function(e){r.isValidElement(e)&&t(e,n++)}))}($,(function(e,t){++de,t===k&&(he=e.props.interval)}));var pe=Xt(he),ve=(0,r.useCallback)((function(e){if(!se){var t=le-1;if(t<0){if(!D)return;t=de-1}Z.current="prev",null==b||b(t,e)}}),[se,le,b,D,de]),me=Yt((function(e){if(!se){var t=le+1;if(t>=de){if(!D)return;t=0}Z.current="next",null==b||b(t,e)}})),ye=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{element:ye.current,prev:ve,next:me}}));var ge=Yt((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ye.current)&&(J?ve():me())})),ke="next"===te?"start":"end";Jt((function(){l||(null==w||w(le,ke),null==x||x(le,ke))}),[le]);var be="".concat(Y,"-item-").concat(te),we="".concat(Y,"-item-").concat(ke),xe=(0,r.useCallback)((function(e){!function(e){e.offsetHeight}(e),null==w||w(le,ke)}),[w,le,ke]),Ie=(0,r.useCallback)((function(){ue(!1),null==x||x(le,ke)}),[x,le,ke]),Ee=(0,r.useCallback)((function(e){if(_&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(J?me(e):ve(e));case"ArrowRight":return e.preventDefault(),void(J?ve(e):me(e))}null==T||T(e)}),[_,T,ve,me,J]),Se=(0,r.useCallback)((function(e){"hover"===C&&ae(!0),null==N||N(e)}),[C,N]),_e=(0,r.useCallback)((function(e){ae(!1),null==P||P(e)}),[P]),Te=(0,r.useRef)(0),Ae=(0,r.useRef)(0),Ce=nn(),Ne=(0,r.useCallback)((function(e){Te.current=e.touches[0].clientX,Ae.current=0,"hover"===C&&ae(!0),null==j||j(e)}),[C,j]),Pe=(0,r.useCallback)((function(e){e.touches&&e.touches.length>1?Ae.current=0:Ae.current=e.touches[0].clientX-Te.current,null==M||M(e)}),[M]),Oe=(0,r.useCallback)((function(e){if(L){var t=Ae.current;Math.abs(t)>40&&(t>0?ve(e):me(e))}"hover"===C&&Ce.set((function(){ae(!1)}),E||void 0),null==F||F(e)}),[L,C,ve,me,Ce,E,F]),De=null!=E&&!ie&&!se,Re=(0,r.useRef)();(0,r.useEffect)((function(){var e,t;if(De){var n=J?ve:me;return Re.current=window.setInterval(document.visibilityState?ge:n,null!=(e=null!=(t=pe.current)?t:E)?e:void 0),function(){null!==Re.current&&clearInterval(Re.current)}}}),[De,ve,me,pe,E,ge,J]);var Le=(0,r.useMemo)((function(){return m&&Array.from({length:de},(function(e,t){return function(e){null==b||b(t,e)}}))}),[m,de,b]);return(0,ot.jsxs)(o,tt(tt({ref:ye},X),{},{onKeyDown:Ee,onMouseOver:Se,onMouseOut:_e,onTouchStart:Ne,onTouchMove:Pe,onTouchEnd:Oe,className:at()(Q,Y,l&&"slide",h&&"".concat(Y,"-fade"),G&&"".concat(Y,"-").concat(G)),children:[m&&(0,ot.jsx)("div",{className:"".concat(Y,"-indicators"),children:kn($,(function(e,t){return(0,ot.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=g&&g.length?g[t]:"Slide ".concat(t+1),className:t===le?"active":void 0,onClick:Le?Le[t]:void 0,"aria-current":t===le},t)}))}),(0,ot.jsx)("div",{className:"".concat(Y,"-inner"),children:kn($,(function(e,t){var n=t===le;return l?(0,ot.jsx)(Yn,{in:n,onEnter:n?xe:void 0,onEntered:n?Ie:void 0,addEndListener:jn,children:function(t,i){return r.cloneElement(e,tt(tt({},i),{},{className:at()(e.props.className,n&&"entered"!==t&&be,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&we)}))}}):r.cloneElement(e,{className:at()(e.props.className,n&&"active")})}))}),p&&(0,ot.jsxs)(ot.Fragment,{children:[(D||0!==k)&&(0,ot.jsxs)(sn,{className:"".concat(Y,"-control-prev"),onClick:ve,children:[V,z&&(0,ot.jsx)("span",{className:"visually-hidden",children:z})]}),(D||k!==de-1)&&(0,ot.jsxs)(sn,{className:"".concat(Y,"-control-next"),onClick:me,children:[K,H&&(0,ot.jsx)("span",{className:"visually-hidden",children:H})]})]})]}))}));er.displayName="Carousel";var tr=Object.assign(er,{Caption:vn,Item:gn}),nr=n.p+"static/media/1.66cd563db11a7a4a381a.jpg",rr=n.p+"static/media/2.4d1ee163523795fe9b14.jpg",ir=n.p+"static/media/3.23ca51ec2739f10d081e.jpg",ar=n.p+"static/media/4.b8d92ea2428c26a242fa.jpg",or=n.p+"static/media/5.c836ac669f447c167c01.jpg",sr=n.p+"static/media/6.d8c0361bb1408e3715e6.jpg",ur=n.p+"static/media/7.1b3640a4910982cd12a4.jpg",cr=n.p+"static/media/8.b172dec58f3a881e8c43.jpg",lr=n.p+"static/media/9.08a8fe748e7538634322.jpg",fr=n.p+"static/media/10.d5ec339534b5beca4503.jpg",hr=n.p+"static/media/11.4b3e9afe6bbf09734e90.jpg",dr=n.p+"static/media/12.88e7f184ede4c8f08a27.jpg",pr=n.p+"static/media/13.fdd8d14eaa378c19fd9a.jpg",vr=n.p+"static/media/14.10a8608786e01de02504.jpg",mr=n.p+"static/media/15.2e82f1720d88adc10291.jpg",yr=n.p+"static/media/16.be29d98a58a6428c961e.jpg",gr=n.p+"static/media/17.98178ea394ba415947a4.jpg",kr=n.p+"static/media/18.4dd8446299cc83f635b8.jpg";var br=function(e){var t=Se();return(0,ot.jsxs)("div",{className:"Productview",children:[(0,ot.jsx)("div",{className:"leftColumn",children:(0,ot.jsx)("img",{src:e.imge,className:"imageDimension"})}),(0,ot.jsxs)("div",{className:"rightColumn",children:[(0,ot.jsxs)("div",{className:"productNameArea",children:[(0,ot.jsx)("h1",{className:"productName",children:e.name}),(0,ot.jsx)("div",{className:"productPriceArea",children:(0,ot.jsx)("h5",{className:"productPrice",children:e.price})}),(0,ot.jsx)("div",{className:"sizeWord",children:(0,ot.jsx)("h3",{children:"SIZES"})}),(0,ot.jsxs)("div",{className:"genderChoiceArea",children:[(0,ot.jsx)("button",{className:"btn btn-outline-primary me-3","aria-pressed":"true",children:"male"}),(0,ot.jsx)("button",{className:"btn btn-outline-primary","aria-pressed":"true",children:"Female"})]}),(0,ot.jsx)("div",{className:"sizeOptions",children:(0,ot.jsxs)("table",{className:"table",children:[(0,ot.jsx)("thead",{children:(0,ot.jsx)("tr",{children:(0,ot.jsx)("th",{scope:"col",children:"Men shoes Size"})})}),(0,ot.jsxs)("tbody",{children:[(0,ot.jsxs)("tr",{children:[(0,ot.jsx)("th",{scope:"row",children:"USA"}),(0,ot.jsx)("td",{children:"7"}),(0,ot.jsx)("td",{children:"7.5"}),(0,ot.jsx)("td",{children:"8"}),(0,ot.jsx)("td",{children:"8.5"}),(0,ot.jsx)("td",{children:"9"}),(0,ot.jsx)("td",{children:"10"}),(0,ot.jsx)("td",{children:"10.5"})]}),(0,ot.jsxs)("tr",{children:[(0,ot.jsx)("th",{scope:"row",children:"UK"}),(0,ot.jsx)("td",{children:"6"}),(0,ot.jsx)("td",{children:"6.5"}),(0,ot.jsx)("td",{children:"7"}),(0,ot.jsx)("td",{children:"7.5"}),(0,ot.jsx)("td",{children:"8"}),(0,ot.jsx)("td",{children:"9"}),(0,ot.jsx)("td",{children:"9.5"})]}),(0,ot.jsxs)("tr",{children:[(0,ot.jsx)("th",{scope:"row",children:"EUR"}),(0,ot.jsx)("td",{children:"40"}),(0,ot.jsx)("td",{children:"40.5"}),(0,ot.jsx)("td",{children:"41"}),(0,ot.jsx)("td",{children:"41.5"}),(0,ot.jsx)("td",{children:"42.5"}),(0,ot.jsx)("td",{children:"44"}),(0,ot.jsx)("td",{children:"44.5"})]})]})]})})]}),(0,ot.jsx)("div",{className:"userSelectedSize"}),(0,ot.jsx)("div",{className:"addcart",children:(0,ot.jsx)("button",{type:"button",className:"btn btn-dark btn-lg",onClick:function(){return t("/checkout")},children:"ADD TO CART \ud83d\uded2"})})]})]})};var wr=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,ot.jsxs)("div",{children:[(0,ot.jsx)("h1",{className:"landing-title",children:"Shop All"}),(0,ot.jsxs)(tr,{className:"carousel-wrapper",children:[(0,ot.jsx)(tr.Item,{className:"carousel-items",children:(0,ot.jsxs)($t,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:3,children:[(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:ur}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",onClick:function(){return n(!t)},children:"PRODUCT VIEW TEST BUTTON"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Los Angeles Lakers LeBron James Gold Jersey"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$110"})]})]}),(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:cr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Stephen Curry Nike Swingman Jersey"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$150"})]})]}),(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:lr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Giannis Antetokounmpo Hunter Green Jersey"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$120"})]})]})]})}),(0,ot.jsx)(tr.Item,{className:"carousel-items",children:(0,ot.jsxs)($t,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:3,children:[(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:fr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Mbapp\xe9 Paris Saint-Germain Soccer Jersey"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$145"})]})]}),(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:hr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Al Nassr Ronaldo Home Jersey"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$7"})]})]}),(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:dr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"adidas Argentina Lionel Messi Jersey"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$150"})]})]})]})})]}),(0,ot.jsxs)(tr,{className:"carousel-wrapper",children:[(0,ot.jsx)(tr.Item,{className:"carousel-items",children:(0,ot.jsxs)($t,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:3,children:[(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:nr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Luka 1"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$110"})]})]}),(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:rr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Zoom Freak 4"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$130"})]})]}),(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:ir}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Giannis Immortality 2"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$85"})]})]})]})}),(0,ot.jsx)(tr.Item,{className:"carousel-items",children:(0,ot.jsxs)($t,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:3,children:[(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:ar}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Lebron Witness 6"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$90"})]})]}),(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:or}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Air Jordan XXXVII SP"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$140"})]})]}),(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:sr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Nike Renew Elevate 3"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$70"})]})]})]})})]}),(0,ot.jsxs)(tr,{className:"carousel-wrapper",children:[(0,ot.jsx)(tr.Item,{className:"carousel-items",children:(0,ot.jsxs)($t,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:3,children:[(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:pr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Mountain Bike"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$299.99"})]})]}),(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:vr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Everlast Boxing Gloves"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$69.99"})]})]}),(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:mr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Nike Vapor Football Gloves"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$50.00"})]})]})]})}),(0,ot.jsx)(tr.Item,{className:"carousel-items",children:(0,ot.jsxs)($t,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:3,children:[(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:yr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Arm Sleeve"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$30"})]})]}),(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:gr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"adidas Knee Pads "})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$30.00"})]})]}),(0,ot.jsxs)(Wt,{className:"card",children:[(0,ot.jsxs)("div",{className:"card-img-wrapper",children:[(0,ot.jsx)(Wt.Img,{className:"card-img",src:kr}),(0,ot.jsx)("div",{className:"overlay",children:(0,ot.jsx)(gt,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,ot.jsxs)(Wt.Body,{className:"card-details",children:[(0,ot.jsx)(Wt.Text,{className:"product-type",children:(0,ot.jsx)("a",{children:"Tennis Racquet"})}),(0,ot.jsx)(Wt.Text,{className:"product-price",children:"$24.99"})]})]})]})})]}),1==t?(0,ot.jsx)(br,{name:"bobs",price:44,imge:ur}):null]})},xr=n(7),Ir=n.n(xr),Er=["as","className","type","tooltip"],Sr={type:Ir().string,tooltip:Ir().bool,as:Ir().elementType},_r=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,u=void 0!==s&&s,c=rt(e,Er);return(0,ot.jsx)(r,tt(tt({},c),{},{ref:t,className:at()(i,"".concat(o,"-").concat(u?"tooltip":"feedback"))}))}));_r.displayName="Feedback",_r.propTypes=Sr;var Tr=_r,Ar=r.createContext({}),Cr=["id","bsPrefix","className","type","isValid","isInvalid","as"],Nr=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.className,o=e.type,s=void 0===o?"checkbox":o,u=e.isValid,c=void 0!==u&&u,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,p=rt(e,Cr),v=(0,r.useContext)(Ar).controlId;return i=dt(i,"form-check-input"),(0,ot.jsx)(d,tt(tt({},p),{},{ref:t,type:s,id:n||v,className:at()(a,i,c&&"is-valid",f&&"is-invalid")}))}));Nr.displayName="FormCheckInput";var Pr=Nr,Or=["bsPrefix","className","htmlFor"],Dr=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.htmlFor,o=rt(e,Or),s=(0,r.useContext)(Ar).controlId;return n=dt(n,"form-check-label"),(0,ot.jsx)("label",tt(tt({},o),{},{ref:t,htmlFor:a||s,className:at()(i,n)}))}));Dr.displayName="FormCheckLabel";var Rr=Dr,Lr=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],jr=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,s=void 0!==o&&o,u=e.reverse,c=void 0!==u&&u,l=e.disabled,f=void 0!==l&&l,h=e.isValid,d=void 0!==h&&h,p=e.isInvalid,v=void 0!==p&&p,m=e.feedbackTooltip,y=void 0!==m&&m,g=e.feedback,k=e.feedbackType,b=e.className,w=e.style,x=e.title,I=void 0===x?"":x,E=e.type,S=void 0===E?"checkbox":E,_=e.label,T=e.children,A=e.as,C=void 0===A?"input":A,N=rt(e,Lr);i=dt(i,"form-check"),a=dt(a,"form-switch");var P=(0,r.useContext)(Ar).controlId,O=(0,r.useMemo)((function(){return{controlId:n||P}}),[P,n]),D=!T&&null!=_&&!1!==_||function(e,t){return r.Children.toArray(e).some((function(e){return r.isValidElement(e)&&e.type===t}))}(T,Rr),R=(0,ot.jsx)(Pr,tt(tt({},N),{},{type:"switch"===S?"checkbox":S,ref:t,isValid:d,isInvalid:v,disabled:f,as:C}));return(0,ot.jsx)(Ar.Provider,{value:O,children:(0,ot.jsx)("div",{style:w,className:at()(b,D&&i,s&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===S&&a),children:T||(0,ot.jsxs)(ot.Fragment,{children:[R,D&&(0,ot.jsx)(Rr,{title:I,children:_}),g&&(0,ot.jsx)(Tr,{type:k,tooltip:y,children:g})]})})})}));jr.displayName="FormCheck";var Mr=Object.assign(jr,{Input:Pr,Label:Rr}),Fr=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),Ur=r.forwardRef((function(e,t){var n,i,a=e.bsPrefix,o=e.type,s=e.size,u=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,p=void 0!==d&&d,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,k=rt(e,Fr),b=(0,r.useContext)(Ar).controlId;(a=dt(a,"form-control"),v)?n=Ze({},"".concat(a,"-plaintext"),!0):(Ze(i={},a,!0),Ze(i,"".concat(a,"-").concat(s),s),n=i);return(0,ot.jsx)(g,tt(tt({},k),{},{type:o,size:u,ref:t,readOnly:m,id:c||b,className:at()(l,n,h&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));Ur.displayName="FormControl";var Vr=Object.assign(Ur,{Feedback:Tr}),Br=Et("form-floating"),zr=["controlId","as"],qr=r.forwardRef((function(e,t){var n=e.controlId,i=e.as,a=void 0===i?"div":i,o=rt(e,zr),s=(0,r.useMemo)((function(){return{controlId:n}}),[n]);return(0,ot.jsx)(Ar.Provider,{value:s,children:(0,ot.jsx)(a,tt(tt({},o),{},{ref:t}))})}));qr.displayName="FormGroup";var Kr=qr,Wr=["as","bsPrefix","className"],Hr=["className"];var Gr=r.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=rt(e,Wr);n=dt(n,"col");var a=pt(),o=vt(),s=[],u=[];return a.forEach((function(e){var t,r,a,c=i[e];delete i[e],"object"===typeof c&&null!=c?(t=c.span,r=c.offset,a=c.order):t=c;var l=e!==o?"-".concat(e):"";t&&s.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=a&&u.push("order".concat(l,"-").concat(a)),null!=r&&u.push("offset".concat(l,"-").concat(r))})),[tt(tt({},i),{},{className:at().apply(void 0,[r].concat(s,u))}),{as:t,bsPrefix:n,spans:s}]}(e),r=c(n,2),i=r[0],a=i.className,o=rt(i,Hr),s=r[1],u=s.as,l=void 0===u?"div":u,f=s.bsPrefix,h=s.spans;return(0,ot.jsx)(l,tt(tt({},o),{},{ref:t,className:at()(a,!h.length&&f)}))}));Gr.displayName="Col";var Qr=Gr,$r=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Xr=r.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,a=e.bsPrefix,o=e.column,s=void 0!==o&&o,u=e.visuallyHidden,c=void 0!==u&&u,l=e.className,f=e.htmlFor,h=rt(e,$r),d=(0,r.useContext)(Ar).controlId;a=dt(a,"form-label");var p="col-form-label";"string"===typeof s&&(p="".concat(p," ").concat(p,"-").concat(s));var v=at()(l,a,c&&"visually-hidden",s&&p);return f=f||d,s?(0,ot.jsx)(Qr,tt({ref:t,as:"label",className:v,htmlFor:f},h)):(0,ot.jsx)(i,tt({ref:t,className:v,htmlFor:f},h))}));Xr.displayName="FormLabel";var Yr=Xr,Jr=["bsPrefix","className","id"],Zr=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.id,o=rt(e,Jr),s=(0,r.useContext)(Ar).controlId;return n=dt(n,"form-range"),(0,ot.jsx)("input",tt(tt({},o),{},{type:"range",ref:t,className:at()(i,n),id:a||s}))}));Zr.displayName="FormRange";var ei=Zr,ti=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],ni=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,s=e.isValid,u=void 0!==s&&s,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=rt(e,ti),d=(0,r.useContext)(Ar).controlId;return n=dt(n,"form-select"),(0,ot.jsx)("select",tt(tt({},h),{},{size:a,ref:t,className:at()(o,n,i&&"".concat(n,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:f||d}))}));ni.displayName="FormSelect";var ri=ni,ii=["bsPrefix","className","as","muted"],ai=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,s=rt(e,ii);return n=dt(n,"form-text"),(0,ot.jsx)(a,tt(tt({},s),{},{ref:t,className:at()(r,n,o&&"text-muted")}))}));ai.displayName="FormText";var oi=ai,si=r.forwardRef((function(e,t){return(0,ot.jsx)(Mr,tt(tt({},e),{},{ref:t,type:"switch"}))}));si.displayName="Switch";var ui=Object.assign(si,{Input:Mr.Input,Label:Mr.Label}),ci=["bsPrefix","className","children","controlId","label"],li=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,s=rt(e,ci);return n=dt(n,"form-floating"),(0,ot.jsxs)(Kr,tt(tt({ref:t,className:at()(r,n),controlId:a},s),{},{children:[i,(0,ot.jsx)("label",{htmlFor:a,children:o})]}))}));li.displayName="FloatingLabel";var fi=li,hi=["className","validated","as"],di={_ref:Ir().any,validated:Ir().bool,as:Ir().elementType},pi=r.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=rt(e,hi);return(0,ot.jsx)(a,tt(tt({},o),{},{ref:t,className:at()(n,r&&"was-validated")}))}));pi.displayName="Form",pi.propTypes=di;var vi=Object.assign(pi,{Group:Kr,Control:Vr,Floating:Br,Check:Mr,Switch:ui,Label:Yr,Text:oi,Range:ei,Select:ri,FloatingLabel:fi}),mi=n.p+"static/media/r7.499bf6e1f324a51ee496.jpg",yi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},gi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(yi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new ki;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ki=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return m(n)}(E(Error)),bi=function(e){return function(e){var t=yi(e);return gi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},wi=function(e){try{return gi.decodeString(e,!0)}catch(RF){console.error("base64Decode failed: ",RF)}return null};function xi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=xi(e[n],t[n]));return e}var Ii=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Ei=function(){try{return Ii()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(RF){return}var t=e&&wi(e[1]);return t&&JSON.parse(t)}}()}catch(RF){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(RF))}},Si=function(){var e;return null===(e=Ei())||void 0===e?void 0:e.config},_i=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ti(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ai(){var e,t=null===(e=Ei())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(RF){return!1}}function Ci(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ni(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Pi(){var e=Ti();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Oi(){try{return"object"===typeof indexedDB}catch(RF){return!1}}var Di=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),Ri.prototype.create),a}return m(n)}(E(Error)),Ri=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Li,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Di(n,a,t)}}]),e}();var Li=/\{\$([^}]+)}/g;function ji(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Mi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Fi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ui(s)&&Ui(u)){if(!Fi(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ui(e){return null!==e&&"object"===typeof e}function Vi(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Bi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function zi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function qi(e,t){var n=new Ki(e,t);return n.subscribe.bind(n)}var Ki=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=_(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Wi),void 0===r.error&&(r.error=Wi),void 0===r.complete&&(r.complete=Wi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(RF){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(RF){"undefined"!==typeof console&&console.error&&console.error(RF)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Wi(){}function Hi(e){return e&&e._delegate?e._delegate:e}function Gi(){Gi=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new _(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function p(){}function v(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==d(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Qi(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function $i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Qi(a,r,i,o,s,"next",e)}function s(e){Qi(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Xi=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Yi="[DEFAULT]",Ji=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new _i;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(RF){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(RF){if(r)return null;throw RF}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch(RF){}var t,n=_(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(RF){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=$i(Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(f(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),f(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=_(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(_D){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Yi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(_D){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi;return this.component?this.component.multipleInstances?e:Yi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Zi,ea,ta=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ji(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),na=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ea||(ea={}));var ra={debug:ea.DEBUG,verbose:ea.VERBOSE,info:ea.INFO,warn:ea.WARN,error:ea.ERROR,silent:ea.SILENT},ia=ea.INFO,aa=(Ze(Zi={},ea.DEBUG,"log"),Ze(Zi,ea.VERBOSE,"log"),Ze(Zi,ea.INFO,"info"),Ze(Zi,ea.WARN,"warn"),Ze(Zi,ea.ERROR,"error"),Zi),oa=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=aa[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},sa=function(){function e(t){h(this,e),this.name=t,this._logLevel=ia,this._logHandler=oa,this._userLogHandler=null,na.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ea))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ra[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ea.DEBUG].concat(t)),this._logHandler.apply(this,[this,ea.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ea.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ea.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ea.INFO].concat(t)),this._logHandler.apply(this,[this,ea.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ea.WARN].concat(t)),this._logHandler.apply(this,[this,ea.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ea.ERROR].concat(t)),this._logHandler.apply(this,[this,ea.ERROR].concat(t))}}]),e}();var ua,ca,la=function(e,t){return t.some((function(t){return e instanceof t}))};var fa=new WeakMap,ha=new WeakMap,da=new WeakMap,pa=new WeakMap,va=new WeakMap;var ma={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ha.get(e);if("objectStoreNames"===t)return e.objectStoreNames||da.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ka(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ya(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ca||(ca=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ba(this),n),ka(fa.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ka(e.apply(ba(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ba(this),t].concat(r));return da.set(a,t.sort?t.sort():[t]),ka(a)}}function ga(e){return"function"===typeof e?ya(e):(e instanceof IDBTransaction&&function(e){if(!ha.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ha.set(e,t)}}(e),la(e,ua||(ua=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ma):e)}function ka(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ka(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&fa.set(t,e)})).catch((function(){})),va.set(t,e),t}(e);if(pa.has(e))return pa.get(e);var t=ga(e);return t!==e&&(pa.set(e,t),va.set(t,e)),t}var ba=function(e){return va.get(e)};var wa,xa,Ia=["get","getKey","getAll","getAllKeys","count"],Ea=["put","add","delete","clear"],Sa=new Map;function _a(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Sa.get(t))return Sa.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ea.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ia.includes(n))){var a=function(){var e=$i(Gi().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Sa.set(t,a),a}}}ma=function(e){return tt(tt({},e),{},{get:function(t,n,r){return _a(t,n)||e.get(t,n,r)},has:function(t,n){return!!_a(t,n)||e.has(t,n)}})}(ma);var Ta=function(){function e(t){h(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Aa="@firebase/app",Ca="0.9.9",Na=new sa("@firebase/app"),Pa="[DEFAULT]",Oa=(Ze(wa={},Aa,"fire-core"),Ze(wa,"@firebase/app-compat","fire-core-compat"),Ze(wa,"@firebase/analytics","fire-analytics"),Ze(wa,"@firebase/analytics-compat","fire-analytics-compat"),Ze(wa,"@firebase/app-check","fire-app-check"),Ze(wa,"@firebase/app-check-compat","fire-app-check-compat"),Ze(wa,"@firebase/auth","fire-auth"),Ze(wa,"@firebase/auth-compat","fire-auth-compat"),Ze(wa,"@firebase/database","fire-rtdb"),Ze(wa,"@firebase/database-compat","fire-rtdb-compat"),Ze(wa,"@firebase/functions","fire-fn"),Ze(wa,"@firebase/functions-compat","fire-fn-compat"),Ze(wa,"@firebase/installations","fire-iid"),Ze(wa,"@firebase/installations-compat","fire-iid-compat"),Ze(wa,"@firebase/messaging","fire-fcm"),Ze(wa,"@firebase/messaging-compat","fire-fcm-compat"),Ze(wa,"@firebase/performance","fire-perf"),Ze(wa,"@firebase/performance-compat","fire-perf-compat"),Ze(wa,"@firebase/remote-config","fire-rc"),Ze(wa,"@firebase/remote-config-compat","fire-rc-compat"),Ze(wa,"@firebase/storage","fire-gcs"),Ze(wa,"@firebase/storage-compat","fire-gcs-compat"),Ze(wa,"@firebase/firestore","fire-fst"),Ze(wa,"@firebase/firestore-compat","fire-fst-compat"),Ze(wa,"fire-js","fire-js"),Ze(wa,"firebase","fire-js-all"),wa),Da=new Map,Ra=new Map;function La(e,t){try{e.container.addComponent(t)}catch(RF){Na.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),RF)}}function ja(e,t){e.container.addOrOverwriteComponent(t)}function Ma(e){var t=e.name;if(Ra.has(t))return Na.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ra.set(t,e);var n,r=_(Da.values());try{for(r.s();!(n=r.n()).done;){La(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Fa(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ua(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pa;Fa(e,t).clearInstance(n)}function Va(){Ra.clear()}var Ba=(Ze(xa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ze(xa,"bad-app-name","Illegal App name: '{$appName}"),Ze(xa,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ze(xa,"app-deleted","Firebase App named '{$appName}' already deleted"),Ze(xa,"no-options","Need to provide options, when not being deployed to hosting via source."),Ze(xa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ze(xa,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ze(xa,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ze(xa,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ze(xa,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ze(xa,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),xa),za=new Ri("app","Firebase",Ba),qa=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xi("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw za.create("app-deleted",{appName:this._name})}}]),e}(),Ka="9.21.0";function Wa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Pa,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw za.create("bad-app-name",{appName:String(i)});if(n||(n=Si()),!n)throw za.create("no-options");var a=Da.get(i);if(a){if(Fi(n,a.options)&&Fi(r,a.config))return a;throw za.create("duplicate-app",{appName:i})}var o,s=new ta(i),u=_(Ra.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new qa(n,r,s);return Da.set(i,l),l}function Ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,t=Da.get(e);if(!t&&e===Pa)return Wa();if(!t)throw za.create("no-app",{appName:e});return t}function Ga(){return Array.from(Da.values())}function Qa(e){return $a.apply(this,arguments)}function $a(){return($a=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Da.has(n)){e.next=6;break}return Da.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xa(e,t,n){var r,i=null!==(r=Oa[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Na.warn(s.join(" "))}Ma(new Xi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ya(e,t){if(null!==e&&"function"!==typeof e)throw za.create("invalid-log-argument");!function(e,t){var n,r=_(na);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ra[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ea[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ja(e){var t;t=e,na.forEach((function(e){e.setLogLevel(t)}))}var Za="firebase-heartbeat-database",eo=1,to="firebase-heartbeat-store",no=null;function ro(){return no||(no=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=ka(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(ka(s.result),e.oldVersion,e.newVersion,ka(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Za,eo,{upgrade:function(e,t){if(0===t)e.createObjectStore(to)}}).catch((function(e){throw za.create("idb-open",{originalErrorMessage:e.message})}))),no}function io(e){return ao.apply(this,arguments)}function ao(){return ao=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ro();case 3:return n=e.sent,e.abrupt("return",n.transaction(to).objectStore(to).get(uo(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Di?Na.warn(e.t0.message):(r=za.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Na.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ao.apply(this,arguments)}function oo(e,t){return so.apply(this,arguments)}function so(){return so=$i(Gi().mark((function e(t,n){var r,i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ro();case 3:return r=e.sent,i=r.transaction(to,"readwrite"),a=i.objectStore(to),e.next=8,a.put(n,uo(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Di?Na.warn(e.t0.message):(o=za.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Na.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),so.apply(this,arguments)}function uo(e){return"".concat(e.name,"!").concat(e.options.appId)}var co=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new vo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return m(e,[{key:"triggerHeartbeat",value:function(){var e=$i(Gi().mark((function e(){var t,n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=lo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=$i(Gi().mark((function e(){var t,n,r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=lo(),n=fo(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=bi(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function lo(){return(new Date).toISOString().substring(0,10)}function fo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=_(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),mo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),mo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ho,po,vo=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Oi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=$i(Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,io(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",oo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",oo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(f(r.heartbeats),f(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function mo(e){return bi(JSON.stringify({version:2,heartbeats:e})).length}ho="",Ma(new Xi("platform-logger",(function(e){return new Ta(e)}),"PRIVATE")),Ma(new Xi("heartbeat",(function(e){return new co(e)}),"PRIVATE")),Xa(Aa,Ca,ho),Xa(Aa,Ca,"esm2017"),Xa("fire-js","");var yo=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,La(t,new Xi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Qa(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pa;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pa;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){La(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ja(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),go=(Ze(po={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ze(po,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),po),ko=new Ri("app-compat","Firebase",go);var bo=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Wa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ji(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Xa,setLogLevel:Ja,onLog:Ya,apps:null,SDK_VERSION:Ka,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ma(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ko.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&xi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ji(n,e=e||Pa))throw ko.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(yo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){xi(n,e)},createSubscribe:qi,ErrorFactory:Ri,deepExtend:xi}),n}(),wo=new sa("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){wo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var xo=self.firebase.SDK_VERSION;xo&&xo.indexOf("LITE")>=0&&wo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Io=bo;!function(e){Xa("@firebase/app-compat","0.2.9",e)}();function Eo(){return Eo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Eo.apply(this,arguments)}Io.registerVersion("firebase","9.21.0","app-compat");function So(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var _o;Object.create;var To={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ao="EMAIL_SIGNIN",Co="PASSWORD_RESET",No="RECOVER_EMAIL",Po="REVERT_SECOND_FACTOR_ADDITION",Oo="VERIFY_AND_CHANGE_EMAIL",Do="VERIFY_EMAIL";function Ro(){return Ze({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Lo=function(){var e;return Ze(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ze(e,"argument-error",""),Ze(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ze(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ze(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ze(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ze(e,"cordova-not-ready","Cordova framework is not ready."),Ze(e,"cors-unsupported","This browser is not supported."),Ze(e,"credential-already-in-use","This credential is already associated with a different user account."),Ze(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ze(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ze(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ze(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ze(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ze(e,"email-already-in-use","The email address is already in use by another account."),Ze(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ze(e,"expired-action-code","The action code has expired."),Ze(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ze(e,"internal-error","An internal AuthError has occurred."),Ze(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ze(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ze(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ze(e,"invalid-auth-event","An internal AuthError has occurred."),Ze(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ze(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ze(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ze(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ze(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ze(e,"invalid-email","The email address is badly formatted."),Ze(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ze(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ze(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ze(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ze(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ze(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ze(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ze(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ze(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ze(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ze(e,"wrong-password","The password is invalid or the user does not have a password."),Ze(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ze(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ze(e,"invalid-provider-id","The specified provider ID is invalid."),Ze(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ze(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ze(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ze(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ze(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ze(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ze(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ze(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ze(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ze(e,"missing-continue-uri","A continue URL must be provided in the request."),Ze(e,"missing-iframe-start","An internal AuthError has occurred."),Ze(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ze(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ze(e,"missing-password","A non-empty password must be provided"),Ze(e,"missing-multi-factor-info","No second factor identifier is provided."),Ze(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ze(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ze(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ze(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ze(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ze(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ze(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ze(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ze(e,"no-auth-event","An internal AuthError has occurred."),Ze(e,"no-such-provider","User was not linked to an account with the given provider."),Ze(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ze(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ze(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ze(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ze(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ze(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ze(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ze(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ze(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ze(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ze(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ze(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ze(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ze(e,"timeout","The operation has timed out."),Ze(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ze(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ze(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ze(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ze(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ze(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ze(e,"unverified-email","The operation requires a verified email."),Ze(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ze(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ze(e,"user-disabled","The user account has been disabled by an administrator."),Ze(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ze(e,"user-signed-out",""),Ze(e,"weak-password","The password must be 6 characters long or more."),Ze(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ze(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Ze(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Ze(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Ze(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Ze(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Ze(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Ze(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Ze(e,"invalid-req-type","Invalid request parameters."),Ze(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},jo=Ro,Mo=new Ri("auth","Firebase",Ro()),Fo=new sa("@firebase/auth");function Uo(e){if(Fo.logLevel<=ea.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Fo.warn.apply(Fo,["Auth (".concat(Ka,"): ").concat(e)].concat(n))}}function Vo(e){if(Fo.logLevel<=ea.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Fo.error.apply(Fo,["Auth (".concat(Ka,"): ").concat(e)].concat(n))}}function Bo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Wo.apply(void 0,[e].concat(n))}function zo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wo.apply(void 0,[e].concat(n))}function qo(e,t,n){var r=Object.assign(Object.assign({},jo()),Ze({},t,n));return new Ri("auth","Firebase",r).create(t,{appName:e.name})}function Ko(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Bo(e,"argument-error"),qo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Wo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=f(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(f(o)))}return Mo.create.apply(Mo,[e].concat(n))}function Ho(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Wo.apply(void 0,[t].concat(r))}}function Go(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Vo(t),new Error(t)}function Qo(e,t){e||Go(t)}function $o(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xo(){return"http:"===Yo()||"https:"===Yo()}function Yo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Jo=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,Qo(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ti())||Ni()}return m(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xo()||Ci()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Zo(e,t){Qo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var es=function(){function e(){h(this,e)}return m(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Go("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Go("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Go("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ts=(Ze(_o={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ze(_o,"MISSING_CUSTOM_TOKEN","internal-error"),Ze(_o,"INVALID_IDENTIFIER","invalid-email"),Ze(_o,"MISSING_CONTINUE_URI","internal-error"),Ze(_o,"INVALID_PASSWORD","wrong-password"),Ze(_o,"MISSING_PASSWORD","missing-password"),Ze(_o,"EMAIL_EXISTS","email-already-in-use"),Ze(_o,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ze(_o,"INVALID_IDP_RESPONSE","invalid-credential"),Ze(_o,"INVALID_PENDING_TOKEN","invalid-credential"),Ze(_o,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ze(_o,"MISSING_REQ_TYPE","internal-error"),Ze(_o,"EMAIL_NOT_FOUND","user-not-found"),Ze(_o,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ze(_o,"EXPIRED_OOB_CODE","expired-action-code"),Ze(_o,"INVALID_OOB_CODE","invalid-action-code"),Ze(_o,"MISSING_OOB_CODE","internal-error"),Ze(_o,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ze(_o,"INVALID_ID_TOKEN","invalid-user-token"),Ze(_o,"TOKEN_EXPIRED","user-token-expired"),Ze(_o,"USER_NOT_FOUND","user-token-expired"),Ze(_o,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ze(_o,"INVALID_CODE","invalid-verification-code"),Ze(_o,"INVALID_SESSION_INFO","invalid-verification-id"),Ze(_o,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ze(_o,"MISSING_SESSION_INFO","missing-verification-id"),Ze(_o,"SESSION_EXPIRED","code-expired"),Ze(_o,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ze(_o,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ze(_o,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ze(_o,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ze(_o,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ze(_o,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ze(_o,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ze(_o,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ze(_o,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ze(_o,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ze(_o,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ze(_o,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Ze(_o,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Ze(_o,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Ze(_o,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Ze(_o,"MISSING_CLIENT_TYPE","missing-client-type"),Ze(_o,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Ze(_o,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Ze(_o,"INVALID_REQ_TYPE","invalid-req-type"),_o),ns=new Jo(3e4,6e4);function rs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function is(e,t,n,r){return as.apply(this,arguments)}function as(){return as=$i(Gi().mark((function e(t,n,r,i){var a,o=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",os(t,a,$i(Gi().mark((function e(){var a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Vi(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",es.fetch()(ls(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e,t,n){return ss.apply(this,arguments)}function ss(){return ss=$i(Gi().mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d,p;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ts),n),e.prev=2,a=new fs(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw hs(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw hs(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw hs(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw hs(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw qo(t,p,d);case 34:Bo(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Di)){e.next=41;break}throw e.t0;case 41:Bo(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),ss.apply(this,arguments)}function us(e,t,n,r){return cs.apply(this,arguments)}function cs(){return cs=$i(Gi().mark((function e(t,n,r,i){var a,o,s=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,is(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Bo(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Zo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var fs=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(zo(n.auth,"network-request-failed"))}),ns.get())}))}return m(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function hs(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=zo(e,t,r);return i.customData._tokenResponse=n,i}function ds(e,t){return ps.apply(this,arguments)}function ps(){return(ps=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vs(e,t){return ms.apply(this,arguments)}function ms(){return(ms=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(e,t){return gs.apply(this,arguments)}function gs(){return(gs=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ks(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(RF){}}function bs(){return bs=$i(Gi().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Hi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ho((a=xs(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ks(ws(a.auth_time)),issuedAtTime:ks(ws(a.iat)),expirationTime:ks(ws(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(e){return 1e3*Number(e)}function xs(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Vo("JWT malformed, contained fewer than 3 sections"),null;try{var a=wi(r);return a?JSON.parse(a):(Vo("Failed to decode base64 JWT payload"),null)}catch(RF){return Vo("Caught error parsing JWT payload as JSON",null===RF||void 0===RF?void 0:RF.toString()),null}}function Is(e,t){return Es.apply(this,arguments)}function Es(){return Es=$i(Gi().mark((function e(t,n){var r=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Di&&Ss(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Es.apply(this,arguments)}function Ss(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var _s=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return m(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout($i(Gi().mark((function t(){return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ts=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return m(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ks(this.lastLoginAt),this.creationTime=ks(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function As(e){return Cs.apply(this,arguments)}function Cs(){return Cs=$i(Gi().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Is(t,ys(r,{idToken:i}));case 6:Ho(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=So(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Ps(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ts(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function Ns(){return(Ns=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hi(t),e.next=3,As(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ps(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(f(n),f(t))}function Os(e,t){return Ds.apply(this,arguments)}function Ds(){return(Ds=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,os(t,{},$i(Gi().mark((function e(){var r,i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vi({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=ls(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",es.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rs=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return m(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ho(e.idToken,"internal-error"),Ho("undefined"!==typeof e.idToken,"internal-error"),Ho("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=xs(e);return Ho(t,"internal-error"),Ho("undefined"!==typeof t.exp,"internal-error"),Ho("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=$i(Gi().mark((function e(t){var n,r=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ho(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=$i(Gi().mark((function e(t,n){var r,i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Go("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ho("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ho("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ho("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ls(e,t){Ho("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var js=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=So(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _s(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?f(a.providerData):[],this.metadata=new Ts(a.createdAt||void 0,a.lastLoginAt||void 0)}return m(e,[{key:"getIdToken",value:function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Is(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ho(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return bs.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ns.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ho(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Ho(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=$i(Gi().mark((function e(t){var n,r,i=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,As(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=$i(Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Is(this,ds(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,I=n.stsTokenManager;Ho(k&&I,t,"internal-error");var E=Rs.fromJSON(this.name,I);Ho("string"===typeof k,t,"internal-error"),Ls(f,t.name),Ls(h,t.name),Ho("boolean"===typeof b,t,"internal-error"),Ho("boolean"===typeof w,t,"internal-error"),Ls(d,t.name),Ls(p,t.name),Ls(v,t.name),Ls(m,t.name),Ls(y,t.name),Ls(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=$i(Gi().mark((function t(n,r){var i,a,o,s=arguments;return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Rs).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,As(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ms=new Map;function Fs(e){Qo(e instanceof Function,"Expected a class definition");var t=Ms.get(e);return t?(Qo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ms.set(e,t),t)}var Us=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return m(e,[{key:"_isAvailable",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Us.type="NONE";var Vs=Us;function Bs(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var zs=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Bs(this.userKey,a.apiKey,o),this.fullPersistenceKey=Bs("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return m(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=$i(Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?js._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=$i(Gi().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Fs(Vs),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Fs(Vs),s=Bs(i,n.config.apiKey,n.name),u=null,c=_(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=js._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function qs(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Gs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ks(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($s(t))return"Blackberry";if(Xs(t))return"Webos";if(Ws(t))return"Safari";if((t.includes("chrome/")||Hs(t))&&!t.includes("edge/"))return"Chrome";if(Qs(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti();return/firefox\//i.test(e)}function Ws(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti();return/crios\//i.test(e)}function Gs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti();return/iemobile/i.test(e)}function Qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti();return/android/i.test(e)}function $s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti();return/blackberry/i.test(e)}function Xs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti();return/webos/i.test(e)}function Ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Js(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti();return Ys(e)||Qs(e)||Xs(e)||$s(e)||/windows phone/i.test(e)||Gs(e)}function Zs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qs(Ti());break;case"Worker":t="".concat(qs(Ti()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ka,"/").concat(r)}function eu(e){return tu.apply(this,arguments)}function tu(){return(tu=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,is(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nu(e,t){return ru.apply(this,arguments)}function ru(){return(ru=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"GET","/v2/recaptchaConfig",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e){return void 0!==e&&void 0!==e.getResponse}function au(e){return void 0!==e&&void 0!==e.enterprise}var ou=m((function e(t){if(h(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function su(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=zo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function uu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var cu=function(){function e(t){h(this,e),this.type="recaptcha-enterprise",this.auth=pu(t)}return m(e,[{key:"verify",value:function(){var e=$i(Gi().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;au(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=$i(Gi().mark((function e(n,r){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nu(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new ou(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&au(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));su("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function lu(e,t,n){return fu.apply(this,arguments)}function fu(){return fu=$i(Gi().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new cu(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),fu.apply(this,arguments)}var hu=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return m(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(RF){r(RF)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=$i(Gi().mark((function e(t){var n,r,i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=_(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=_(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(uM){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),du=function(){function e(t,n,r,i){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vu(this),this.idTokenSubscription=new vu(this),this.beforeStateQueue=new hu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return m(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Fs(t)),this._initializationPromise=this.queue($i(Gi().mark((function r(){var i,a;return Gi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,zs.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=$i(Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=$i(Gi().mark((function e(t){var n,r,i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ho(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,As(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Hi(t):null)&&Ho(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=$i(Gi().mark((function e(t){var n,r=this,i=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ho(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue($i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue($i(Gi().mark((function n(){return Gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Fs(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=$i(Gi().mark((function e(){var t,n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nu(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new ou(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new cu(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ri("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ho(n=t&&Fs(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,zs.create(this,[Fs(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue($i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=$i(Gi().mark((function e(t){var n=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue($i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ho(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ho(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zs(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=$i(Gi().mark((function e(){var t,n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ze({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=$i(Gi().mark((function e(){var t,n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Uo("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pu(e){return Hi(e)}var vu=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=qi((function(e){return n.observer=e}))}return m(e,[{key:"next",get:function(){return Ho(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function mu(e,t,n){var r=pu(e);Ho(r._canInitEmulator,r,"emulator-config-failed"),Ho(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=yu(t),o=function(e){var t=yu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:gu(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:gu(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function yu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function gu(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ku=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return m(e,[{key:"toJSON",value:function(){return Go("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Go("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Go("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Go("not implemented")}}]),e}();function bu(e,t){return wu.apply(this,arguments)}function wu(){return(wu=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:resetPassword",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(e,t){return Iu.apply(this,arguments)}function Iu(){return(Iu=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t){return Su.apply(this,arguments)}function Su(){return(Su=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:update",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(e,t){return Tu.apply(this,arguments)}function Tu(){return(Tu=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:signInWithPassword",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Au(e,t){return Cu.apply(this,arguments)}function Cu(){return(Cu=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:sendOobCode",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e,t){return Pu.apply(this,arguments)}function Pu(){return(Pu=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(e,t){return Du.apply(this,arguments)}function Du(){return(Du=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ru(e,t){return Lu.apply(this,arguments)}function Lu(){return(Lu=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ju(e,t){return Mu.apply(this,arguments)}function Mu(){return(Mu=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e,t){return Uu.apply(this,arguments)}function Uu(){return(Uu=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:signInWithEmailLink",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(e,t){return Bu.apply(this,arguments)}function Bu(){return(Bu=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:signInWithEmailLink",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zu=function(e){g(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return m(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,lu(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",_u(t,i));case 11:return e.abrupt("return",_u(t,r).catch(function(){var e=$i(Gi().mark((function e(n){var i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,lu(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",_u(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Fu(t,{email:this._email,oobCode:this._password}));case 13:Bo(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",xu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Vu(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Bo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ku);function qu(e,t){return Ku.apply(this,arguments)}function Ku(){return(Ku=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:signInWithIdp",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wu=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return m(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return qu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,qu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,qu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vi(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bo("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=So(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ku);function Hu(e,t){return Gu.apply(this,arguments)}function Gu(){return(Gu=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:sendVerificationCode",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qu(){return(Qu=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:signInWithPhoneNumber",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $u(){return($u=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,us(t,"POST","/v1/accounts:signInWithPhoneNumber",rs(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw hs(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xu=Ze({},"USER_NOT_FOUND","user-not-found");function Yu(){return(Yu=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",us(t,"POST","/v1/accounts:signInWithPhoneNumber",rs(t,r),Xu));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ju=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Qu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return $u.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Yu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ku);var Zu=function(){function e(t){var n,r,i,a,o,s;h(this,e);var u=Bi(zi(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Ho(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return m(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Bi(zi(e)).link,n=t?Bi(zi(t)).deep_link_id:null,r=Bi(zi(e)).deep_link_id;return(r?Bi(zi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(_D){return null}}}]),e}();var ec=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return m(e,null,[{key:"credential",value:function(e,t){return zu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Zu.parseLink(t);return Ho(n,"argument-error"),zu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ec.PROVIDER_ID="password",ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var tc=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return m(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),nc=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return m(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return f(this.scopes)}}]),n}(tc),rc=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ho(e.idToken||e.accessToken,"argument-error"),Wu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ho("providerId"in t&&"signInMethod"in t,"argument-error"),Wu._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(RF){return null}}}]),n}(nc),ic=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"facebook.com")}return m(n,null,[{key:"credential",value:function(e){return Wu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_D){return null}}}]),n}(nc);ic.FACEBOOK_SIGN_IN_METHOD="facebook.com",ic.PROVIDER_ID="facebook.com";var ac=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return m(n,null,[{key:"credential",value:function(e,t){return Wu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(_D){return null}}}]),n}(nc);ac.GOOGLE_SIGN_IN_METHOD="google.com",ac.PROVIDER_ID="google.com";var oc=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"github.com")}return m(n,null,[{key:"credential",value:function(e){return Wu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_D){return null}}}]),n}(nc);oc.GITHUB_SIGN_IN_METHOD="github.com",oc.PROVIDER_ID="github.com";var sc=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return m(n,[{key:"_getIdTokenResponse",value:function(e){return qu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,qu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,qu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ku),uc=function(e){g(n,e);var t=x(n);function n(e){return h(this,n),Ho(e.startsWith("saml."),"argument-error"),t.call(this,e)}return m(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=sc.fromJSON(e);return Ho(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return sc._create(r,n)}catch(RF){return null}}}]),n}(tc),cc=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"twitter.com")}return m(n,null,[{key:"credential",value:function(e,t){return Wu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(_D){return null}}}]),n}(nc);function lc(e,t){return fc.apply(this,arguments)}function fc(){return(fc=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:signUp",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}cc.TWITTER_SIGN_IN_METHOD="twitter.com",cc.PROVIDER_ID="twitter.com";var hc=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return m(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=$i(Gi().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,js._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=dc(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=$i(Gi().mark((function t(n,r,i){var a;return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=dc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function dc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function pc(){return pc=$i(Gi().mark((function e(t){var n,r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new hc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,lc(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,hc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}var vc=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o,s;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return m(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Di);function mc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw vc._fromErrorAndOperation(e,n,t,r);throw n}))}function yc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function gc(e,t){return kc.apply(this,arguments)}function kc(){return kc=$i(Gi().mark((function e(t,n){var r,i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hi(t),e.next=3,xc(!0,r,n);case 3:return e.t0=vs,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=yc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function bc(e,t){return wc.apply(this,arguments)}function wc(){return wc=$i(Gi().mark((function e(t,n){var r,i,a=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Is,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",hc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function xc(e,t,n){return Ic.apply(this,arguments)}function Ic(){return(Ic=$i(Gi().mark((function e(t,n,r){var i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,As(n);case 2:i=yc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ho(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Is(t,mc(i,a,n,t),r);case 6:return Ho((o=e.sent).idToken,i,"internal-error"),Ho(s=xs(o.idToken),i,"internal-error"),u=s.sub,Ho(t.uid===u,i,"user-mismatch"),e.abrupt("return",hc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Bo(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Sc.apply(this,arguments)}function _c(e,t){return Tc.apply(this,arguments)}function Tc(){return Tc=$i(Gi().mark((function e(t,n){var r,i,a,o,s=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,mc(t,i,n);case 4:return a=e.sent,e.next=7,hc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Ac(e,t){return Cc.apply(this,arguments)}function Cc(){return(Cc=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(pu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nc(e,t){return Pc.apply(this,arguments)}function Pc(){return(Pc=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hi(t),e.next=3,xc(!1,r,n.providerId);case 3:return e.abrupt("return",bc(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(e,t){return Dc.apply(this,arguments)}function Dc(){return(Dc=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ec(Hi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(e,t){return Lc.apply(this,arguments)}function Lc(){return(Lc=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:signInWithCustomToken",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(){return(jc=$i(Gi().mark((function e(t,n){var r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pu(t),e.next=3,Rc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,hc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mc=function(){function e(t,n){h(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return m(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Fc._fromServerResponse(e,t):"totpInfo"in t?Uc._fromServerResponse(e,t):Bo(e,"internal-error")}}]),e}(),Fc=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return m(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Mc),Uc=function(e){g(n,e);var t=x(n);function n(e){return h(this,n),t.call(this,"totp",e)}return m(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Mc);function Vc(e,t,n){var r;Ho((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ho("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ho(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ho(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Bc(){return Bc=$i(Gi().mark((function e(t,n,r){var i,a,o,s;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=pu(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,lu(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&Vc(a,s,r),e.next=9,Ou(a,s);case 9:e.next=14;break;case 11:return r&&Vc(a,o,r),e.next=14,Ou(a,o).catch(function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,lu(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Vc(a,n,r),e.next=8,Ou(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}function zc(){return(zc=$i(Gi().mark((function e(t,n,r){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bu(Hi(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qc(){return(qc=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eu(Hi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(e,t){return Wc.apply(this,arguments)}function Wc(){return(Wc=$i(Gi().mark((function e(t,n){var r,i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hi(t),e.next=3,bu(r,{oobCode:n});case 3:i=e.sent,Ho(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ho(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ho(i.mfaInfo,r,"internal-error");case 13:Ho(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Mc._fromServerResponse(pu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(){return(Hc=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kc(Hi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gc(e,t,n){return Qc.apply(this,arguments)}function Qc(){return Qc=$i(Gi().mark((function e(t,n,r){var i,a,o,s,u,c,l;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=pu(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,lu(a,o,"signUpPassword");case 5:u=e.sent,s=lc(a,u),e.next=10;break;case 9:s=lc(a,o).catch(function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,lu(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",lc(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,hc._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function $c(){return $c=$i(Gi().mark((function e(t,n,r){var i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Ho(t.handleCodeInApp,a,"argument-error"),t&&Vc(a,e,t)},a=pu(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,lu(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,Ru(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,Ru(a,o).catch(function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,lu(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,Ru(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Xc(){return(Xc=$i(Gi().mark((function e(t,n,r){var i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hi(t),Ho((a=ec.credentialWithLink(n,r||$o()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ac(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(e,t){return Jc.apply(this,arguments)}function Jc(){return(Jc=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:createAuthUri",rs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(){return(Zc=$i(Gi().mark((function e(t,n){var r,i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xo()?$o():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Yc(Hi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(){return(el=$i(Gi().mark((function e(t,n){var r,i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Vc(r.auth,a,n),e.next=8,Nu(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tl(){return(tl=$i(Gi().mark((function e(t,n,r){var i,a,o,s;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Vc(i.auth,o,r),e.next=8,ju(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(e,t){return rl.apply(this,arguments)}function rl(){return(rl=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function il(){return(il=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u,c;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Hi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Is(a,nl(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function al(e,t,n){return ol.apply(this,arguments)}function ol(){return(ol=$i(Gi().mark((function e(t,n,r){var i,a,o,s;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Is(t,xu(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sl=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ul=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i)).username=a,o}return m(n)}(sl),cl=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"facebook.com",r)}return m(n)}(sl),ll=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return m(n)}(ul),fl=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"google.com",r)}return m(n)}(sl),hl=function(e){g(n,e);var t=x(n);function n(e,r,i){return h(this,n),t.call(this,e,"twitter.com",r,i)}return m(n)}(ul);function dl(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=xs(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new sl(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new cl(a,i);case"github.com":return new ll(a,i);case"google.com":return new fl(a,i);case"twitter.com":return new hl(a,i,e.screenName||null);case"custom":case"anonymous":return new sl(a,null);default:return new sl(a,r,i)}}(n)}var pl=function(){function e(t,n,r){h(this,e),this.type=t,this.credential=n,this.auth=r}return m(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ze({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),vl=function(){function e(t,n,r){h(this,e),this.session=t,this.hints=n,this.signInResolver=r}return m(e,[{key:"resolveSignIn",value:function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=pu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Mc._fromServerResponse(r,e)}));Ho(i.mfaPendingCredential,r,"internal-error");var o=pl._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=$i(Gi().mark((function e(t){var a,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,hc._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Ho(n.user,r,"internal-error"),e.abrupt("return",hc._forOperation(n.user,n.operationType,s));case 17:Bo(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ml(e,t){return is(e,"POST","/v2/accounts/mfaEnrollment:start",rs(e,t))}function yl(e,t){return is(e,"POST","/v2/accounts/mfaEnrollment:finalize",rs(e,t))}var gl=function(){function e(t){var n=this;h(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Mc._fromServerResponse(t.auth,e)})))}))}return m(e,[{key:"getSession",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=pl,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=$i(Gi().mark((function e(t,n){var r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Is(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Is(this.user,is(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",rs(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),kl=new WeakMap;var bl="__sak",wl=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return m(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(bl,"1"),this.storage.removeItem(bl),Promise.resolve(!0)):Promise.resolve(!1)}catch(_D){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var xl=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ti();return Ws(e)||Ys(e)}()&&function(){try{return!(!window||window===window.top)}catch(RF){return!1}}(),e.fallbackToPolling=Js(),e._shouldAllowMigration=!0,e}return m(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Pi()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=$i(Gi().mark((function e(t,r){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$i(Gi().mark((function e(t){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(wl);xl.type="LOCAL";var Il=xl,El=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return m(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(wl);El.type="SESSION";var Sl=El;function _l(e){return Promise.all(e.map(function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Tl=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return m(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=$i(Gi().mark((function e(t){var n,r,i,a,o,s,u,c;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,_l(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Al(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Tl.receivers=[];var Cl=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return m(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=$i(Gi().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Al("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Nl(){return window}function Pl(e){Nl().location.href=e}function Ol(){return"undefined"!==typeof Nl().WorkerGlobalScope&&"function"===typeof Nl().importScripts}function Dl(){return Rl.apply(this,arguments)}function Rl(){return(Rl=$i(Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ll(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var jl="firebaseLocalStorageDb",Ml="firebaseLocalStorage",Fl="fbase_key",Ul=function(){function e(t){h(this,e),this.request=t}return m(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Vl(e,t){return e.transaction([Ml],t?"readwrite":"readonly").objectStore(Ml)}function Bl(){var e=indexedDB.deleteDatabase(jl);return new Ul(e).toPromise()}function zl(){var e=indexedDB.open(jl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ml,{keyPath:Fl})}catch(RF){n(RF)}})),e.addEventListener("success",$i(Gi().mark((function n(){var r;return Gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ml)){n.next=12;break}return r.close(),n.next=5,Bl();case 5:return n.t0=t,n.next=8,zl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ql(e,t,n){return Kl.apply(this,arguments)}function Kl(){return Kl=$i(Gi().mark((function e(t,n,r){var i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vl(t,!0).put((Ze(i={},Fl,n),Ze(i,"value",r),i)),e.abrupt("return",new Ul(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Wl(e,t){return Hl.apply(this,arguments)}function Hl(){return Hl=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vl(t,!1).get(n),e.next=3,new Ul(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Gl(e,t){var n=Vl(e,!0).delete(t);return new Ul(n).toPromise()}var Ql=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return m(e,[{key:"_openDb",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,zl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=$i(Gi().mark((function e(){var t=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Tl._getInstance(Ol()?self:null),this.receiver._subscribe("keyChanged",function(){var e=$i(Gi().mark((function e(n,r){var i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=$i(Gi().mark((function e(){var t,n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Cl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ll()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=$i(Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,zl();case 5:return t=e.sent,e.next=8,ql(t,bl,"1");case 8:return e.next=10,Gl(t,bl);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=$i(Gi().mark((function e(t,n){var r=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite($i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ql(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Wl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$i(Gi().mark((function e(t){var n=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite($i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Gl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=$i(Gi().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Vl(e,!1).getAll();return new Ul(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=_(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval($i(Gi().mark((function t(){return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ql.type="LOCAL";var $l=Ql;function Xl(e,t){return is(e,"POST","/v2/accounts/mfaSignIn:start",rs(e,t))}function Yl(e,t){return is(e,"POST","/v2/accounts/mfaSignIn:finalize",rs(e,t))}var Jl=1e12,Zl=function(){function e(t){h(this,e),this.auth=t,this.counter=Jl,this._widgets=new Map}return m(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ef(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Jl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Jl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Jl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ef=function(){function e(t,n,r){var i=this;h(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ho(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return m(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(RF){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(RF){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var tf=uu("rcb"),nf=new Jo(3e4,6e4),rf=function(){function e(){var t;h(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Nl().grecaptcha)||void 0===t?void 0:t.render)}return m(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ho(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&iu(Nl().grecaptcha)?Promise.resolve(Nl().grecaptcha):new Promise((function(r,i){var a=Nl().setTimeout((function(){i(zo(e,"network-request-failed"))}),nf.get());Nl()[tf]=function(){Nl().clearTimeout(a),delete Nl()[tf];var o=Nl().grecaptcha;if(o&&iu(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(zo(e,"internal-error"))},su("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Vi({onload:tf,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(zo(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Nl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var af=function(){function e(){h(this,e)}return m(e,[{key:"load",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Zl(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),of="recaptcha",sf={theme:"light",type:"image"},uf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},sf),r=arguments.length>2?arguments[2]:void 0;h(this,e),this.parameters=n,this.type=of,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pu(r),this.isInvisible="invisible"===this.parameters.size,Ho("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ho(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new af:new rf,this.validateStartingState()}return m(e,[{key:"verify",value:function(){var e=$i(Gi().mark((function e(){var t,n,r,i=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(RF){return Promise.reject(RF)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ho(!this.parameters.sitekey,this.auth,"argument-error"),Ho(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ho("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Nl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ho(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=$i(Gi().mark((function e(){var t,n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=$i(Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ho(Xo()&&!Ol(),this.auth,"internal-error"),e.next=3,cf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,eu(this.auth);case 8:Ho(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ho(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function cf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var lf=function(){function e(t,n){h(this,e),this.verificationId=t,this.onConfirmation=n}return m(e,[{key:"confirm",value:function(e){var t=Ju._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ff(){return(ff=$i(Gi().mark((function e(t,n,r){var i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pu(t),e.next=3,vf(i,n,Hi(r));case 3:return a=e.sent,e.abrupt("return",new lf(a,(function(e){return Ac(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hf(e,t,n){return df.apply(this,arguments)}function df(){return(df=$i(Gi().mark((function e(t,n,r){var i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hi(t),e.next=3,xc(!1,i,"phone");case 3:return e.next=5,vf(i.auth,n,Hi(r));case 5:return a=e.sent,e.abrupt("return",new lf(a,(function(e){return Nc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pf(){return(pf=$i(Gi().mark((function e(t,n,r){var i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hi(t),e.next=3,vf(i.auth,n,Hi(r));case 3:return a=e.sent,e.abrupt("return",new lf(a,(function(e){return Oc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vf(e,t,n){return mf.apply(this,arguments)}function mf(){return mf=$i(Gi().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ho("string"===typeof a,t,"argument-error"),Ho(r.type===of,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Ho("enroll"===s.type,t,"internal-error"),e.next=13,ml(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Ho("signin"===s.type,t,"internal-error"),Ho(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Xl(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Hu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),mf.apply(this,arguments)}function yf(){return(yf=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bc(Hi(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gf=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=pu(t)}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return vf(this.auth,e,Hi(t))}}],[{key:"credential",value:function(e,t){return Ju._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ju._fromTokenResponse(n,r):null}}]),e}();function kf(e,t){return t?Fs(t):(Ho(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}gf.PROVIDER_ID="phone",gf.PHONE_SIGN_IN_METHOD="phone";var bf=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return qu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return qu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return qu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ku);function wf(e){return _c(e.auth,new bf(e),e.bypassAuthState)}function xf(e){var t=e.auth,n=e.user;return Ho(n,t,"internal-error"),Ec(n,new bf(e),e.bypassAuthState)}function If(e){return Ef.apply(this,arguments)}function Ef(){return(Ef=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ho(r=t.user,n,"internal-error"),e.abrupt("return",bc(r,new bf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return m(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=$i(Gi().mark((function t(n,r){return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=$i(Gi().mark((function e(t){var n,r,i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wf;case"linkViaPopup":case"linkViaRedirect":return If;case"reauthViaPopup":case"reauthViaRedirect":return xf;default:Bo(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),_f=new Jo(2e3,1e4);function Tf(e,t,n){return Af.apply(this,arguments)}function Af(){return(Af=$i(Gi().mark((function e(t,n,r){var i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pu(t),Ko(t,n,tc),a=kf(i,r),o=new Of(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cf(){return(Cf=$i(Gi().mark((function e(t,n,r){var i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ko((i=Hi(t)).auth,n,tc),a=kf(i.auth,r),o=new Of(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nf(e,t,n){return Pf.apply(this,arguments)}function Pf(){return(Pf=$i(Gi().mark((function e(t,n,r){var i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ko((i=Hi(t)).auth,n,tc),a=kf(i.auth,r),o=new Of(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Of=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o){var s;return h(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=w(s),s}return m(n,[{key:"executeNotNull",value:function(){var e=$i(Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ho(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=$i(Gi().mark((function e(){var t,n=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qo(1===this.filter.length,"Popup operations only handle one event"),t=Al(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(zo(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(zo(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(zo(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,_f.get())}()}}]),n}(Sf);Of.currentPopupAction=null;var Df="pendingRedirect",Rf=new Map,Lf=function(e){g(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return m(n,[{key:"execute",value:function(){var e=$i(Gi().mark((function e(){var t,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Rf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,jf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Eo(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Rf.set(this.auth._key(),t);case 21:return this.bypassAuthState||Rf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=$i(Gi().mark((function e(t){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Eo(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Eo(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Sf);function jf(e,t){return Mf.apply(this,arguments)}function Mf(){return(Mf=$i(Gi().mark((function e(t,n){var r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zf(n),i=Bf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ff(e,t){return Uf.apply(this,arguments)}function Uf(){return(Uf=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t)._set(zf(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vf(e,t){Rf.set(e._key(),t)}function Bf(e){return Fs(e._redirectPersistence)}function zf(e){return Bs(Df,e.config.apiKey,e.name)}function qf(e,t,n){return function(e,t,n){return Kf.apply(this,arguments)}(e,t,n)}function Kf(){return(Kf=$i(Gi().mark((function e(t,n,r){var i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pu(t),Ko(t,n,tc),e.next=4,i._initializationPromise;case 4:return a=kf(i,r),e.next=7,Ff(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wf(e,t,n){return function(e,t,n){return Hf.apply(this,arguments)}(e,t,n)}function Hf(){return(Hf=$i(Gi().mark((function e(t,n,r){var i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ko((i=Hi(t)).auth,n,tc),e.next=4,i.auth._initializationPromise;case 4:return a=kf(i.auth,r),e.next=7,Ff(a,i.auth);case 7:return e.next=9,Zf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gf(e,t,n){return function(e,t,n){return Qf.apply(this,arguments)}(e,t,n)}function Qf(){return(Qf=$i(Gi().mark((function e(t,n,r){var i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ko((i=Hi(t)).auth,n,tc),e.next=4,i.auth._initializationPromise;case 4:return a=kf(i.auth,r),e.next=7,xc(!1,i,n.providerId);case 7:return e.next=9,Ff(a,i.auth);case 9:return e.next=11,Zf(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $f(e,t){return Xf.apply(this,arguments)}function Xf(){return(Xf=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pu(t)._initializationPromise;case 2:return e.abrupt("return",Yf(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=pu(t),a=kf(i,n),o=new Lf(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Zf(e){return eh.apply(this,arguments)}function eh(){return(eh=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Al("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var th=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return m(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!rh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(zo(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(nh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function nh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function rh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ih(e){return ah.apply(this,arguments)}function ah(){return ah=$i(Gi().mark((function e(t){var n,r=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",is(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}var oh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sh=/^https?/;function uh(){return(uh=$i(Gi().mark((function e(t){var n,r,i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ih(t);case 4:n=e.sent,r=n.authorizedDomains,i=_(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ch(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Bo(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function ch(e){var t=$o(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!sh.test(r))return!1;if(oh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var lh=new Jo(3e4,6e4);function fh(){var e=Nl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=f(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var hh=null;function dh(e){return hh=hh||function(e){return new Promise((function(t,n){var r,i,a;function o(){fh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){fh(),n(zo(e,"network-request-failed"))},timeout:lh.get()})}if(null===(i=null===(r=Nl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Nl().gapi)||void 0===a?void 0:a.load)){var s=uu("iframefcb");return Nl()[s]=function(){gapi.load?o():n(zo(e,"network-request-failed"))},su("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw hh=null,e}))}(e),hh}var ph=new Jo(5e3,15e3),vh="__/auth/iframe",mh="emulator/auth/iframe",yh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kh(e){var t=e.config;Ho(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Zo(t,mh):"https://".concat(e.config.authDomain,"/").concat(vh),r={apiKey:t.apiKey,appName:e.name,v:Ka},i=gh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Vi(r).slice(1))}function bh(e){return wh.apply(this,arguments)}function wh(){return wh=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dh(t);case 2:return n=e.sent,Ho(r=Nl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:kh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yh,dontclear:!0},(function(e){return new Promise(function(){var n=$i(Gi().mark((function n(r,i){var a,o,s;return Gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Nl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=zo(t,"network-request-failed"),o=Nl().setTimeout((function(){i(a)}),ph.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),wh.apply(this,arguments)}var xh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ih=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return m(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(RF){}}}]),e}();function Eh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},xh),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Ti().toLowerCase();n&&(s=Hs(l)?"_blank":n),Ks(l)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Ys(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Ih(null);var h=window.open(t||"",s,f);Ho(h,e,"popup-blocked");try{h.focus()}catch(RF){}return new Ih(h)}var Sh="__/auth/handler",_h="emulator/auth/handler",Th=encodeURIComponent("fac");function Ah(e,t,n,r,i,a){return Ch.apply(this,arguments)}function Ch(){return(Ch=$i(Gi().mark((function e(t,n,r,i,a,o){var s,u,l,f,h,d,p,v,m,y,g,k,b;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ho(t.config.authDomain,t,"auth-domain-config-required"),Ho(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Ka,eventId:a},n instanceof tc)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Mi(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,l=Object.entries(o||{});u<l.length;u++)f=c(l[u],2),h=f[0],d=f[1],s[h]=d;for(n instanceof nc&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(Th,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Nh(t),"?").concat(Vi(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nh(e){var t=e.config;return t.emulator?Zo(t,_h):"https://".concat(t.authDomain,"/").concat(Sh)}var Ph="webStorageSupport",Oh=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sl,this._completeRedirectFn=Yf,this._overrideRedirectResult=Vf}return m(e,[{key:"_openPopup",value:function(){var e=$i(Gi().mark((function e(t,n,r,i){var a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Ah(t,n,r,$o(),i);case 3:return o=e.sent,e.abrupt("return",Eh(t,o,Al()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=$i(Gi().mark((function e(t,n,r,i){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Ah(t,n,r,$o(),i);case 4:return Pl(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Qo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bh(t);case 2:return n=e.sent,r=new th(t),n.register("authEvent",(function(e){return Ho(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ph,{type:Ph},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ph];void 0!==i&&t(!!i),Bo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return uh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Js()||Ws()||Ys()}}]),e}(),Dh=Oh,Rh=function(){function e(t){h(this,e),this.factorId=t}return m(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Go("unexpected MultiFactorSessionType")}}}]),e}(),Lh=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return m(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return is(e,"POST","/v2/accounts/mfaEnrollment:finalize",rs(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return is(e,"POST","/v2/accounts/mfaSignIn:finalize",rs(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Rh),jh=function(){function e(){h(this,e)}return m(e,null,[{key:"assertion",value:function(e){return Lh._fromCredential(e)}}]),e}();jh.FACTOR_ID="phone";var Mh=function(){function e(){h(this,e)}return m(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Fh._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Fh._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ho("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},is(i,"POST","/v2/accounts/mfaEnrollment:start",rs(i,a));case 4:return r=e.sent,e.abrupt("return",Uh._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Mh.FACTOR_ID="totp";var Fh=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return m(n,[{key:"_finalizeEnroll",value:function(){var e=$i(Gi().mark((function e(t,n,r){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ho("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",yl(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ho(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Yl(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Rh),Uh=function(){function e(t,n,r,i,a,o,s){h(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return m(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Vh(e)||Vh(t))&&(r=!0),r&&(Vh(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Vh(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Vh(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Bh="@firebase/auth",zh="0.23.1",qh=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return m(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ho(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Kh;!function(e){var t;null===(t=Ei())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Wh(){return window}Kh="Browser",Ma(new Xi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Ho(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),Ho(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Kh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zs(Kh)},l=new du(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ma(new Xi("auth-internal",(function(e){return function(e){return new qh(e)}(pu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(Bh,zh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Kh)),Xa(Bh,zh,"esm2017");var Hh=2e3;function Gh(e,t,n){return Qh.apply(this,arguments)}function Qh(){return Qh=$i(Gi().mark((function e(t,n,r){var i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wh(),o=a.BuildInfo,Qo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ed(n.sessionId);case 4:return s=e.sent,u={},Ys()?u.ibi=o.packageName:Qs()?u.apn=o.packageName:Bo(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Ah(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Qh.apply(this,arguments)}function $h(){return($h=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wh(),r=n.BuildInfo,i={},Ys()?i.iosBundleId=r.packageName:Qs()?i.androidPackageName=r.packageName:Bo(t,"operation-not-supported-in-this-environment"),e.next=5,ih(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xh(e){var t=Wh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Yh(e,t,n){return Jh.apply(this,arguments)}function Jh(){return Jh=$i(Gi().mark((function e(t,n,r){var i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(zo(t,"redirect-cancelled-by-user"))}),Hh))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Qs()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Jh.apply(this,arguments)}function Zh(e){var t,n,r,i,a,o,s,u,c,l,f=Wh();Ho("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ho("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ho("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ho("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ho("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ed(e){return td.apply(this,arguments)}function td(){return(td=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nd(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nd(e){if(Qo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var rd=20,id=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return m(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Eo(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(th);function ad(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:ld(),postBody:null,tenantId:e.tenantId,error:zo(e,"no-auth-event")}}function od(e,t){return fd()._set(hd(e),t)}function sd(e){return ud.apply(this,arguments)}function ud(){return(ud=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fd()._get(hd(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,fd()._remove(hd(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cd(e,t){var n,r,i=function(e){var t=dd(e),n=t.link?decodeURIComponent(t.link):void 0,r=dd(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return dd(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=dd(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(RF){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?zo(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ld(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<rd;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function fd(){return Fs(Il)}function hd(e){return Bs("authEvent",e.config.apiKey,e.name)}function dd(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=S(e.split("?"));t[0];return Bi(t.slice(1).join("?"))}var pd=function(){function e(){h(this,e),this._redirectPersistence=Sl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Yf,this._overrideRedirectResult=Vf}return m(e,[{key:"_initialize",value:function(){var e=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new id(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Bo(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=$i(Gi().mark((function e(t,n,r,i){var a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Rf.clear(),e.next=10,this._originValidation(t);case 10:return o=ad(t,r,i),e.next=13,od(t,o);case 13:return e.next=15,Gh(t,o,n);case 15:return s=e.sent,e.next=18,Xh(s);case 18:return u=e.sent,e.abrupt("return",Yh(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return $h.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Wh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout($i(Gi().mark((function n(){return Gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,sd(e);case 2:t.onEvent(md());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=$i(Gi().mark((function n(r){var i,a;return Gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,sd(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=cd(i,r.url)),t.onEvent(a||md());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Wh().handleOpenURL=function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(RF){console.error(RF)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),vd=pd;function md(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zo("no-auth-event")}}var yd=1e3;function gd(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function kd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti();return!("file:"!==gd()&&"ionic:"!==gd()&&"capacitor:"!==gd()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function bd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti();return Pi()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti();return/Edge\/\d+/.test(e)}(e)}function wd(){try{var e=self.localStorage,t=Al();if(e)return e.setItem(t,"1"),e.removeItem(t),!bd()||Oi()}catch(RF){return xd()&&Oi()}return!1}function xd(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Id(){return("http:"===gd()||"https:"===gd()||Ci()||kd())&&!(Ni()||Ai())&&wd()&&!xd()}function Ed(){return kd()&&"undefined"!==typeof document}function Sd(){return _d.apply(this,arguments)}function _d(){return(_d=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ed()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),yd);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Td={LOCAL:"local",NONE:"none",SESSION:"session"},Ad=Ho,Cd="persistence";function Nd(e,t){Ad(Object.values(Td).includes(t),e,"invalid-persistence-type"),Ni()?Ad(t!==Td.SESSION,e,"unsupported-persistence-type"):Ai()?Ad(t===Td.NONE,e,"unsupported-persistence-type"):xd()?Ad(t===Td.NONE||t===Td.LOCAL&&Oi(),e,"unsupported-persistence-type"):Ad(t===Td.NONE||wd(),e,"unsupported-persistence-type")}function Pd(e){return Od.apply(this,arguments)}function Od(){return(Od=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Dd(),r=Bs(Cd,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(RF){return null}}var Rd=Ho,Ld=function(){function e(){h(this,e),this.browserResolver=Fs(Dh),this.cordovaResolver=Fs(vd),this.underlyingResolver=null,this._redirectPersistence=Sl,this._completeRedirectFn=Yf,this._overrideRedirectResult=Vf}return m(e,[{key:"_initialize",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=$i(Gi().mark((function e(t,n,r,i){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=$i(Gi().mark((function e(t,n,r,i){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ed()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Rd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=$i(Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Sd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jd(e){return e.unwrap()}function Md(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new zd(e,function(e,t){var n,r=Hi(e),i=t;return Ho(t.customData.operationType,r,"argument-error"),Ho(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),vl._fromError(r,i)}(e,t));else if(r){var i=Fd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Fd(e){var t=(e instanceof Di?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Di)&&"temporaryProof"in t&&"phoneNumber"in t)return gf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===To.PASSWORD)return null;switch(r){case To.GOOGLE:n=ac;break;case To.FACEBOOK:n=ic;break;case To.GITHUB:n=oc;break;case To.TWITTER:n=cc;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?sc._create(r,s):Wu._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new rc(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Di?n.credentialFromError(e):n.credentialFromResult(e)}function Ud(e,t){return t.catch((function(t){throw t instanceof Di&&Md(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Fd(t)),additionalUserInfo:dl(e),user:qd.getOrCreate(r)}}))}function Vd(e,t){return Bd.apply(this,arguments)}function Bd(){return(Bd=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Ud(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zd=function(){function e(t,n){h(this,e),this.resolver=n,this.auth=t.wrapped()}return m(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Ud(jd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),qd=function(){function e(t){h(this,e),this._delegate=t,this.multiFactor=function(e){var t=Hi(e);return kl.has(t)||kl.set(t,gl._fromUser(t)),kl.get(t)}(t)}return m(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ud(this.auth,Nc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vd(this.auth,hf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ud(this.auth,Nf(this._delegate,t,Ld)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pd(pu(this.auth));case 2:return e.abrupt("return",Gf(this._delegate,t,Ld));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ud(this.auth,Oc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Vd(this.auth,function(e,t,n){return pf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Ud(this.auth,function(e,t,n){return Cf.apply(this,arguments)}(this._delegate,e,Ld))}},{key:"reauthenticateWithRedirect",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pd(pu(this.auth));case 2:return e.abrupt("return",Wf(this._delegate,t,Ld));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return el.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return al(Hi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return al(Hi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return yf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return il.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return tl.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();qd.USER_MAP=new WeakMap;var Kd=Ho,Wd=function(){function e(t,n){if(h(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Kd(r,"invalid-api-key",{appName:t.name}),Kd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ld:void 0;this._delegate=n.initialize({options:{persistence:Gd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Lo),this.linkUnderlyingAuth()}return m(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?qd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){mu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return qc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Kc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return zc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ud(this._delegate,Gc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Zc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Zu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=$i(Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kd(Id(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,$f(this._delegate,Ld);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Ud(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){pu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Hd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Hd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return $c.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Bc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nd(this._delegate,t),e.t0=t,e.next=e.t0===Td.SESSION?4:e.t0===Td.LOCAL?6:e.t0===Td.NONE?11:13;break;case 4:return n=Sl,e.abrupt("break",14);case 6:return e.next=8,Fs($l)._isAvailable();case 8:return r=e.sent,n=r?$l:Il,e.abrupt("break",14);case 11:return n=Vs,e.abrupt("break",14);case 13:return e.abrupt("return",Bo("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Ud(this._delegate,function(e){return pc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Ud(this._delegate,Ac(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Ud(this._delegate,function(e,t){return jc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Ud(this._delegate,function(e,t,n){return Ac(Hi(e),ec.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Ud(this._delegate,function(e,t,n){return Xc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Vd(this._delegate,function(e,t,n){return ff.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kd(Id(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Ud(this._delegate,Tf(this._delegate,t,Ld)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kd(Id(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Pd(this._delegate);case 3:return e.abrupt("return",qf(this._delegate,t,Ld));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Hc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Hd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&qd.getOrCreate(e))},error:t,complete:n}}function Gd(e,t){var n=function(e,t){var n=Dd();if(!n)return[];var r=Bs(Cd,e,t);switch(n.getItem(r)){case Td.NONE:return[Vs];case Td.LOCAL:return[$l,Sl];case Td.SESSION:return[Sl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes($l)||n.push($l),"undefined"!==typeof window)for(var r=0,i=[Il,Sl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Vs)||n.push(Vs),n}Wd.Persistence=Td;var Qd=function(){function e(){h(this,e),this.providerId="phone",this._delegate=new gf(jd(Io.auth()))}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return gf.credential(e,t)}}]),e}();Qd.PHONE_SIGN_IN_METHOD=gf.PHONE_SIGN_IN_METHOD,Qd.PROVIDER_ID=gf.PROVIDER_ID;var $d,Xd=Ho,Yd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Io.app();h(this,e),Xd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new uf(t,n,i.auth()),this.type=this._delegate.type}return m(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();($d=Io).INTERNAL.registerComponent(new Xi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Wd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ao,PASSWORD_RESET:Co,RECOVER_EMAIL:No,REVERT_SECOND_FACTOR_ADDITION:Po,VERIFY_AND_CHANGE_EMAIL:Oo,VERIFY_EMAIL:Do}},EmailAuthProvider:ec,FacebookAuthProvider:ic,GithubAuthProvider:oc,GoogleAuthProvider:ac,OAuthProvider:rc,SAMLAuthProvider:uc,PhoneAuthProvider:Qd,PhoneMultiFactorGenerator:jh,RecaptchaVerifier:Yd,TwitterAuthProvider:cc,Auth:Wd,AuthCredential:ku,Error:Di}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$d.registerVersion("@firebase/auth-compat","0.4.1");var Jd,Zd,ep=function(e,t){return t.some((function(t){return e instanceof t}))};var tp=new WeakMap,np=new WeakMap,rp=new WeakMap,ip=new WeakMap,ap=new WeakMap;var op={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return np.get(e);if("objectStoreNames"===t)return e.objectStoreNames||rp.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cp(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function sp(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Zd||(Zd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(lp(this),n),cp(tp.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cp(e.apply(lp(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[lp(this),t].concat(r));return rp.set(a,t.sort?t.sort():[t]),cp(a)}}function up(e){return"function"===typeof e?sp(e):(e instanceof IDBTransaction&&function(e){if(!np.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));np.set(e,t)}}(e),ep(e,Jd||(Jd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,op):e)}function cp(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(cp(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&tp.set(t,e)})).catch((function(){})),ap.set(t,e),t}(e);if(ip.has(e))return ip.get(e);var t=up(e);return t!==e&&(ip.set(e,t),ap.set(t,e)),t}var lp=function(e){return ap.get(e)};var fp,hp=["get","getKey","getAll","getAllKeys","count"],dp=["put","add","delete","clear"],pp=new Map;function vp(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(pp.get(t))return pp.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=dp.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||hp.includes(n))){var a=function(){var e=$i(Gi().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return pp.set(t,a),a}}}!function(e){op=e(op)}((function(e){return tt(tt({},e),{},{get:function(t,n,r){return vp(t,n)||e.get(t,n,r)},has:function(t,n){return!!vp(t,n)||e.has(t,n)}})}));var mp="@firebase/installations",yp="0.6.4",gp=1e4,kp="w:".concat(yp),bp="FIS_v2",wp="https://firebaseinstallations.googleapis.com/v1",xp=36e5,Ip=(Ze(fp={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Ze(fp,"not-registered","Firebase Installation is not registered."),Ze(fp,"installation-not-found","Firebase Installation not found."),Ze(fp,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Ze(fp,"app-offline","Could not process request. Application offline."),Ze(fp,"delete-pending-registration","Can't delete installation while there is a pending registration request."),fp),Ep=new Ri("installations","Installations",Ip);function Sp(e){return e instanceof Di&&e.code.includes("request-failed")}function _p(e){var t=e.projectId;return"".concat(wp,"/projects/").concat(t,"/installations")}function Tp(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Ap(e,t){return Cp.apply(this,arguments)}function Cp(){return(Cp=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",Ep.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Np(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Pp(e,t){var n=t.refreshToken,r=Np(e);return r.append("Authorization",function(e){return"".concat(bp," ").concat(e)}(n)),r}function Op(e){return Dp.apply(this,arguments)}function Dp(){return Dp=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Dp.apply(this,arguments)}function Rp(e,t){return Lp.apply(this,arguments)}function Lp(){return(Lp=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=_p(r),s=Np(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:bp,appId:r.appId,sdkVersion:kp},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,Op((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:Tp(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,Ap("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jp(e){return new Promise((function(t){setTimeout(t,e)}))}var Mp=/^[cdef][\w-]{21}$/,Fp="";function Up(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,f(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Mp.test(t)?t:Fp}catch(_D){return Fp}}function Vp(e){return"".concat(e.appName,"!").concat(e.appId)}var Bp=new Map;function zp(e,t){var n=Vp(e);qp(n,t),function(e,t){var n=Wp();n&&n.postMessage({key:e,fid:t});Hp()}(n,t)}function qp(e,t){var n=Bp.get(e);if(n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Kp=null;function Wp(){return!Kp&&"BroadcastChannel"in self&&((Kp=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){qp(e.data.key,e.data.fid)}),Kp}function Hp(){0===Bp.size&&Kp&&(Kp.close(),Kp=null)}var Gp="firebase-installations-database",Qp=1,$p="firebase-installations-store",Xp=null;function Yp(){return Xp||(Xp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=cp(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(cp(s.result),e.oldVersion,e.newVersion,cp(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(Gp,Qp,{upgrade:function(e,t){if(0===t)e.createObjectStore($p)}})),Xp}function Jp(e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=$i(Gi().mark((function e(t,n){var r,i,a,o,s;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vp(t),e.next=3,Yp();case 3:return i=e.sent,a=i.transaction($p,"readwrite"),o=a.objectStore($p),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||zp(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),Zp.apply(this,arguments)}function ev(e){return tv.apply(this,arguments)}function tv(){return tv=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vp(t),e.next=3,Yp();case 3:return r=e.sent,i=r.transaction($p,"readwrite"),e.next=7,i.objectStore($p).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),tv.apply(this,arguments)}function nv(e,t){return rv.apply(this,arguments)}function rv(){return rv=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vp(t),e.next=3,Yp();case 3:return i=e.sent,a=i.transaction($p,"readwrite"),o=a.objectStore($p),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||zp(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(e){return av.apply(this,arguments)}function av(){return(av=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nv(t.appConfig,(function(e){var r=ov(e),i=sv(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==Fp){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ov(e){return hv(e||{fid:Up(),registrationStatus:0})}function sv(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Ep.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return uv.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:cv(e)}:{installationEntry:t}}function uv(){return(uv=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rp(t,n);case 3:return r=e.sent,e.abrupt("return",Jp(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Sp(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,ev(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Jp(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function cv(e){return lv.apply(this,arguments)}function lv(){return(lv=$i(Gi().mark((function e(t){var n,r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fv(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,jp(100);case 6:return e.next=8,fv(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,iv(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fv(e){return nv(e,(function(e){if(!e)throw Ep.create("installation-not-found");return hv(e)}))}function hv(e){return 1===(t=e).registrationStatus&&t.registrationTime+gp<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function dv(e,t){return pv.apply(this,arguments)}function pv(){return(pv=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=vv(r,n),o=Pp(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:kp,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,Op((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=Tp(h),e.abrupt("return",d);case 22:return e.next=24,Ap("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vv(e,t){var n=t.fid;return"".concat(_p(e),"/").concat(n,"/authTokens:generate")}function mv(e){return yv.apply(this,arguments)}function yv(){return yv=$i(Gi().mark((function e(t){var n,r,i,a,o=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,nv(t.appConfig,(function(e){if(!Iv(e))throw Ep.create("not-registered");var i=e.authToken;if(!n&&Ev(i))return e;if(1===i.requestStatus)return r=gv(t,n),e;if(!navigator.onLine)throw Ep.create("app-offline");var a=Sv(e);return r=wv(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),yv.apply(this,arguments)}function gv(e,t){return kv.apply(this,arguments)}function kv(){return(kv=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bv(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,jp(100);case 6:return e.next=8,bv(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",mv(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bv(e){return nv(e,(function(e){if(!Iv(e))throw Ep.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+gp<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function wv(e,t){return xv.apply(this,arguments)}function xv(){return(xv=$i(Gi().mark((function e(t,n){var r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dv(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Jp(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!Sp(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,ev(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Jp(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Iv(e){return void 0!==e&&2===e.registrationStatus}function Ev(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+xp}(e)}function Sv(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function _v(){return(_v=$i(Gi().mark((function e(t){var n,r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,iv(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):mv(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tv(){return Tv=$i(Gi().mark((function e(t){var n,r,i,a=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Av(r);case 4:return e.next=6,mv(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Av(e){return Cv.apply(this,arguments)}function Cv(){return(Cv=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iv(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nv(e){return Ep.create("missing-app-config-values",{valueName:e})}var Pv="installations",Ov=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Nv("App Configuration");if(!e.name)throw Nv("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Nv(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Fa(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Dv=function(e){var t=Fa(e.getProvider("app").getImmediate(),Pv).getImmediate(),n={getId:function(){return function(e){return _v.apply(this,arguments)}(t)},getToken:function(e){return function(e){return Tv.apply(this,arguments)}(t,e)}};return n};Ma(new Xi(Pv,Ov,"PUBLIC")),Ma(new Xi("installations-internal",Dv,"PRIVATE")),Xa(mp,yp),Xa(mp,yp,"esm2017");var Rv,Lv,jv=function(e,t){return t.some((function(t){return e instanceof t}))};var Mv=new WeakMap,Fv=new WeakMap,Uv=new WeakMap,Vv=new WeakMap,Bv=new WeakMap;var zv={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Fv.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Uv.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wv(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function qv(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Lv||(Lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Hv(this),n),Wv(Mv.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wv(e.apply(Hv(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Hv(this),t].concat(r));return Uv.set(a,t.sort?t.sort():[t]),Wv(a)}}function Kv(e){return"function"===typeof e?qv(e):(e instanceof IDBTransaction&&function(e){if(!Fv.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Fv.set(e,t)}}(e),jv(e,Rv||(Rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,zv):e)}function Wv(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Wv(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Mv.set(t,e)})).catch((function(){})),Bv.set(t,e),t}(e);if(Vv.has(e))return Vv.get(e);var t=Kv(e);return t!==e&&(Vv.set(e,t),Bv.set(t,e)),t}var Hv=function(e){return Bv.get(e)};function Gv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Wv(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Wv(s.result),e.oldVersion,e.newVersion,Wv(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}function Qv(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).blocked,n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(function(){return t()})),Wv(n).then((function(){}))}var $v,Xv=["get","getKey","getAll","getAllKeys","count"],Yv=["put","add","delete","clear"],Jv=new Map;function Zv(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Jv.get(t))return Jv.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Yv.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Xv.includes(n))){var a=function(){var e=$i(Gi().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Jv.set(t,a),a}}}!function(e){zv=e(zv)}((function(e){return tt(tt({},e),{},{get:function(t,n,r){return Zv(t,n)||e.get(t,n,r)},has:function(t,n){return!!Zv(t,n)||e.has(t,n)}})}));var em,tm,nm="/firebase-messaging-sw.js",rm="/firebase-cloud-messaging-push-scope",im="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",am="https://fcmregistrations.googleapis.com/v1",om="google.c.a.c_id",sm="google.c.a.c_l",um="google.c.a.ts",cm="google.c.a.e";function lm(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,f(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fm(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(em||(em={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(tm||(tm={}));var hm="fcm_token_details_db",dm=5,pm="fcm_token_object_Store";function vm(e){return mm.apply(this,arguments)}function mm(){return mm=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(hm)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,Gv(hm,dm,{upgrade:function(){var e=$i(Gi().mark((function e(n,r,a,o){var s,u,c,l,f,h;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(pm)){e.next=4;break}return e.abrupt("return");case 4:return u=o.objectStore(pm),e.next=7,u.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,u.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:lm(l.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:lm(f.auth),p256dh:lm(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:lm(f.vapidKey)}}:4===r&&(i={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:lm(h.auth),p256dh:lm(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:lm(h.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,Qv(hm);case 14:return e.next=16,Qv("fcm_vapid_details_db");case 16:return e.next=18,Qv("undefined");case 18:return e.abrupt("return",ym(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),mm.apply(this,arguments)}function ym(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var gm="firebase-messaging-database",km=1,bm="firebase-messaging-store",wm=null;function xm(){return wm||(wm=Gv(gm,km,{upgrade:function(e,t){if(0===t)e.createObjectStore(bm)}})),wm}function Im(e){return Em.apply(this,arguments)}function Em(){return Em=$i(Gi().mark((function e(t){var n,r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cm(t),e.next=3,xm();case 3:return r=e.sent,e.next=6,r.transaction(bm).objectStore(bm).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,vm(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,Sm(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)}))),Em.apply(this,arguments)}function Sm(e,t){return _m.apply(this,arguments)}function _m(){return _m=$i(Gi().mark((function e(t,n){var r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cm(t),e.next=3,xm();case 3:return i=e.sent,a=i.transaction(bm,"readwrite"),e.next=7,a.objectStore(bm).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}function Tm(e){return Am.apply(this,arguments)}function Am(){return Am=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cm(t),e.next=3,xm();case 3:return r=e.sent,i=r.transaction(bm,"readwrite"),e.next=7,i.objectStore(bm).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Cm(e){return e.appConfig.appId}var Nm=(Ze($v={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Ze($v,"only-available-in-window","This method is available in a Window context."),Ze($v,"only-available-in-sw","This method is available in a service worker context."),Ze($v,"permission-default","The notification permission was not granted and dismissed instead."),Ze($v,"permission-blocked","The notification permission was not granted and blocked instead."),Ze($v,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Ze($v,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Ze($v,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Ze($v,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Ze($v,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Ze($v,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Ze($v,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Ze($v,"token-update-no-token","FCM returned no token when updating the user to push."),Ze($v,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Ze($v,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Ze($v,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Ze($v,"invalid-vapid-key","The public VAPID key must be a string."),Ze($v,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),$v),Pm=new Ri("messaging","Messaging",Nm);function Om(e,t){return Dm.apply(this,arguments)}function Dm(){return(Dm=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Um(t);case 2:return r=e.sent,i=Bm(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(Fm(t.appConfig),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Pm.create("token-subscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,Pm.create("token-subscribe-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw Pm.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function Rm(e,t){return Lm.apply(this,arguments)}function Lm(){return(Lm=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Um(t);case 2:return r=e.sent,i=Bm(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(Fm(t.appConfig),"/").concat(n.token),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Pm.create("token-update-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,Pm.create("token-update-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw Pm.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function jm(e,t){return Mm.apply(this,arguments)}function Mm(){return(Mm=$i(Gi().mark((function e(t,n){var r,i,a,o,s;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Um(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(Fm(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw s=o.error.message,Pm.create("token-unsubscribe-failed",{errorInfo:s});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),Pm.create("token-unsubscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function Fm(e){var t=e.projectId;return"".concat(am,"/projects/").concat(t,"/registrations")}function Um(e){return Vm.apply(this,arguments)}function Vm(){return(Vm=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bm(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==im&&(a.web.applicationPubKey=i),a}var zm=6048e5;function qm(e){return Km.apply(this,arguments)}function Km(){return(Km=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ym(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:lm(n.getKey("auth")),p256dh:lm(n.getKey("p256dh"))},e.next=6,Im(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",$m(t.firebaseDependencies,r));case 11:if(Zm(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,jm(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",$m(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+zm)){e.next=27;break}return e.abrupt("return",Gm(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function Wm(e){return Hm.apply(this,arguments)}function Hm(){return(Hm=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Im(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,jm(t.firebaseDependencies,n.token);case 6:return e.next=8,Tm(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gm(e,t){return Qm.apply(this,arguments)}function Qm(){return(Qm=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rm(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,Sm(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Wm(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function $m(e,t){return Xm.apply(this,arguments)}function Xm(){return(Xm=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Om(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,Sm(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ym(e,t){return Jm.apply(this,arguments)}function Jm(){return(Jm=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fm(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zm(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function ey(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var a=t.notification.icon;a&&(e.notification.icon=a)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;s&&(e.fcmOptions.link=s);var u=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}(t,e),t}function ty(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function ny(e){return Pm.create("missing-app-config-values",{valueName:e})}ty("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ty("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var ry=function(){function e(t,n,r){h(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw ny("App Configuration Object");if(!e.name)throw ny("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw ny(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return m(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function iy(e){return ay.apply(this,arguments)}function ay(){return(ay=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(nm,{scope:rm});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch((function(){})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Pm.create("failed-service-worker-registration",{browserErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function oy(e,t){return sy.apply(this,arguments)}function sy(){return(sy=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||t.swRegistration){e.next=3;break}return e.next=3,iy(t);case 3:if(n||!t.swRegistration){e.next=5;break}return e.abrupt("return");case 5:if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw Pm.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uy(e,t){return cy.apply(this,arguments)}function cy(){return(cy=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=im);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ly(e,t){return fy.apply(this,arguments)}function fy(){return fy=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Pm.create("only-available-in-window");case 2:if("default"!==Notification.permission){e.next=5;break}return e.next=5,Notification.requestPermission();case 5:if("granted"===Notification.permission){e.next=7;break}throw Pm.create("permission-blocked");case 7:return e.next=9,uy(t,null===n||void 0===n?void 0:n.vapidKey);case 9:return e.next=11,oy(t,null===n||void 0===n?void 0:n.serviceWorkerRegistration);case 11:return e.abrupt("return",qm(t));case 12:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e,t,n){return dy.apply(this,arguments)}function dy(){return(dy=$i(Gi().mark((function e(t,n,r){var i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=py(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(i,{message_id:r[om],message_name:r[sm],message_time:r[um],message_device_time:Math.floor(Date.now()/1e3)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function py(e){switch(e){case tm.NOTIFICATION_CLICKED:return"notification_open";case tm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function vy(){return(vy=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===tm.PUSH_RECEIVED&&("function"===typeof t.onMessageHandler?t.onMessageHandler(ey(r)):t.onMessageHandler.next(ey(r))),i=r.data,"object"!==typeof(a=i)||!a||!(om in a)||"1"!==i[cm]){e.next=8;break}return e.next=8,hy(t,r.messageType,i);case 8:case"end":return e.stop()}var a}),e)})))).apply(this,arguments)}var my,yy="@firebase/messaging",gy="0.12.4",ky=function(e){var t=new ry(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(function(e){return function(e,t){return vy.apply(this,arguments)}(t,e)})),t},by=function(e){var t=e.getProvider("messaging").getImmediate(),n={getToken:function(e){return ly(t,e)}};return n};function wy(){return(wy=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Pm.create("only-available-in-window");case 2:if(t.swRegistration){e.next=5;break}return e.next=5,iy(t);case 5:return e.abrupt("return",Wm(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xy(e,t){return Iy.apply(this,arguments)}function Iy(){return Iy=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Hi(t),e.abrupt("return",ly(t,n));case 2:case"end":return e.stop()}}),e)}))),Iy.apply(this,arguments)}function Ey(e){return function(e){return wy.apply(this,arguments)}(e=Hi(e))}function Sy(e,t){return function(e,t){if(!navigator)throw Pm.create("only-available-in-window");return e.onMessageHandler=t,function(){e.onMessageHandler=null}}(e=Hi(e),t)}Ma(new Xi("messaging",ky,"PUBLIC")),Ma(new Xi("messaging-internal",by,"PRIVATE")),Xa(yy,gy),Xa(yy,gy,"esm2017");var _y,Ty,Ay="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Cy="https://fcmregistrations.googleapis.com/v1",Ny="FCM_MSG",Py="google.c.a.c_id",Oy=3,Dy=1;function Ry(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,f(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ly(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(_y||(_y={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Ty||(Ty={}));var jy="fcm_token_details_db",My=5,Fy="fcm_token_object_Store";function Uy(e){return Vy.apply(this,arguments)}function Vy(){return Vy=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(jy)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,Gv(jy,My,{upgrade:function(){var e=$i(Gi().mark((function e(n,r,a,o){var s,u,c,l,f,h;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(Fy)){e.next=4;break}return e.abrupt("return");case 4:return u=o.objectStore(Fy),e.next=7,u.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,u.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:Ry(l.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Ry(f.auth),p256dh:Ry(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Ry(f.vapidKey)}}:4===r&&(i={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Ry(h.auth),p256dh:Ry(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Ry(h.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,Qv(jy);case 14:return e.next=16,Qv("fcm_vapid_details_db");case 16:return e.next=18,Qv("undefined");case 18:return e.abrupt("return",By(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),Vy.apply(this,arguments)}function By(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var zy="firebase-messaging-database",qy=1,Ky="firebase-messaging-store",Wy=null;function Hy(){return Wy||(Wy=Gv(zy,qy,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ky)}})),Wy}function Gy(e){return Qy.apply(this,arguments)}function Qy(){return Qy=$i(Gi().mark((function e(t){var n,r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zy(t),e.next=3,Hy();case 3:return r=e.sent,e.next=6,r.transaction(Ky).objectStore(Ky).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,Uy(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,$y(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}function $y(e,t){return Xy.apply(this,arguments)}function Xy(){return Xy=$i(Gi().mark((function e(t,n){var r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zy(t),e.next=3,Hy();case 3:return i=e.sent,a=i.transaction(Ky,"readwrite"),e.next=7,a.objectStore(Ky).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}function Yy(e){return Jy.apply(this,arguments)}function Jy(){return Jy=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zy(t),e.next=3,Hy();case 3:return r=e.sent,i=r.transaction(Ky,"readwrite"),e.next=7,i.objectStore(Ky).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}function Zy(e){return e.appConfig.appId}var eg=(Ze(my={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Ze(my,"only-available-in-window","This method is available in a Window context."),Ze(my,"only-available-in-sw","This method is available in a service worker context."),Ze(my,"permission-default","The notification permission was not granted and dismissed instead."),Ze(my,"permission-blocked","The notification permission was not granted and blocked instead."),Ze(my,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Ze(my,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Ze(my,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Ze(my,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Ze(my,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Ze(my,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Ze(my,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Ze(my,"token-update-no-token","FCM returned no token when updating the user to push."),Ze(my,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Ze(my,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Ze(my,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Ze(my,"invalid-vapid-key","The public VAPID key must be a string."),Ze(my,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),my),tg=new Ri("messaging","Messaging",eg);function ng(e,t){return rg.apply(this,arguments)}function rg(){return(rg=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cg(t);case 2:return r=e.sent,i=fg(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(ug(t.appConfig),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),tg.create("token-subscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,tg.create("token-subscribe-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw tg.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function ig(e,t){return ag.apply(this,arguments)}function ag(){return(ag=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cg(t);case 2:return r=e.sent,i=fg(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(ug(t.appConfig),"/").concat(n.token),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),tg.create("token-update-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,tg.create("token-update-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw tg.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function og(e,t){return sg.apply(this,arguments)}function sg(){return(sg=$i(Gi().mark((function e(t,n){var r,i,a,o,s;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cg(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(ug(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw s=o.error.message,tg.create("token-unsubscribe-failed",{errorInfo:s});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),tg.create("token-unsubscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function ug(e){var t=e.projectId;return"".concat(Cy,"/projects/").concat(t,"/registrations")}function cg(e){return lg.apply(this,arguments)}function lg(){return(lg=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fg(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==Ay&&(a.web.applicationPubKey=i),a}var hg=6048e5;function dg(e){return pg.apply(this,arguments)}function pg(){return(pg=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wg(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:Ry(n.getKey("auth")),p256dh:Ry(n.getKey("p256dh"))},e.next=6,Gy(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",kg(t.firebaseDependencies,r));case 11:if(Ig(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,og(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",kg(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+hg)){e.next=27;break}return e.abrupt("return",yg(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function vg(e){return mg.apply(this,arguments)}function mg(){return(mg=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gy(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,og(t.firebaseDependencies,n.token);case 6:return e.next=8,Yy(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yg(e,t){return gg.apply(this,arguments)}function gg(){return(gg=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ig(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,$y(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,vg(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function kg(e,t){return bg.apply(this,arguments)}function bg(){return(bg=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ng(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,$y(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wg(e,t){return xg.apply(this,arguments)}function xg(){return(xg=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ly(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ig(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function Eg(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var a=t.notification.icon;a&&(e.notification.icon=a)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;s&&(e.fcmOptions.link=s);var u=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}(t,e),t}function Sg(e){return new Promise((function(t){setTimeout(t,e)}))}function _g(e,t){return Tg.apply(this,arguments)}function Tg(){return(Tg=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ag,e.t1=n,e.next=4,t.firebaseDependencies.installations.getId();case 4:e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2),Cg(t,r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ag(e,t){var n,r,i={};return e.from&&(i.project_number=e.from),e.fcmMessageId&&(i.message_id=e.fcmMessageId),i.instance_id=t,e.notification?i.message_type=_y.DISPLAY_NOTIFICATION.toString():i.message_type=_y.DATA_MESSAGE.toString(),i.sdk_platform=Oy.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(i.collapse_key=e.collapse_key),i.event=Dy.toString(),(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)&&(i.analytics_label=null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label),i}function Cg(e,t){var n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}function Ng(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Pg(){return Pg=$i(Gi().mark((function e(t,n){var r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.newSubscription){e.next=5;break}return e.next=4,vg(n);case 4:return e.abrupt("return");case 5:return e.next=7,Gy(n.firebaseDependencies);case 7:return a=e.sent,e.next=10,vg(n);case 10:return n.vapidKey=null!==(i=null===(r=null===a||void 0===a?void 0:a.subscriptionOptions)||void 0===r?void 0:r.vapidKey)&&void 0!==i?i:Ay,e.next=13,dg(n);case 13:case"end":return e.stop()}}),e)}))),Pg.apply(this,arguments)}function Og(){return(Og=$i(Gi().mark((function e(t,n){var r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lg(t)){e.next=3;break}return e.abrupt("return");case 3:if(!n.deliveryMetricsExportedToBigQueryEnabled){e.next=6;break}return e.next=6,_g(n,r);case 6:return e.next=8,Vg();case 8:if(!Fg(i=e.sent)){e.next=11;break}return e.abrupt("return",Ug(i,r));case 11:if(!r.notification){e.next=14;break}return e.next=14,Bg(Rg(r));case 14:if(n){e.next=16;break}return e.abrupt("return");case 16:if(!n.onBackgroundMessageHandler){e.next=24;break}if(a=Eg(r),"function"!==typeof n.onBackgroundMessageHandler){e.next=23;break}return e.next=21,n.onBackgroundMessageHandler(a);case 21:e.next=24;break;case 23:n.onBackgroundMessageHandler.next(a);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dg(){return Dg=$i(Gi().mark((function e(t){var n,r,i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(r=null===(n=t.notification)||void 0===n?void 0:n.data)||void 0===r?void 0:r[Ny]){e.next=5;break}return e.abrupt("return");case 5:if(!t.action){e.next=7;break}return e.abrupt("return");case 7:if(t.stopImmediatePropagation(),t.notification.close(),a=zg(i)){e.next=12;break}return e.abrupt("return");case 12:if(o=new URL(a,self.location.href),s=new URL(self.location.origin),o.host===s.host){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,jg(o);case 18:if(u=e.sent){e.next=27;break}return e.next=22,self.clients.openWindow(a);case 22:return u=e.sent,e.next=25,Sg(3e3);case 25:e.next=30;break;case 27:return e.next=29,u.focus();case 29:u=e.sent;case 30:if(u){e.next=32;break}return e.abrupt("return");case 32:return i.messageType=Ty.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,e.abrupt("return",u.postMessage(i));case 35:case"end":return e.stop()}}),e)}))),Dg.apply(this,arguments)}function Rg(e){var t=Object.assign({},e.notification);return t.data=Ze({},Ny,e),t}function Lg(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}function jg(e){return Mg.apply(this,arguments)}function Mg(){return(Mg=$i(Gi().mark((function e(t){var n,r,i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vg();case 2:n=e.sent,r=_(n),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=13;break}if(a=i.value,o=new URL(a.url,self.location.href),t.host!==o.host){e.next=11;break}return e.abrupt("return",a);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[4,15,18,21]])})))).apply(this,arguments)}function Fg(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}function Ug(e,t){t.isFirebaseMessaging=!0,t.messageType=Ty.PUSH_RECEIVED;var n,r=_(e);try{for(r.s();!(n=r.n()).done;){n.value.postMessage(t)}}catch(i){r.e(i)}finally{r.f()}}function Vg(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Bg(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports ".concat(r," actions. The remaining actions will not be displayed.")),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function zg(e){var t,n,r,i,a=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;return a||("object"===typeof(i=e.data)&&i&&Py in i?self.location.origin:null)}function qg(e){return tg.create("missing-app-config-values",{valueName:e})}Ng("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ng("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Kg=function(){function e(t,n,r){h(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw qg("App Configuration Object");if(!e.name)throw qg("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw qg(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return m(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}(),Wg=function(e){var t=new Kg(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",(function(e){e.waitUntil(function(e,t){return Og.apply(this,arguments)}(e,t))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(function(e,t){return Pg.apply(this,arguments)}(e,t))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(function(e){return Dg.apply(this,arguments)}(e))})),t};function Hg(e,t){return function(e,t){if(void 0!==self.document)throw tg.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,function(){e.onBackgroundMessageHandler=null}}(e=Hi(e),t)}Ma(new Xi("messaging-sw",Wg,"PUBLIC"));var Gg=function(){function e(t,n){h(this,e),this.app=t,this._delegate=n,this.app=t,this._delegate=n}return m(e,[{key:"getToken",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xy(this._delegate,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteToken",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ey(this._delegate));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMessage",value:function(e){return Sy(this._delegate,e)}},{key:"onBackgroundMessage",value:function(e){return Hg(this._delegate,e)}}]),e}(),Qg=function(e){return self&&"ServiceWorkerGlobalScope"in self?new Gg(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new Gg(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate())},$g={isSupported:function(){return self&&"ServiceWorkerGlobalScope"in self?Oi()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!==typeof window&&Oi()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};Io.INTERNAL.registerComponent(new Xi("messaging-compat",Qg,"PUBLIC").setServiceProps($g)),Io.registerVersion("@firebase/messaging-compat","0.2.4");var Xg,Yg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Jg={},Zg=Zg||{},ek=Yg||self;function tk(){}function nk(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rk(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ik="closure_uid_"+(1e9*Math.random()>>>0),ak=0;function ok(e,t,n){return e.call.apply(e.bind,arguments)}function sk(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function uk(e,t,n){return(uk=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ok:sk).apply(null,arguments)}function ck(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function lk(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function fk(){this.s=this.s,this.o=this.o}fk.prototype.s=!1,fk.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ik)&&e[ik]||(e[ik]=++ak))},fk.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hk=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function dk(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function pk(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(nk(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function vk(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vk.prototype.h=function(){this.defaultPrevented=!0};var mk=function(){if(!ek.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ek.addEventListener("test",tk,t),ek.removeEventListener("test",tk,t)}catch(n){}return e}();function yk(e){return/^[\s\xa0]*$/.test(e)}var gk=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kk(e,t){return e<t?-1:e>t?1:0}function bk(){var e=ek.navigator;return e&&(e=e.userAgent)?e:""}function wk(e){return-1!=bk().indexOf(e)}function xk(e){return xk[" "](e),e}function Ik(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}xk[" "]=tk;var Ek,Sk=wk("Opera"),_k=wk("Trident")||wk("MSIE"),Tk=wk("Edge"),Ak=Tk||_k,Ck=wk("Gecko")&&!(-1!=bk().toLowerCase().indexOf("webkit")&&!wk("Edge"))&&!(wk("Trident")||wk("MSIE"))&&!wk("Edge"),Nk=-1!=bk().toLowerCase().indexOf("webkit")&&!wk("Edge");function Pk(){var e=ek.document;return e?e.documentMode:void 0}e:{var Ok="",Dk=function(){var e=bk();return Ck?/rv:([^\);]+)(\)|;)/.exec(e):Tk?/Edge\/([\d\.]+)/.exec(e):_k?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Nk?/WebKit\/(\S+)/.exec(e):Sk?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Dk&&(Ok=Dk?Dk[1]:""),_k){var Rk=Pk();if(null!=Rk&&Rk>parseFloat(Ok)){Ek=String(Rk);break e}}Ek=Ok}var Lk,jk={};if(ek.document&&_k){var Mk=Pk();Lk=Mk||(parseInt(Ek,10)||void 0)}else Lk=void 0;var Fk=Lk;function Uk(e,t){if(vk.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ck){e:{try{xk(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Vk[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Uk.$.h.call(this)}}lk(Uk,vk);var Vk={2:"touch",3:"pen",4:"mouse"};Uk.prototype.h=function(){Uk.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bk="closure_listenable_"+(1e6*Math.random()|0),zk=0;function qk(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++zk,this.fa=this.ia=!1}function Kk(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Wk(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Hk(e){var t={};for(var n in e)t[n]=e[n];return t}var Gk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qk(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Gk.length;a++)n=Gk[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function $k(e){this.src=e,this.g={},this.h=0}function Xk(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=hk(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Kk(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Yk(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}$k.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Yk(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new qk(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Jk="closure_lm_"+(1e6*Math.random()|0),Zk={};function eb(e,t,n,r,i){if(r&&r.once)return nb(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)eb(e,t[a],n,r,i);return null}return n=cb(n),e&&e[Bk]?e.O(t,n,rk(r)?!!r.capture:!!r,i):tb(e,t,n,!1,r,i)}function tb(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=rk(i)?!!i.capture:!!i,s=sb(e);if(s||(e[Jk]=s=new $k(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ob;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)mk||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ab(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function nb(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)nb(e,t[a],n,r,i);return null}return n=cb(n),e&&e[Bk]?e.P(t,n,rk(r)?!!r.capture:!!r,i):tb(e,t,n,!0,r,i)}function rb(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)rb(e,t[a],n,r,i);else r=rk(r)?!!r.capture:!!r,n=cb(n),e&&e[Bk]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Yk(a=e.g[t],n,r,i))&&(Kk(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=sb(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yk(t,n,r,i)),(n=-1<e?t[e]:null)&&ib(n))}function ib(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Bk])Xk(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ab(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=sb(t))?(Xk(n,e),0==n.h&&(n.src=null,t[Jk]=null)):Kk(e)}}}function ab(e){return e in Zk?Zk[e]:Zk[e]="on"+e}function ob(e,t){if(e.fa)e=!0;else{t=new Uk(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ib(e),e=n.call(r,t)}return e}function sb(e){return(e=e[Jk])instanceof $k?e:null}var ub="__closure_events_fn_"+(1e9*Math.random()>>>0);function cb(e){return"function"===typeof e?e:(e[ub]||(e[ub]=function(t){return e.handleEvent(t)}),e[ub])}function lb(){fk.call(this),this.i=new $k(this),this.S=this,this.J=null}function fb(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new vk(t,e);else if(t instanceof vk)t.target=t.target||e;else{var i=t;Qk(t=new vk(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=hb(o,r,!0,t)&&i}if(i=hb(o=t.g=e,r,!0,t)&&i,i=hb(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=hb(o=t.g=n[a],r,!1,t)&&i}function hb(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Xk(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}lk(lb,fk),lb.prototype[Bk]=!0,lb.prototype.removeEventListener=function(e,t,n,r){rb(this,e,t,n,r)},lb.prototype.N=function(){if(lb.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kk(n[r]);delete t.g[e],t.h--}}this.J=null},lb.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},lb.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var db=ek.JSON.stringify;function pb(){var e=xb,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vb,mb=function(){function e(){h(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=yb.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),yb=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new gb}),(function(e){return e.reset()})),gb=function(){function e(){h(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function kb(e){ek.setTimeout((function(){throw e}),0)}function bb(e,t){vb||function(){var e=ek.Promise.resolve(void 0);vb=function(){e.then(Ib)}}(),wb||(vb(),wb=!0),xb.add(e,t)}var wb=!1,xb=new mb;function Ib(){for(var e;e=pb();){try{e.h.call(e.g)}catch(n){kb(n)}var t=yb;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}wb=!1}function Eb(e,t){lb.call(this),this.h=e||1,this.g=t||ek,this.j=uk(this.qb,this),this.l=Date.now()}function Sb(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function _b(e,t,n){if("function"===typeof e)n&&(e=uk(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=uk(e.handleEvent,e)}return 2147483647<Number(t)?-1:ek.setTimeout(e,t||0)}function Tb(e){e.g=_b((function(){e.g=null,e.i&&(e.i=!1,Tb(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}lk(Eb,lb),(Xg=Eb.prototype).ga=!1,Xg.T=null,Xg.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fb(this,"tick"),this.ga&&(Sb(this),this.start()))}},Xg.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xg.N=function(){Eb.$.N.call(this),Sb(this),delete this.g};var Ab=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Tb(this)}},{key:"N",value:function(){Eo(k(n.prototype),"N",this).call(this),this.g&&(ek.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(fk);function Cb(e){fk.call(this),this.h=e,this.g={}}lk(Cb,fk);var Nb=[];function Pb(e,t,n,r){Array.isArray(n)||(n&&(Nb[0]=n.toString()),n=Nb);for(var i=0;i<n.length;i++){var a=eb(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ob(e){Wk(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ib(e)}),e),e.g={}}function Db(){this.g=!0}function Rb(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return db(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Cb.prototype.N=function(){Cb.$.N.call(this),Ob(this)},Cb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Db.prototype.Ea=function(){this.g=!1},Db.prototype.info=function(){};var Lb={},jb=null;function Mb(){return jb=jb||new lb}function Fb(e){vk.call(this,Lb.Ta,e)}function Ub(e){var t=Mb();fb(t,new Fb(t))}function Vb(e,t){vk.call(this,Lb.STAT_EVENT,e),this.stat=t}function Bb(e){var t=Mb();fb(t,new Vb(t,e))}function zb(e,t){vk.call(this,Lb.Ua,e),this.size=t}function qb(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ek.setTimeout((function(){e()}),t)}Lb.Ta="serverreachability",lk(Fb,vk),Lb.STAT_EVENT="statevent",lk(Vb,vk),Lb.Ua="timingevent",lk(zb,vk);var Kb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Wb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hb(){}function Gb(e){return e.h||(e.h=e.i())}function Qb(){}Hb.prototype.h=null;var $b,Xb={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yb(){vk.call(this,"d")}function Jb(){vk.call(this,"c")}function Zb(){}function ew(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Cb(this),this.P=nw,e=Ak?125:void 0,this.V=new Eb(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new tw}function tw(){this.i=null,this.g="",this.h=!1}lk(Yb,vk),lk(Jb,vk),lk(Zb,Hb),Zb.prototype.g=function(){return new XMLHttpRequest},Zb.prototype.i=function(){return{}},$b=new Zb;var nw=45e3,rw={},iw={};function aw(e,t,n){e.L=1,e.v=Ew(kw(t)),e.s=n,e.S=!0,ow(e,null)}function ow(e,t){e.G=Date.now(),lw(e),e.A=kw(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Mw(n.i,"t",r),e.C=0,n=e.l.I,e.h=new tw,e.g=Fx(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ab(uk(e.Pa,e,e.g),e.O)),Pb(e.U,e.g,"readystatechange",e.nb),t=e.I?Hk(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ub(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function sw(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function uw(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=cw(e,n))==iw){4==t&&(e.o=4,Bb(14),i=!1),Rb(e.j,e.m,null,"[Incomplete Response]");break}if(r==rw){e.o=4,Bb(15),Rb(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Rb(e.j,e.m,r,null),vw(e,r)}sw(e)&&r!=iw&&r!=rw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Bb(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nx(t),t.L=!0,Bb(11))):(Rb(e.j,e.m,n,"[Invalid Chunked Response]"),pw(e),dw(e))}function cw(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?iw:(n=Number(t.substring(n,r)),isNaN(n)?rw:(r+=1)+n>t.length?iw:(t=t.substr(r,n),e.C=r+n,t))}function lw(e){e.Y=Date.now()+e.P,fw(e,e.P)}function fw(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=qb(uk(e.lb,e),t)}function hw(e){e.B&&(ek.clearTimeout(e.B),e.B=null)}function dw(e){0==e.l.H||e.J||Dx(e.l,e)}function pw(e){hw(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,Sb(e.V),Ob(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function vw(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ww(n.h,e)))if(!e.K&&Ww(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ox(n),xx(n)}Cx(n),Bb(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=qb(uk(n.ib,n),6e3));if(1>=Kw(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else Lx(n,11)}else if((e.K||n.g==e)&&Ox(n),!yk(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var s=a[4];null!=s&&(n.Ga=s,n.j.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Hw(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Iw(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Mx(r,r.I?r.oa:null,r.Y),d.K){Gw(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(hw(p),lw(p)),r.g=d}else Ax(r);0<n.i.length&&Ex(n)}else"stop"!=a[0]&&"close"!=a[0]||Lx(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Lx(n,7):wx(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}Ub()}catch(a){}}function mw(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nk(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(nk(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(nk(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Xg=ew.prototype).setTimeout=function(e){this.P=e},Xg.nb=function(e){e=e.target;var t=this.M;t&&3==vx(e)?t.l():this.Pa(e)},Xg.Pa=function(e){try{if(e==this.g)e:{var t=vx(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Ak||this.g&&(this.h.h||this.g.ja()||mx(this.g)))){this.J||4!=t||7==n||Ub(),hw(this);var r=this.g.da();this.aa=r;t:if(sw(this)){var i=mx(this.g);e="";var a=i.length,o=4==vx(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){pw(this),dw(this);var s="";break t}this.h.i=new ek.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yk(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Bb(12),pw(this),dw(this);break e}Rb(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vw(this,r)}this.S?(uw(this,t,s),Ak&&this.i&&3==t&&(Pb(this.U,this.V,"tick",this.mb),this.V.start())):(Rb(this.j,this.m,s,null),vw(this,s)),4==t&&pw(this),this.i&&!this.J&&(4==t?Dx(this.l,this):(this.i=!1,lw(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Bb(12)):(this.o=0,Bb(13)),pw(this),dw(this)}}}catch(t){}},Xg.mb=function(){if(this.g){var e=vx(this.g),t=this.g.ja();this.C<t.length&&(hw(this),uw(this,e,t),this.i&&4!=e&&lw(this))}},Xg.cancel=function(){this.J=!0,pw(this)},Xg.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Ub(),Bb(17)),pw(this),this.o=2,dw(this)):fw(this,this.Y-e)};var yw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gw(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof gw){this.h=void 0!==t?t:e.h,bw(this,e.j),this.s=e.s,this.g=e.g,ww(this,e.m),this.l=e.l,t=e.i;var n=new Dw;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xw(this,n),this.o=e.o}else e&&(n=String(e).match(yw))?(this.h=!!t,bw(this,n[1]||"",!0),this.s=Sw(n[2]||""),this.g=Sw(n[3]||"",!0),ww(this,n[4]),this.l=Sw(n[5]||"",!0),xw(this,n[6]||"",!0),this.o=Sw(n[7]||"")):(this.h=!!t,this.i=new Dw(null,this.h))}function kw(e){return new gw(e)}function bw(e,t,n){e.j=n?Sw(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ww(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xw(e,t,n){t instanceof Dw?(e.i=t,function(e,t){t&&!e.j&&(Rw(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Lw(this,t),Mw(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=_w(t,Pw)),e.i=new Dw(t,e.h))}function Iw(e,t,n){e.i.set(t,n)}function Ew(e){return Iw(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Sw(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _w(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Tw),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Tw(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gw.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_w(t,Aw,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(_w(t,Aw,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(_w(n,"/"==n.charAt(0)?Nw:Cw,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_w(n,Ow)),e.join("")};var Aw=/[#\/\?@]/g,Cw=/[#\?:]/g,Nw=/[#\?]/g,Pw=/[#\?@]/g,Ow=/#/g;function Dw(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Rw(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Lw(e,t){Rw(e),t=Fw(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jw(e,t){return Rw(e),t=Fw(e,t),e.g.has(t)}function Mw(e,t,n){Lw(e,t),0<n.length&&(e.i=null,e.g.set(Fw(e,t),dk(n)),e.h+=n.length)}function Fw(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Xg=Dw.prototype).add=function(e,t){Rw(this),this.i=null,e=Fw(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Xg.forEach=function(e,t){Rw(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Xg.sa=function(){Rw(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Xg.Z=function(e){Rw(this);var t=[];if("string"===typeof e)jw(this,e)&&(t=t.concat(this.g.get(Fw(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Xg.set=function(e,t){return Rw(this),this.i=null,jw(this,e=Fw(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Xg.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Xg.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Uw=m((function e(t,n){h(this,e),this.h=t,this.g=n}));function Vw(e){this.l=e||zw,ek.PerformanceNavigationTiming?e=0<(e=ek.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ek.g&&ek.g.Ka&&ek.g.Ka()&&ek.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bw,zw=10;function qw(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Kw(e){return e.h?1:e.g?e.g.size:0}function Ww(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Hw(e,t){e.g?e.g.add(t):e.h=t}function Gw(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Qw(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=_(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return dk(e.i)}function $w(){}function Xw(){this.g=new $w}function Yw(e,t,n){var r=n||"";try{mw(e,(function(e,n){var i=e;rk(e)&&(i=db(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(RF){throw t.push(r+"type="+encodeURIComponent("_badmap")),RF}}function Jw(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Zw(e){this.l=e.fc||null,this.j=e.ob||!1}function ex(e,t){lb.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=tx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vw.prototype.cancel=function(){if(this.i=Qw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=_(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},$w.prototype.stringify=function(e){return ek.JSON.stringify(e,void 0)},$w.prototype.parse=function(e){return ek.JSON.parse(e,void 0)},lk(Zw,Hb),Zw.prototype.g=function(){return new ex(this.l,this.j)},Zw.prototype.i=(Bw={},function(){return Bw}),lk(ex,lb);var tx=0;function nx(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function rx(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ix(e)}function ix(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Xg=ex.prototype).open=function(e,t){if(this.readyState!=tx)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ix(this)},Xg.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ek).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Xg.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rx(this)),this.readyState=tx},Xg.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ix(this)),this.g&&(this.readyState=3,ix(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ek.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nx(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Xg.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rx(this):ix(this),3==this.readyState&&nx(this)}},Xg.Za=function(e){this.g&&(this.response=this.responseText=e,rx(this))},Xg.Ya=function(e){this.g&&(this.response=e,rx(this))},Xg.ka=function(){this.g&&rx(this)},Xg.setRequestHeader=function(e,t){this.v.append(e,t)},Xg.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Xg.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ex.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ax=ek.JSON.parse;function ox(e){lb.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sx,this.L=this.M=!1}lk(ox,lb);var sx="",ux=/^https?$/i,cx=["POST","PUT"];function lx(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fx(e),dx(e)}function fx(e){e.F||(e.F=!0,fb(e,"complete"),fb(e,"error"))}function hx(e){if(e.h&&"undefined"!=typeof Zg&&(!e.C[1]||4!=vx(e)||2!=e.da()))if(e.v&&4==vx(e))_b(e.La,0,e);else if(fb(e,"readystatechange"),4==vx(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(yw)[1]||null;if(!a&&ek.self&&ek.self.location){var o=ek.self.location.protocol;a=o.substr(0,o.length-1)}i=!ux.test(a?a.toLowerCase():"")}t=i}if(t)fb(e,"complete"),fb(e,"success");else{e.m=6;try{var s=2<vx(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.da()+"]",fx(e)}}finally{dx(e)}}}function dx(e,t){if(e.g){px(e);var n=e.g,r=e.C[0]?tk:null;e.g=null,e.C=null,t||fb(e,"ready");try{n.onreadystatechange=r}catch(RF){}}}function px(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ek.clearTimeout(e.A),e.A=null)}function vx(e){return e.g?e.g.readyState:0}function mx(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case sx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(wI){return null}}function yx(e){var t="";return Wk(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function gx(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yx(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Iw(e,t,n))}function kx(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bx(e){this.Ga=0,this.i=[],this.j=new Db,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=kx("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=kx("baseRetryDelayMs",5e3,e),this.hb=kx("retryDelaySeedMs",1e4,e),this.eb=kx("forwardChannelMaxRetries",2,e),this.xa=kx("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new Vw(e&&e.concurrentRequestLimit),this.Ja=new Xw,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function wx(e){if(Ix(e),3==e.H){var t=e.W++,n=kw(e.G);Iw(n,"SID",e.J),Iw(n,"RID",t),Iw(n,"TYPE","terminate"),_x(e,n),(t=new ew(e,e.j,t,void 0)).L=2,t.v=Ew(kw(n)),n=!1,ek.navigator&&ek.navigator.sendBeacon&&(n=ek.navigator.sendBeacon(t.v.toString(),"")),!n&&ek.Image&&((new Image).src=t.v,n=!0),n||(t.g=Fx(t.l,null),t.g.ha(t.v)),t.G=Date.now(),lw(t)}jx(e)}function xx(e){e.g&&(Nx(e),e.g.cancel(),e.g=null)}function Ix(e){xx(e),e.u&&(ek.clearTimeout(e.u),e.u=null),Ox(e),e.h.cancel(),e.m&&("number"===typeof e.m&&ek.clearTimeout(e.m),e.m=null)}function Ex(e){qw(e.h)||e.m||(e.m=!0,bb(e.Na,e),e.C=0)}function Sx(e,t){var n;n=t?t.m:e.W++;var r=kw(e.G);Iw(r,"SID",e.J),Iw(r,"RID",n),Iw(r,"AID",e.V),_x(e,r),e.o&&e.s&&gx(r,e.o,e.s),n=new ew(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=Tx(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Hw(e.h,n),aw(n,r,t)}function _x(e,t){e.ma&&Wk(e.ma,(function(e,n){Iw(t,n,e)})),e.l&&mw({},(function(e,n){Iw(t,n,e)}))}function Tx(e,t,n){n=Math.min(e.i.length,n);var r=e.l?uk(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Yw(l,o,"req"+c+"_")}catch(OI){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function Ax(e){e.g||e.u||(e.ba=1,bb(e.Ma,e),e.A=0)}function Cx(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=qb(uk(e.Ma,e),Rx(e,e.A)),e.A++,!0)}function Nx(e){null!=e.B&&(ek.clearTimeout(e.B),e.B=null)}function Px(e){e.g=new ew(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=kw(e.wa);Iw(t,"RID","rpc"),Iw(t,"SID",e.J),Iw(t,"CI",e.M?"0":"1"),Iw(t,"AID",e.V),Iw(t,"TYPE","xmlhttp"),_x(e,t),e.o&&e.s&&gx(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=Ew(kw(t)),n.s=null,n.S=!0,ow(n,e)}function Ox(e){null!=e.v&&(ek.clearTimeout(e.v),e.v=null)}function Dx(e,t){var n=null;if(e.g==t){Ox(e),Nx(e),e.g=null;var r=2}else{if(!Ww(e.h,t))return;n=t.F,Gw(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;fb(r=Mb(),new zb(r,n)),Ex(e)}else Ax(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(Kw(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=qb(uk(e.Na,e,t),Rx(e,e.C)),e.C++,!0))}(e,t)||2==r&&Cx(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Lx(e,5);break;case 4:Lx(e,10);break;case 3:Lx(e,6);break;default:Lx(e,2)}}function Rx(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function Lx(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=uk(e.pb,e);n||(n=new gw("//www.google.com/images/cleardot.gif"),ek.location&&"http"==ek.location.protocol||bw(n,"https"),Ew(n)),function(e,t){var n=new Db;if(ek.Image){var r=new Image;r.onload=ck(Jw,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ck(Jw,n,r,"TestLoadImage: error",!1,t),r.onabort=ck(Jw,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ck(Jw,n,r,"TestLoadImage: timeout",!1,t),ek.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bb(2);e.H=0,e.l&&e.l.za(t),jx(e),Ix(e)}function jx(e){if(e.H=0,e.pa=[],e.l){var t=Qw(e.h);0==t.length&&0==e.i.length||(pk(e.pa,t),pk(e.pa,e.i),e.h.i.length=0,dk(e.i),e.i.length=0),e.l.ya()}}function Mx(e,t,n){var r=n instanceof gw?kw(n):new gw(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),ww(r,r.m);else{var i=ek.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new gw(null,void 0);r&&bw(a,r),t&&(a.g=t),i&&ww(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Iw(r,n,t),Iw(r,"VER",e.qa),_x(e,r),r}function Fx(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new ox(new Zw({ob:!0})):new ox(e.va)).Oa(e.I),t}function Ux(){}function Vx(){if(_k&&!(10<=Number(Fk)))throw Error("Environmental error: no available transport.")}function Bx(e,t){lb.call(this),this.g=new bx(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!yk(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yk(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Kx(this)}function zx(e){Yb.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function qx(){Jb.call(this),this.status=1}function Kx(e){this.g=e}function Wx(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Hx(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Gx(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Xg=ox.prototype).Oa=function(e){this.M=e},Xg.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$b.g(),this.C=this.u?Gb(this.u):Gb($b),this.g.onreadystatechange=uk(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void lx(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=_(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ek.FormData&&e instanceof ek.FormData,!(0<=hk(cx,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=_(n);try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{px(this),0<this.B&&((this.L=function(e){return _k&&Ik(jk,9,(function(){for(var e=0,t=gk(String(Ek)).split("."),n=gk("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=kk(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||kk(0==a[2].length,0==o[2].length)||kk(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=uk(this.ua,this)):this.A=_b(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){lx(this,s)}},Xg.ua=function(){"undefined"!=typeof Zg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fb(this,"timeout"),this.abort(8))},Xg.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,fb(this,"complete"),fb(this,"abort"),dx(this))},Xg.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dx(this,!0)),ox.$.N.call(this)},Xg.La=function(){this.s||(this.G||this.v||this.l?hx(this):this.kb())},Xg.kb=function(){hx(this)},Xg.da=function(){try{return 2<vx(this)?this.g.status:-1}catch(Bw){return-1}},Xg.ja=function(){try{return this.g?this.g.responseText:""}catch(Bw){return""}},Xg.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ax(t)}},Xg.Ia=function(){return this.m},Xg.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Xg=bx.prototype).qa=8,Xg.H=1,Xg.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new ew(this,this.j,e,void 0),n=this.s;if(this.U&&(n?Qk(n=Hk(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Tx(this,t,r),Iw(i=kw(this.G),"RID",e),Iw(i,"CVER",22),this.F&&Iw(i,"X-HTTP-Session-Id",this.F),_x(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(yx(n)))+"&"+r:this.o&&gx(i,this.o,n)),Hw(this.h,t),this.bb&&Iw(i,"TYPE","init"),this.P?(Iw(i,"$req",r),Iw(i,"SID","null"),t.ba=!0,aw(t,i,null)):aw(t,i,r),this.H=2}}else 3==this.H&&(e?Sx(this,e):0==this.i.length||qw(this.h)||Sx(this))},Xg.Ma=function(){if(this.u=null,Px(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=qb(uk(this.jb,this),e)}},Xg.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Bb(10),xx(this),Px(this))},Xg.ib=function(){null!=this.v&&(this.v=null,xx(this),Cx(this),Bb(19))},Xg.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Bb(2)):(this.j.info("Failed to ping google.com"),Bb(1))},(Xg=Ux.prototype).Ba=function(){},Xg.Aa=function(){},Xg.za=function(){},Xg.ya=function(){},Xg.Va=function(){},Vx.prototype.g=function(e,t){return new Bx(e,t)},lk(Bx,lb),Bx.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Bb(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=Mx(e,null,e.Y),Ex(e)},Bx.prototype.close=function(){wx(this.g)},Bx.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=db(e),e=n);t.i.push(new Uw(t.fb++,e)),3==t.H&&Ex(t)},Bx.prototype.N=function(){this.g.l=null,delete this.j,wx(this.g),delete this.g,Bx.$.N.call(this)},lk(zx,Yb),lk(qx,Jb),lk(Kx,Ux),Kx.prototype.Ba=function(){fb(this.g,"a")},Kx.prototype.Aa=function(e){fb(this.g,new zx(e))},Kx.prototype.za=function(e){fb(this.g,new qx)},Kx.prototype.ya=function(){fb(this.g,"b")},lk(Wx,(function(){this.blockSize=-1})),Wx.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wx.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Hx(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Hx(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Hx(this,r),i=0;break}}this.h=i,this.i+=t},Wx.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Qx={};function $x(e){return-128<=e&&128>e?Ik(Qx,e,(function(e){return new Gx([0|e],0>e?-1:0)})):new Gx([0|e],0>e?-1:0)}function Xx(e){if(isNaN(e)||!isFinite(e))return Jx;if(0>e)return rI(Xx(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Yx;return new Gx(t,0)}var Yx=4294967296,Jx=$x(0),Zx=$x(1),eI=$x(16777216);function tI(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function nI(e){return-1==e.h}function rI(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Gx(n,~e.h).add(Zx)}function iI(e,t){return e.add(rI(t))}function aI(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function oI(e,t){this.g=e,this.h=t}function sI(e,t){if(tI(t))throw Error("division by zero");if(tI(e))return new oI(Jx,Jx);if(nI(e))return t=sI(rI(e),t),new oI(rI(t.g),rI(t.h));if(nI(t))return t=sI(e,rI(t)),new oI(rI(t.g),t.h);if(30<e.g.length){if(nI(e)||nI(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Zx,r=t;0>=r.X(e);)n=uI(n),r=uI(r);var i=cI(n,1),a=cI(r,1);for(r=cI(r,2),n=cI(n,2);!tI(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=cI(r,1),n=cI(n,1)}return t=iI(e,i.R(t)),new oI(i,t)}for(i=Jx;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Xx(n)).R(t);nI(o)||0<o.X(e);)o=(a=Xx(n-=r)).R(t);tI(a)&&(a=Zx),i=i.add(a),e=iI(e,o)}return new oI(i,e)}function uI(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Gx(n,e.h)}function cI(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Gx(i,e.h)}(Xg=Gx.prototype).ea=function(){if(nI(this))return-rI(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Yx+r)*t,t*=Yx}return e},Xg.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(tI(this))return"0";if(nI(this))return"-"+rI(this).toString(e);for(var t=Xx(Math.pow(e,6)),n=this,r="";;){var i=sI(n,t).g,a=((0<(n=iI(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(tI(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Xg.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Xg.X=function(e){return nI(e=iI(this,e))?-1:tI(e)?0:1},Xg.abs=function(){return nI(this)?rI(this):this},Xg.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Gx(n,-2147483648&n[n.length-1]?-1:0)},Xg.R=function(e){if(tI(this)||tI(e))return Jx;if(nI(this))return nI(e)?rI(this).R(rI(e)):rI(rI(this).R(e));if(nI(e))return rI(this.R(rI(e)));if(0>this.X(eI)&&0>e.X(eI))return Xx(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,aI(n,2*r+2*i),n[2*r+2*i+1]+=a*u,aI(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,aI(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,aI(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Gx(n,0)},Xg.gb=function(e){return sI(this,e).h},Xg.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Gx(n,this.h&e.h)},Xg.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Gx(n,this.h|e.h)},Xg.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Gx(n,this.h^e.h)},Vx.prototype.createWebChannel=Vx.prototype.g,Bx.prototype.send=Bx.prototype.u,Bx.prototype.open=Bx.prototype.m,Bx.prototype.close=Bx.prototype.close,Kb.NO_ERROR=0,Kb.TIMEOUT=8,Kb.HTTP_ERROR=6,Wb.COMPLETE="complete",Qb.EventType=Xb,Xb.OPEN="a",Xb.CLOSE="b",Xb.ERROR="c",Xb.MESSAGE="d",lb.prototype.listen=lb.prototype.O,ox.prototype.listenOnce=ox.prototype.P,ox.prototype.getLastError=ox.prototype.Sa,ox.prototype.getLastErrorCode=ox.prototype.Ia,ox.prototype.getStatus=ox.prototype.da,ox.prototype.getResponseJson=ox.prototype.Wa,ox.prototype.getResponseText=ox.prototype.ja,ox.prototype.send=ox.prototype.ha,ox.prototype.setWithCredentials=ox.prototype.Oa,Wx.prototype.digest=Wx.prototype.l,Wx.prototype.reset=Wx.prototype.reset,Wx.prototype.update=Wx.prototype.j,Gx.prototype.add=Gx.prototype.add,Gx.prototype.multiply=Gx.prototype.R,Gx.prototype.modulo=Gx.prototype.gb,Gx.prototype.compare=Gx.prototype.X,Gx.prototype.toNumber=Gx.prototype.ea,Gx.prototype.toString=Gx.prototype.toString,Gx.prototype.getBits=Gx.prototype.D,Gx.fromNumber=Xx,Gx.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return rI(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Xx(Math.pow(n,8)),i=Jx,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Xx(Math.pow(n,o)),i=i.R(o).add(Xx(s))):i=(i=i.R(r)).add(Xx(s))}return i};var lI=Jg.createWebChannelTransport=function(){return new Vx},fI=Jg.getStatEventTarget=function(){return Mb()},hI=Jg.ErrorCode=Kb,dI=Jg.EventType=Wb,pI=Jg.Event=Lb,vI=Jg.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mI=Jg.FetchXmlHttpFactory=Zw,yI=Jg.WebChannel=Qb,gI=Jg.XhrIo=ox,kI=Jg.Md5=Wx,bI=Jg.Integer=Gx,wI="@firebase/firestore",xI=function(){function e(t){h(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();xI.UNAUTHENTICATED=new xI(null),xI.GOOGLE_CREDENTIALS=new xI("google-credentials-uid"),xI.FIRST_PARTY=new xI("first-party-uid"),xI.MOCK_USER=new xI("mock-user");var II="9.21.0",EI=new sa("@firebase/firestore");function SI(){return EI.logLevel}function _I(e){if(EI.logLevel<=ea.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(CI);EI.debug.apply(EI,["Firestore (".concat(II,"): ").concat(e)].concat(f(i)))}}function TI(e){if(EI.logLevel<=ea.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(CI);EI.error.apply(EI,["Firestore (".concat(II,"): ").concat(e)].concat(f(i)))}}function AI(e){if(EI.logLevel<=ea.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(CI);EI.warn.apply(EI,["Firestore (".concat(II,"): ").concat(e)].concat(f(i)))}}function CI(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function NI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(II,") INTERNAL ASSERTION FAILED: ")+e;throw TI(t),new Error(t)}function PI(e,t){e||NI()}function OI(e,t){return e}var DI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},RI=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}(Di),LI=m((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),jI=m((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),MI=function(){function e(){h(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xI.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),FI=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),UI=function(){function e(t){h(this,e),this.t=t,this.currentUser=xI.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new LI;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new LI,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable($i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){_I("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(_I("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new LI)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(_I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(PI("string"==typeof n.accessToken),new jI(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return PI(null===e||"string"==typeof e),new xI(e)}}]),e}(),VI=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=xI.FIRST_PARTY,this.g=new Map}return m(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),BI=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new VI(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xI.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),zI=m((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),qI=function(){function e(t){h(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&_I("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,_I("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){_I("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):_I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(PI("string"==typeof t.token),e.T=t.token,new zI(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function KI(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var WI=function(){function e(){h(this,e)}return m(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=KI(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function HI(e,t){return e<t?-1:e>t?1:0}function GI(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function QI(e){return e+"\0"}var $I=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new RI(DI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new RI(DI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new RI(DI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new RI(DI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?HI(this.nanoseconds,e.nanoseconds):HI(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),XI=function(){function e(t){h(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new $I(0,0))}},{key:"max",value:function(){return new e(new $I(253402300799,999999999))}}]),e}(),YI=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&NI(),void 0===r?r=t.length-n:r>t.length-n&&NI(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),JI=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new RI(DI.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,f(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(YI),ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,eE=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ZI.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new RI(DI.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new RI(DI.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new RI(DI.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new RI(DI.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(YI),tE=function(){function e(t){h(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===JI.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(JI.fromString(t))}},{key:"fromName",value:function(t){return new e(JI.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(JI.emptyPath())}},{key:"comparator",value:function(e,t){return JI.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new JI(t.slice()))}}]),e}(),nE=m((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function rE(e){return e.fields.find((function(e){return 2===e.kind}))}function iE(e){return e.fields.filter((function(e){return 2!==e.kind}))}nE.UNKNOWN_ID=-1;var aE=m((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var oE=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return m(e,null,[{key:"empty",value:function(){return new e(0,cE.min())}}]),e}();function sE(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=XI.fromTimestamp(1e9===r?new $I(n+1,0):new $I(n,r));return new cE(i,tE.empty(),t)}function uE(e){return new cE(e.readTime,e.key,-1)}var cE=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(XI.min(),tE.empty(),-1)}},{key:"max",value:function(){return new e(XI.max(),tE.empty(),-1)}}]),e}();function lE(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=tE.comparator(e.documentKey,t.documentKey))?n:HI(e.largestBatchId,t.largestBatchId)}var fE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hE=function(){function e(){h(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function dE(e){return pE.apply(this,arguments)}function pE(){return(pE=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===DI.FAILED_PRECONDITION&&t.message===fE){e.next=2;break}throw t;case 2:_I("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vE=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&NI(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=_(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),mE=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new LI,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new kE(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=EE(e.target.error);r.R.reject(new kE(t,n))}}return m(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(_I("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new wE(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new kE(n,t)}}}]),e}(),yE=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(Ti())&&TI("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return m(e,[{key:"O",value:function(){var e=$i(Gi().mark((function e(t){var n=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return _I("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new kE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new RI(DI.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new RI(DI.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new kE(t,n))},i.onupgradeneeded=function(e){_I("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.$(t,i.transaction,e.oldVersion,n.version).next((function(){_I("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=$i(Gi().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=Gi().mark((function e(){var n,s,u,l;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=mE.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),vE.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.v;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,_I("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return _I("SimpleDb","Removing database:",e),xE(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Oi())return!1;if(e.C())return!0;var t=Ti(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),gE=function(){function e(t){h(this,e),this.L=t,this.q=!1,this.U=null}return m(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return xE(this.L.delete())}}]),e}(),kE=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,DI.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return m(n)}(RI);function bE(e){return"IndexedDbTransactionError"===e.name}var wE=function(){function e(t){h(this,e),this.store=t}return m(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(_I("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_I("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xE(n)}},{key:"add",value:function(e){return _I("SimpleDb","ADD",this.store.name,e,e),xE(this.store.add(e))}},{key:"get",value:function(e){var t=this;return xE(this.store.get(e)).next((function(n){return void 0===n&&(n=null),_I("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return _I("SimpleDb","DELETE",this.store.name,e),xE(this.store.delete(e))}},{key:"count",value:function(){return _I("SimpleDb","COUNT",this.store.name),xE(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new vE((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new vE((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){_I("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new vE((function(n,r){t.onerror=function(e){var t=EE(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new vE((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new gE(i),o=t(i.primaryKey,i.value,a);if(o instanceof vE){var s=o.catch((function(e){return a.done(),vE.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return vE.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function xE(e){return new vE((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=EE(e.target.error);n(t)}}))}var IE=!1;function EE(e){var t=yE.S(Ti());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new RI("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return IE||(IE=!0,setTimeout((function(){throw r}),0)),r}}return e}var SE=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return m(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;_I("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=_I,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!bE(e.t4)){e.next=17;break}_I("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,dE(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),_E=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return m(e,[{key:"nt",value:function(){var e=$i(Gi().mark((function e(){var t,n=this,r=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return vE.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return _I("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return _I("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=uE(t);lE(r,n)>0&&(n=r)})),new cE(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),TE=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function AE(e){return null==e}function CE(e){return 0===e&&1/e==-1/0}function NE(e){return"number"==typeof e&&Number.isInteger(e)&&!CE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function PE(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=DE(t)),t=OE(e.get(n),t);return DE(t)}function OE(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function DE(e){return e+"\x01\x01"}function RE(e){var t=e.length;if(PI(t>=2),2===t)return PI("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),JI.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&NI(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:NI()}a=o+2}return new JI(r)}TE.ct=-1;var LE=["userId","batchId"];function jE(e,t){return[e,PE(t)]}function ME(e,t,n){return[e,PE(t),n]}var FE={},UE=["prefixPath","collectionGroup","readTime","documentId"],VE=["prefixPath","collectionGroup","documentId"],BE=["collectionGroup","readTime","prefixPath","documentId"],zE=["canonicalId","targetId"],qE=["targetId","path"],KE=["path","targetId"],WE=["collectionId","parent"],HE=["indexId","uid"],GE=["uid","sequenceNumber"],QE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$E=["indexId","uid","orderedDocumentKey"],XE=["userId","collectionPath","documentId"],YE=["userId","collectionPath","largestBatchId"],JE=["userId","collectionGroup","largestBatchId"],ZE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),eS=[].concat(f(ZE),["documentOverlays"]),tS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nS=tS,rS=[].concat(nS,["indexConfiguration","indexState","indexEntries"]),iS=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return m(n)}(hE);function aS(e,t){var n=OI(e);return yE.M(n.at,t)}function oS(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function sS(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function uS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var cS=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||fS.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fS.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fS.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new lS(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new lS(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new lS(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new lS(this.root,e,this.comparator,!0)}}]),e}(),lS=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),fS=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw NI();if(this.right.isRed())throw NI();var e=this.left.check();if(e!==this.right.check())throw NI();return e+(this.isRed()?0:1)}}]),e}();fS.EMPTY=null,fS.RED=!0,fS.BLACK=!1,fS.EMPTY=new(function(){function e(){h(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw NI()}},{key:"value",get:function(){throw NI()}},{key:"color",get:function(){throw NI()}},{key:"left",get:function(){throw NI()}},{key:"right",get:function(){throw NI()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new fS(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var hS=function(){function e(t){h(this,e),this.comparator=t,this.data=new cS(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new dS(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new dS(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),dS=function(){function e(t){h(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function pS(e){return e.hasNext()?e.getNext():void 0}var vS=function(){function e(t){h(this,e),this.fields=t,t.sort(eE.comparator)}return m(e,[{key:"unionWith",value:function(t){var n,r=new hS(eE.comparator),i=_(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=_(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=_(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return GI(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),mS=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return m(n)}(E(Error));var yS=function(e){function t(e){h(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return HI(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new mS("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();yS.EMPTY_BYTE_STRING=new yS("");var gS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kS(e){if(PI(!!e),"string"==typeof e){var t=0,n=gS.exec(e);if(PI(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bS(e.seconds),nanos:bS(e.nanos)}}function bS(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wS(e){return"string"==typeof e?yS.fromBase64String(e):yS.fromUint8Array(e)}function xS(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function IS(e){var t=e.mapValue.fields.__previous_value__;return xS(t)?IS(t):t}function ES(e){var t=kS(e.mapValue.fields.__local_write_time__.timestampValue);return new $I(t.seconds,t.nanos)}var SS=m((function e(t,n,r,i,a,o,s,u){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),_S=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),TS={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},AS={nullValue:"NULL_VALUE"};function CS(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xS(e)?4:qS(e)?9007199254740991:10:NI()}function NS(e,t){if(e===t)return!0;var n=CS(e);if(n!==CS(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ES(e).isEqual(ES(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=kS(e.timestampValue),r=kS(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wS(e.bytesValue).isEqual(wS(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bS(e.geoPointValue.latitude)===bS(t.geoPointValue.latitude)&&bS(e.geoPointValue.longitude)===bS(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bS(e.integerValue)===bS(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=bS(e.doubleValue),r=bS(t.doubleValue);return n===r?CE(n)===CE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return GI(e.arrayValue.values||[],t.arrayValue.values||[],NS);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(oS(n)!==oS(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!NS(n[i],r[i])))return!1;return!0}(e,t);default:return NI()}}function PS(e,t){return void 0!==(e.values||[]).find((function(e){return NS(e,t)}))}function OS(e,t){if(e===t)return 0;var n=CS(e),r=CS(t);if(n!==r)return HI(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return HI(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=bS(e.integerValue||e.doubleValue),r=bS(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return DS(e.timestampValue,t.timestampValue);case 4:return DS(ES(e),ES(t));case 5:return HI(e.stringValue,t.stringValue);case 6:return function(e,t){var n=wS(e),r=wS(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=HI(n[i],r[i]);if(0!==a)return a}return HI(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=HI(bS(e.latitude),bS(t.latitude));return 0!==n?n:HI(bS(e.longitude),bS(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=OS(n[i],r[i]);if(a)return a}return HI(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===TS.mapValue&&t===TS.mapValue)return 0;if(e===TS.mapValue)return 1;if(t===TS.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=HI(r[o],a[o]);if(0!==s)return s;var u=OS(n[r[o]],i[a[o]]);if(0!==u)return u}return HI(r.length,a.length)}(e.mapValue,t.mapValue);default:throw NI()}}function DS(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return HI(e,t);var n=kS(e),r=kS(t),i=HI(n.seconds,r.seconds);return 0!==i?i:HI(n.nanos,r.nanos)}function RS(e){return LS(e)}function LS(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=kS(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wS(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,tE.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=_(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=LS(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=_(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(LS(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):NI();var t,n}function jS(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function MS(e){return!!e&&"integerValue"in e}function FS(e){return!!e&&"arrayValue"in e}function US(e){return!!e&&"nullValue"in e}function VS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function BS(e){return!!e&&"mapValue"in e}function zS(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return sS(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=zS(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=zS(e.arrayValue.values[r]);return n}return Object.assign({},e)}function qS(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function KS(e){return"nullValue"in e?AS:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?jS(_S.empty(),tE.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:NI()}function WS(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?jS(_S.empty(),tE.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?TS:NI()}function HS(e,t){var n=OS(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function GS(e,t){var n=OS(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var QS=function(){function e(t){h(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!BS(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zS(t)}},{key:"setAll",value:function(e){var t=this,n=eE.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=zS(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());BS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return NS(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];BS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){sS(t,(function(t,n){return e[t]=n}));var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(zS(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function $S(e){var t=[];return sS(e.fields,(function(e,n){var r=new eE([e]);if(BS(n)){var i=$S(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=_(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new vS(t)}var XS=function(){function e(t,n,r,i,a,o,s){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(XI.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=QS.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=QS.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=XI.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,XI.min(),XI.min(),XI.min(),QS.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,XI.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,XI.min(),XI.min(),QS.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,XI.min(),XI.min(),QS.empty(),2)}}]),e}(),YS=m((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function JS(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?tE.comparator(tE.fromName(o.referenceValue),n.key):OS(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ZS(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!NS(e.position[n],t.position[n]))return!1;return!0}var e_=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function t_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var n_=m((function e(){h(this,e)})),r_=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(OS(t,this.value)):null!==t&&CS(this.value)===CS(t)&&this.matchesComparison(OS(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return NI()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new d_(e,t,r):"array-contains"===t?new y_(e,r):"in"===t?new g_(e,r):"not-in"===t?new k_(e,r):"array-contains-any"===t?new b_(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new p_(e,n):new v_(e,n)}}]),n}(n_),i_=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return m(n,[{key:"matches",value:function(e){return a_(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=_(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(n_);function a_(e){return"and"===e.op}function o_(e){return"or"===e.op}function s_(e){return u_(e)&&a_(e)}function u_(e){var t,n=_(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof i_)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function c_(e){if(e instanceof r_)return e.field.canonicalString()+e.op.toString()+RS(e.value);if(s_(e))return e.filters.map((function(e){return c_(e)})).join(",");var t=e.filters.map((function(e){return c_(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function l_(e,t){return e instanceof r_?function(e,t){return t instanceof r_&&e.op===t.op&&e.field.isEqual(t.field)&&NS(e.value,t.value)}(e,t):e instanceof i_?function(e,t){return t instanceof i_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&l_(n,t.filters[r])}),!0)}(e,t):void NI()}function f_(e,t){var n=e.filters.concat(t);return i_.create(n,e.op)}function h_(e){return e instanceof r_?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(RS(e.value))}(e):e instanceof i_?function(e){return e.op.toString()+" {"+e.getFilters().map(h_).join(" ,")+"}"}(e):"Filter"}var d_=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=tE.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=tE.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(r_),p_=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=m_("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(r_),v_=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=m_("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(r_);function m_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return tE.fromName(e.referenceValue)}))}var y_=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return FS(t)&&PS(t.arrayValue,this.value)}}]),n}(r_),g_=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&PS(this.value.arrayValue,t)}}]),n}(r_),k_=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(PS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!PS(this.value.arrayValue,t)}}]),n}(r_),b_=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!FS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return PS(t.value.arrayValue,e)}))}}]),n}(r_),w_=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function x_(e){return new w_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function I_(e){var t=OI(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return c_(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),AE(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return RS(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return RS(e)})).join(",")),t.ft=n}return t.ft}function E_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!t_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!l_(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ZS(e.startAt,t.startAt)&&ZS(e.endAt,t.endAt)}function S_(e){return tE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function __(e,t){return e.filters.filter((function(e){return e instanceof r_&&e.field.isEqual(t)}))}function T_(e,t,n){var r,i=AS,a=!0,o=_(__(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=AS,c=!0;switch(s.op){case"<":case"<=":u=KS(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=AS}HS({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];HS({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function A_(e,t,n){var r,i=TS,a=!0,o=_(__(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=TS,c=!0;switch(s.op){case">=":case">":u=WS(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=TS}GS({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];GS({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var C_=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function N_(e,t,n,r,i,a,o,s){return new C_(e,t,n,r,i,a,o,s)}function P_(e){return new C_(e)}function O_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function D_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function R_(e){var t,n=_(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function L_(e){return null!==e.collectionGroup}function j_(e){var t=OI(e);if(null===t.dt){t.dt=[];var n=R_(t),r=D_(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new e_(n)),t.dt.push(new e_(eE.keyField(),"asc"));else{var i,a=!1,o=_(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new e_(eE.keyField(),u))}}}return t.dt}function M_(e){var t=OI(e);if(!t._t)if("F"===t.limitType)t._t=x_(t.path,t.collectionGroup,j_(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=_(j_(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new e_(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new YS(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new YS(t.startAt.position,t.startAt.inclusive):null;t._t=x_(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function F_(e,t){t.getFirstInequalityField(),R_(e);var n=e.filters.concat([t]);return new C_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function U_(e,t,n){return new C_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function V_(e,t){return E_(M_(e),M_(t))&&e.limitType===t.limitType}function B_(e){return"".concat(I_(M_(e)),"|lt:").concat(e.limitType)}function z_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return h_(e)})).join(", "),"]")),AE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return RS(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return RS(e)})).join(",")),"Target(".concat(t,")")}(M_(e)),"; limitType=").concat(e.limitType,")")}function q_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tE.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=_(j_(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=_(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=JS(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,j_(e),t))&&!(e.endAt&&!function(e,t,n){var r=JS(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,j_(e),t))}(e,t)}function K_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function W_(e){return function(t,n){var r,i=!1,a=_(j_(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=H_(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function H_(e,t,n){var r=e.field.isKeyField()?tE.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?OS(r,i):NI()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return NI()}}var G_=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){sS(this.inner,(function(t,n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return uS(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Q_=new cS(tE.comparator);function $_(){return Q_}var X_=new cS(tE.comparator);function Y_(){for(var e=X_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function J_(e){var t=X_;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Z_(){return tT()}function eT(){return tT()}function tT(){return new G_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var nT=new cS(tE.comparator),rT=new hS(tE.comparator);function iT(){for(var e=rT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var aT=new hS(HI);function oT(){return aT}function sT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:CE(t)?"-0":t}}function uT(e){return{integerValue:""+e}}function cT(e,t){return NE(t)?uT(t):sT(e,t)}var lT=m((function e(){h(this,e),this._=void 0}));function fT(e,t,n){return e instanceof pT?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&xS(t)&&(t=IS(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof vT?mT(e,t):e instanceof yT?gT(e,t):function(e,t){var n=dT(e,t),r=bT(n)+bT(e.wt);return MS(n)&&MS(e.wt)?uT(r):sT(e.serializer,r)}(e,t)}function hT(e,t,n){return e instanceof vT?mT(e,t):e instanceof yT?gT(e,t):n}function dT(e,t){return e instanceof kT?MS(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var pT=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(lT),vT=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(lT);function mT(e,t){var n,r=wT(t),i=_(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return NS(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yT=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(lT);function gT(e,t){var n,r=wT(t),i=_(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!NS(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var kT=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).serializer=e,i.wt=r,i}return m(n)}(lT);function bT(e){return bS(e.integerValue||e.doubleValue)}function wT(e){return FS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var xT=m((function e(t,n){h(this,e),this.field=t,this.transform=n}));var IT=m((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),ET=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ST(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var _T=m((function e(){h(this,e)}));function TT(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new UT(e.key,ET.none()):new OT(e.key,e.data,ET.none());var n,r=e.data,i=QS.empty(),a=new hS(eE.comparator),o=_(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new DT(e.key,i,new vS(a.toArray()),ET.none())}function AT(e,t,n){e instanceof OT?function(e,t,n){var r=e.value.clone(),i=LT(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof DT?function(e,t,n){if(ST(e.precondition,t)){var r=LT(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(RT(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function CT(e,t,n,r){return e instanceof OT?function(e,t,n,r){if(!ST(e.precondition,t))return n;var i=e.value.clone(),a=jT(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof DT?function(e,t,n,r){if(!ST(e.precondition,t))return n;var i=jT(e.fieldTransforms,r,t),a=t.data;return a.setAll(RT(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ST(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function NT(e,t){var n,r=null,i=_(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=dT(a.transform,o||null);null!=s&&(null===r&&(r=QS.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function PT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&GI(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vT&&t instanceof vT||e instanceof yT&&t instanceof yT?GI(e.elements,t.elements,NS):e instanceof kT&&t instanceof kT?NS(e.wt,t.wt):e instanceof pT&&t instanceof pT}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var OT=function(e){g(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(_T),DT=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return m(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(_T);function RT(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function LT(e,t,n){var r=new Map;PI(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,hT(o,s,n[i]))}return r}function jT(e,t,n){var r,i=new Map,a=_(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,fT(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var MT,FT,UT=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(_T),VT=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(_T),BT=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&AT(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=_(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=CT(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=_(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=CT(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=eT();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=TT(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(XI.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),iT())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&GI(this.mutations,e.mutations,(function(e,t){return PT(e,t)}))&&GI(this.baseMutations,e.baseMutations,(function(e,t){return PT(e,t)}))}}]),e}(),zT=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){PI(t.mutations.length===r.length);for(var i=nT,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),qT=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),KT=m((function e(t,n){h(this,e),this.count=t,this.unchangedNames=n}));function WT(e){switch(e){default:return NI();case DI.CANCELLED:case DI.UNKNOWN:case DI.DEADLINE_EXCEEDED:case DI.RESOURCE_EXHAUSTED:case DI.INTERNAL:case DI.UNAVAILABLE:case DI.UNAUTHENTICATED:return!1;case DI.INVALID_ARGUMENT:case DI.NOT_FOUND:case DI.ALREADY_EXISTS:case DI.PERMISSION_DENIED:case DI.FAILED_PRECONDITION:case DI.ABORTED:case DI.OUT_OF_RANGE:case DI.UNIMPLEMENTED:case DI.DATA_LOSS:return!0}}function HT(e){if(void 0===e)return TI("GRPC error has no .code"),DI.UNKNOWN;switch(e){case MT.OK:return DI.OK;case MT.CANCELLED:return DI.CANCELLED;case MT.UNKNOWN:return DI.UNKNOWN;case MT.DEADLINE_EXCEEDED:return DI.DEADLINE_EXCEEDED;case MT.RESOURCE_EXHAUSTED:return DI.RESOURCE_EXHAUSTED;case MT.INTERNAL:return DI.INTERNAL;case MT.UNAVAILABLE:return DI.UNAVAILABLE;case MT.UNAUTHENTICATED:return DI.UNAUTHENTICATED;case MT.INVALID_ARGUMENT:return DI.INVALID_ARGUMENT;case MT.NOT_FOUND:return DI.NOT_FOUND;case MT.ALREADY_EXISTS:return DI.ALREADY_EXISTS;case MT.PERMISSION_DENIED:return DI.PERMISSION_DENIED;case MT.FAILED_PRECONDITION:return DI.FAILED_PRECONDITION;case MT.ABORTED:return DI.ABORTED;case MT.OUT_OF_RANGE:return DI.OUT_OF_RANGE;case MT.UNIMPLEMENTED:return DI.UNIMPLEMENTED;case MT.DATA_LOSS:return DI.DATA_LOSS;default:return NI()}}(FT=MT||(MT={}))[FT.OK=0]="OK",FT[FT.CANCELLED=1]="CANCELLED",FT[FT.UNKNOWN=2]="UNKNOWN",FT[FT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",FT[FT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",FT[FT.NOT_FOUND=5]="NOT_FOUND",FT[FT.ALREADY_EXISTS=6]="ALREADY_EXISTS",FT[FT.PERMISSION_DENIED=7]="PERMISSION_DENIED",FT[FT.UNAUTHENTICATED=16]="UNAUTHENTICATED",FT[FT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",FT[FT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",FT[FT.ABORTED=10]="ABORTED",FT[FT.OUT_OF_RANGE=11]="OUT_OF_RANGE",FT[FT.UNIMPLEMENTED=12]="UNIMPLEMENTED",FT[FT.INTERNAL=13]="INTERNAL",FT[FT.UNAVAILABLE=14]="UNAVAILABLE",FT[FT.DATA_LOSS=15]="DATA_LOSS";var GT=function(){function e(){h(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return m(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return QT}},{key:"getOrCreateInstance",value:function(){return null===QT&&(QT=new e),QT}}]),e}(),QT=null;function $T(){return new TextEncoder}var XT=new bI([4294967295,4294967295],0);function YT(e){var t=$T().encode(e),n=new kI;return n.update(t),new Uint8Array(n.digest())}function JT(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new bI([n,r],0),new bI([i,a],0)]}var ZT=function(){function e(t,n,r){if(h(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eA("Invalid padding: ".concat(n));if(r<0)throw new eA("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new eA("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new eA("Invalid padding when bitmap length is 0: ".concat(n));this.yt=8*t.length-n,this.It=bI.fromNumber(this.yt)}return m(e,[{key:"Tt",value:function(e,t,n){var r=e.add(t.multiply(bI.fromNumber(n)));return 1===r.compare(XT)&&(r=new bI([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}},{key:"Et",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"At",value:function(e){if(0===this.yt)return!1;for(var t=c(JT(YT(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);if(!this.Et(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.yt)for(var t=c(JT(YT(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),eA=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return m(n)}(E(Error)),tA=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,nA.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(XI.min(),i,new cS(HI),$_(),iT())}}]),e}(),nA=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,iT(),iT(),iT())}}]),e}(),rA=m((function e(t,n,r,i){h(this,e),this.vt=t,this.removedTargetIds=n,this.key=r,this.Pt=i})),iA=m((function e(t,n){h(this,e),this.targetId=t,this.bt=n})),aA=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yS.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),oA=function(){function e(){h(this,e),this.Vt=0,this.St=cA(),this.Dt=yS.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}return m(e,[{key:"current",get:function(){return this.Ct}},{key:"resumeToken",get:function(){return this.Dt}},{key:"Nt",get:function(){return 0!==this.Vt}},{key:"kt",get:function(){return this.xt}},{key:"Mt",value:function(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}},{key:"Ot",value:function(){var e=iT(),t=iT(),n=iT();return this.St.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:NI()}})),new nA(this.Dt,this.Ct,e,t,n)}},{key:"$t",value:function(){this.xt=!1,this.St=cA()}},{key:"Ft",value:function(e,t){this.xt=!0,this.St=this.St.insert(e,t)}},{key:"Bt",value:function(e){this.xt=!0,this.St=this.St.remove(e)}},{key:"Lt",value:function(){this.Vt+=1}},{key:"qt",value:function(){this.Vt-=1}},{key:"Ut",value:function(){this.xt=!0,this.Ct=!0}}]),e}(),sA=function(){function e(t){h(this,e),this.Kt=t,this.Gt=new Map,this.Qt=$_(),this.jt=uA(),this.zt=new cS(HI)}return m(e,[{key:"Wt",value:function(e){var t,n=_(e.vt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Pt&&e.Pt.isFoundDocument()?this.Ht(r,e.Pt):this.Jt(r,e.key,e.Pt)}}catch(s){n.e(s)}finally{n.f()}var i,a=_(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Jt(o,e.key,e.Pt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Yt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Xt(n);switch(e.state){case 0:t.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||t.removeTarget(n);break;case 3:t.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:t.Zt(n)&&(t.te(n),r.Mt(e.resumeToken));break;default:NI()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((function(e,r){n.Zt(r)&&t(r)}))}},{key:"ee",value:function(e){var t,n=e.targetId,r=e.bt.count,i=this.ne(n);if(i){var a=i.target;if(S_(a))if(0===r){var o=new tE(a.path);this.Jt(n,o,XS.newNoDocument(o,XI.min()))}else PI(1===r);else{var s=this.se(n);if(s!==r){var u=this.ie(e,s);if(0!==u){this.te(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(n,c)}null===(t=GT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.bt))}}}}},{key:"ie",value:function(e,t){var n=e.bt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=wS(c).toUint8Array()}catch(e){if(e instanceof mS)return AI("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new ZT(a,f,d)}catch(e){return AI(e instanceof eA?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.yt?1:i!==t-this.re(e.targetId,o)?2:0}},{key:"re",value:function(e,t){var n=this,r=this.Kt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Kt.oe(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.At(o)||(n.Jt(e,r,null),i++)})),i}},{key:"ue",value:function(e){var t=this,n=new Map;this.Gt.forEach((function(r,i){var a=t.ne(i);if(a){if(r.current&&S_(a.target)){var o=new tE(a.target.path);null!==t.Qt.get(o)||t.ce(i,o)||t.Jt(i,o,XS.newNoDocument(o,e))}r.kt&&(n.set(i,r.Ot()),r.$t())}}));var r=iT();this.jt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ne(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qt.forEach((function(t,n){return n.setReadTime(e)}));var i=new tA(e,n,this.zt,this.Qt,r);return this.Qt=$_(),this.jt=uA(),this.zt=new cS(HI),i}},{key:"Ht",value:function(e,t){if(this.Zt(e)){var n=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,n),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}}},{key:"Jt",value:function(e,t,n){if(this.Zt(e)){var r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),n&&(this.Qt=this.Qt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Gt.delete(e)}},{key:"se",value:function(e){var t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Lt",value:function(e){this.Xt(e).Lt()}},{key:"Xt",value:function(e){var t=this.Gt.get(e);return t||(t=new oA,this.Gt.set(e,t)),t}},{key:"ae",value:function(e){var t=this.jt.get(e);return t||(t=new hS(HI),this.jt=this.jt.insert(e,t)),t}},{key:"Zt",value:function(e){var t=null!==this.ne(e);return t||_I("WatchChangeAggregator","Detected inactive target",e),t}},{key:"ne",value:function(e){var t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}},{key:"te",value:function(e){var t=this;this.Gt.set(e,new oA),this.Kt.getRemoteKeysForTarget(e).forEach((function(n){t.Jt(e,n,null)}))}},{key:"ce",value:function(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}]),e}();function uA(){return new cS(tE.comparator)}function cA(){return new cS(tE.comparator)}var lA={asc:"ASCENDING",desc:"DESCENDING"},fA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hA={and:"AND",or:"OR"},dA=m((function e(t,n){h(this,e),this.databaseId=t,this.useProto3Json=n}));function pA(e,t){return e.useProto3Json||AE(t)?t:{value:t}}function vA(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function mA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function yA(e,t){return vA(e,t.toTimestamp())}function gA(e){return PI(!!e),XI.fromTimestamp(function(e){var t=kS(e);return new $I(t.seconds,t.nanos)}(e))}function kA(e,t){return function(e){return new JI(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function bA(e){var t=JI.fromString(e);return PI(qA(t)),t}function wA(e,t){return kA(e.databaseId,t.path)}function xA(e,t){var n=bA(t);if(n.get(1)!==e.databaseId.projectId)throw new RI(DI.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new RI(DI.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tE(_A(n))}function IA(e,t){return kA(e.databaseId,t)}function EA(e){var t=bA(e);return 4===t.length?JI.emptyPath():_A(t)}function SA(e){return new JI(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _A(e){return PI(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function TA(e,t,n){return{name:wA(e,t),fields:n.value.mapValue.fields}}function AA(e,t,n){var r=xA(e,t.name),i=gA(t.updateTime),a=t.createTime?gA(t.createTime):XI.min(),o=new QS({mapValue:{fields:t.fields}}),s=XS.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function CA(e,t){return"found"in t?function(e,t){PI(!!t.found),t.found.name,t.found.updateTime;var n=xA(e,t.found.name),r=gA(t.found.updateTime),i=t.found.createTime?gA(t.found.createTime):XI.min(),a=new QS({mapValue:{fields:t.found.fields}});return XS.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){PI(!!t.missing),PI(!!t.readTime);var n=xA(e,t.missing),r=gA(t.readTime);return XS.newNoDocument(n,r)}(e,t):NI()}function NA(e,t){var n;if(t instanceof OT)n={update:TA(e,t.key,t.value)};else if(t instanceof UT)n={delete:wA(e,t.key)};else if(t instanceof DT)n={update:TA(e,t.key,t.data),updateMask:zA(t.fieldMask)};else{if(!(t instanceof VT))return NI();n={verify:wA(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof pT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kT)return{fieldPath:t.field.canonicalString(),increment:n.wt};throw NI()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:yA(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:NI()}(e,t.precondition)),n}function PA(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ET.updateTime(gA(e.updateTime)):void 0!==e.exists?ET.exists(e.exists):ET.none()}(t.currentDocument):ET.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)PI("REQUEST_TIME"===t.setToServerValue),n=new pT;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new vT(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new yT(i)}else"increment"in t?n=new kT(e,t.increment):NI();var a=eE.fromServerFormat(t.fieldPath);return new xT(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=xA(e,t.update.name),a=new QS({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new vS(t.map((function(e){return eE.fromServerFormat(e)})))}(t.updateMask);return new DT(i,a,o,n,r)}return new OT(i,a,n,r)}if(t.delete){var s=xA(e,t.delete);return new UT(s,n)}if(t.verify){var u=xA(e,t.verify);return new VT(u,n)}return NI()}function OA(e,t){return{documents:[IA(e,t.path)]}}function DA(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=IA(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=IA(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return BA(i_.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:UA(e.field),direction:jA(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=pA(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function RA(e){var t=EA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){PI(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=LA(e);return t instanceof i_&&s_(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new e_(VA(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return AE(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new YS(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new YS(n,t)}(n.endAt)),N_(t,i,s,o,u,"F",c,l)}function LA(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=VA(e.unaryFilter.field);return r_.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=VA(e.unaryFilter.field);return r_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=VA(e.unaryFilter.field);return r_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=VA(e.unaryFilter.field);return r_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return NI()}}(e):void 0!==e.fieldFilter?function(e){return r_.create(VA(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return NI()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return i_.create(e.compositeFilter.filters.map((function(e){return LA(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return NI()}}(e.compositeFilter.op))}(e):NI()}function jA(e){return lA[e]}function MA(e){return fA[e]}function FA(e){return hA[e]}function UA(e){return{fieldPath:e.canonicalString()}}function VA(e){return eE.fromServerFormat(e.fieldPath)}function BA(e){return e instanceof r_?function(e){if("=="===e.op){if(VS(e.value))return{unaryFilter:{field:UA(e.field),op:"IS_NAN"}};if(US(e.value))return{unaryFilter:{field:UA(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(VS(e.value))return{unaryFilter:{field:UA(e.field),op:"IS_NOT_NAN"}};if(US(e.value))return{unaryFilter:{field:UA(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:UA(e.field),op:MA(e.op),value:e.value}}}(e):e instanceof i_?function(e){var t=e.getFilters().map((function(e){return BA(e)}));return 1===t.length?t[0]:{compositeFilter:{op:FA(e.op),filters:t}}}(e):NI()}function zA(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function qA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var KA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:XI.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:XI.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yS.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),WA=m((function e(t){h(this,e),this.le=t}));function HA(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:GA(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:wA(e,t.key),fields:t.data.value.mapValue.fields,updateTime:vA(e,t.version.toTimestamp()),createTime:vA(e,t.createTime.toTimestamp())}}(e.le,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:QA(t.version)};else{if(!t.isUnknownDocument())return NI();r.unknownDocument={path:n.path.toArray(),version:QA(t.version)}}return r}function GA(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function QA(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function $A(e){var t=new $I(e.seconds,e.nanoseconds);return XI.fromTimestamp(t)}function XA(e,t){for(var n=(t.baseMutations||[]).map((function(t){return PA(e.le,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return PA(e.le,t)})),s=$I.fromMillis(t.localWriteTimeMs);return new BT(t.batchId,s,n,o)}function YA(e){var t,n,r=$A(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?$A(e.lastLimboFreeSnapshotVersion):XI.min();return void 0!==e.query.documents?(PI(1===(n=e.query).documents.length),t=M_(P_(EA(n.documents[0])))):t=function(e){return M_(RA(e))}(e.query),new KA(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,yS.fromBase64String(e.resumeToken))}function JA(e,t){var n,r=QA(t.snapshotVersion),i=QA(t.lastLimboFreeSnapshotVersion);n=S_(t.target)?OA(e.le,t.target):DA(e.le,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:I_(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function ZA(e){var t=RA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?U_(t,t.limit,"L"):t}function eC(e,t){return new qT(t.largestBatchId,PA(e.le,t.overlayMutation))}function tC(e,t){var n=t.path.lastSegment();return[e,PE(t.path.popLast()),n]}function nC(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:QA(r.readTime),documentKey:PE(r.documentKey.path),largestBatchId:r.largestBatchId}}var rC=function(){function e(){h(this,e)}return m(e,[{key:"getBundleMetadata",value:function(e,t){return iC(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:$A(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return iC(e).put({bundleId:(n=t).id,createTime:QA(gA(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return aC(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ZA(t.bundledQuery),readTime:$A(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return aC(e).put(function(e){return{name:e.name,readTime:QA(gA(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function iC(e){return aS(e,"bundles")}function aC(e){return aS(e,"namedQueries")}var oC=function(){function e(t,n){h(this,e),this.serializer=t,this.userId=n}return m(e,[{key:"getOverlay",value:function(e,t){var n=this;return sC(e).get(tC(this.userId,t)).next((function(e){return e?eC(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Z_();return vE.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new qT(t,a);i.push(r.de(e,o))})),vE.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(PE(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(sC(e).J("collectionPathOverlayIndex",i))})),vE.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Z_(),a=PE(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return sC(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=_(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=eC(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Z_(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sC(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=eC(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"de",value:function(e,t){return sC(e).put(function(e,t,n){var r=c(tC(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:NA(e.le,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"fe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function sC(e){return aS(e,"documentOverlays")}var uC=function(){function e(){h(this,e)}return m(e,[{key:"_e",value:function(e,t){this.we(e,t),t.me()}},{key:"we",value:function(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(bS(e.integerValue));else if("doubleValue"in e){var n=bS(e.doubleValue);isNaN(n)?this.ge(t,13):(this.ge(t,15),CE(n)?t.ye(0):t.ye(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe("".concat(r.seconds||"")),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(wS(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?qS(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):NI()}},{key:"Ie",value:function(e,t){this.ge(t,25),this.Pe(e,t)}},{key:"Pe",value:function(e,t){t.pe(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ge(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Ie(a,t),this.we(n[a],t)}}},{key:"ve",value:function(e,t){var n=e.values||[];this.ge(t,50);var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.we(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"Ae",value:function(e,t){var n=this;this.ge(t,37),tE.fromName(e).path.forEach((function(e){n.ge(t,60),n.Pe(e,t)}))}},{key:"ge",value:function(e,t){e.ye(t)}},{key:"Te",value:function(e){e.ye(2)}}]),e}();function cC(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function lC(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=cC(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}uC.be=new uC;var fC=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return m(e,[{key:"Ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Se(n.value),n=t.next();this.De()}},{key:"Ce",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.xe(n.value),n=t.next();this.Ne()}},{key:"ke",value:function(e){var t,n=_(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{var a=r.codePointAt(0);this.Se(240|a>>>18),this.Se(128|63&a>>>12),this.Se(128|63&a>>>6),this.Se(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.De()}},{key:"Me",value:function(e){var t,n=_(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{var a=r.codePointAt(0);this.xe(240|a>>>18),this.xe(128|63&a>>>12),this.xe(128|63&a>>>6),this.xe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ne()}},{key:"Oe",value:function(e){var t=this.$e(e),n=lC(t);this.Fe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Be",value:function(e){var t=this.$e(e),n=lC(t);this.Fe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Le",value:function(){this.qe(255),this.qe(255)}},{key:"Ue",value:function(){this.Ke(255),this.Ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ge",value:function(){return this.buffer.slice(0,this.position)}},{key:"$e",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Se",value:function(e){var t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}},{key:"xe",value:function(e){var t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}},{key:"De",value:function(){this.qe(0),this.qe(1)}},{key:"Ne",value:function(){this.Ke(0),this.Ke(1)}},{key:"qe",value:function(e){this.Fe(1),this.buffer[this.position++]=e}},{key:"Ke",value:function(e){this.Fe(1),this.buffer[this.position++]=~e}},{key:"Fe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),hC=function(){function e(t){h(this,e),this.Qe=t}return m(e,[{key:"Ee",value:function(e){this.Qe.Ve(e)}},{key:"pe",value:function(e){this.Qe.ke(e)}},{key:"ye",value:function(e){this.Qe.Oe(e)}},{key:"me",value:function(){this.Qe.Le()}}]),e}(),dC=function(){function e(t){h(this,e),this.Qe=t}return m(e,[{key:"Ee",value:function(e){this.Qe.Ce(e)}},{key:"pe",value:function(e){this.Qe.Me(e)}},{key:"ye",value:function(e){this.Qe.Be(e)}},{key:"me",value:function(){this.Qe.Ue()}}]),e}(),pC=function(){function e(){h(this,e),this.Qe=new fC,this.je=new hC(this.Qe),this.ze=new dC(this.Qe)}return m(e,[{key:"seed",value:function(e){this.Qe.seed(e)}},{key:"We",value:function(e){return 0===e?this.je:this.ze}},{key:"Ge",value:function(){return this.Qe.Ge()}},{key:"reset",value:function(){this.Qe.reset()}}]),e}(),vC=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return m(e,[{key:"He",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function mC(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=yC(e.arrayValue,t.arrayValue))?n:0!==(n=yC(e.directionalValue,t.directionalValue))?n:tE.comparator(e.documentKey,t.documentKey)}function yC(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var gC=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Je=t.orderBy,this.Ye=[];var n,r=_(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xe=i:this.Ye.push(i)}}catch(a){r.e(a)}finally{r.f()}}return m(e,[{key:"Ze",value:function(e){PI(e.collectionGroup===this.collectionId);var t=rE(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=iE(e),r=0,i=0;r<n.length&&this.tn(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Xe){var a=n[r];if(!this.en(this.Xe,a)||!this.nn(this.Je[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Je.length||!this.nn(this.Je[i++],o))return!1}return!0}},{key:"tn",value:function(e){var t,n=_(this.Ye);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.en(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"en",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"nn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function kC(e){var t,n;if(PI(e instanceof r_||e instanceof i_),e instanceof r_){if(e instanceof g_){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return r_.create(e.field,"==",t)})))||[];return i_.create(r,"or")}return e}var i=e.filters.map((function(e){return kC(e)}));return i_.create(i,e.op)}function bC(e){if(0===e.getFilters().length)return[];var t=EC(kC(e));return PI(IC(t)),wC(t)||xC(t)?[t]:t.getFilters()}function wC(e){return e instanceof r_}function xC(e){return e instanceof i_&&s_(e)}function IC(e){return wC(e)||xC(e)||function(e){if(e instanceof i_&&o_(e)){var t,n=_(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!wC(r)&&!xC(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function EC(e){if(PI(e instanceof r_||e instanceof i_),e instanceof r_)return e;if(1===e.filters.length)return EC(e.filters[0]);var t=e.filters.map((function(e){return EC(e)})),n=i_.create(t,e.op);return IC(n=TC(n))?n:(PI(n instanceof i_),PI(a_(n)),PI(n.filters.length>1),n.filters.reduce((function(e,t){return SC(e,t)})))}function SC(e,t){var n;return PI(e instanceof r_||e instanceof i_),PI(t instanceof r_||t instanceof i_),n=e instanceof r_?t instanceof r_?function(e,t){return i_.create([e,t],"and")}(e,t):_C(e,t):t instanceof r_?_C(t,e):function(e,t){if(PI(e.filters.length>0&&t.filters.length>0),a_(e)&&a_(t))return f_(e,t.getFilters());var n=o_(e)?e:t,r=o_(e)?t:e,i=n.filters.map((function(e){return SC(e,r)}));return i_.create(i,"or")}(e,t),TC(n)}function _C(e,t){if(a_(t))return f_(t,e.getFilters());var n=t.filters.map((function(t){return SC(e,t)}));return i_.create(n,"or")}function TC(e){if(PI(e instanceof r_||e instanceof i_),e instanceof r_)return e;var t=e.getFilters();if(1===t.length)return TC(t[0]);if(u_(e))return e;var n=t.map((function(e){return TC(e)})),r=[];return n.forEach((function(t){t instanceof r_?r.push(t):t instanceof i_&&(t.op===e.op?r.push.apply(r,f(t.filters)):r.push(t))})),1===r.length?r[0]:i_.create(r,e.op)}var AC=function(){function e(){h(this,e),this.sn=new CC}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),vE.resolve()}},{key:"getCollectionParents",value:function(e,t){return vE.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return vE.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return vE.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return vE.resolve(null)}},{key:"getIndexType",value:function(e,t){return vE.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return vE.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return vE.resolve(null)}},{key:"getMinOffset",value:function(e,t){return vE.resolve(cE.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return vE.resolve(cE.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return vE.resolve()}},{key:"updateIndexEntries",value:function(e,t){return vE.resolve()}}]),e}(),CC=function(){function e(){h(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new hS(JI.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new hS(JI.comparator)).toArray()}}]),e}(),NC=new Uint8Array(0),PC=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.rn=new CC,this.on=new G_((function(e){return I_(e)}),(function(e,t){return E_(e,t)})),this.uid=t.uid||""}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.rn.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.rn.add(t)}));var a={collectionId:r,parent:PE(i)};return OC(e).put(a)}return vE.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[QI(t),""],!1,!0);return OC(e).j(r).next((function(e){var r,i=_(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(RE(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=RC(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=LC(e);return a.next((function(e){o.put(nC(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=RC(e),r=LC(e),i=DC(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=DC(e),i=!0,a=new Map;return vE.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=iT(),o=[];return vE.forEach(a,(function(i,a){var s;_I("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(I_(t)));var u=function(e,t){var n=rE(t);if(void 0===n)return null;var r,i=_(__(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=_(iE(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=_(__(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=_(iE(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?T_(e,o.fieldPath,e.startAt):A_(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new YS(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=_(iE(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?A_(e,o.fieldPath,e.endAt):T_(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new YS(r,i)}(a,i),h=n.an(i,a,l),d=n.an(i,a,f),p=n.hn(i,a,c),v=n.ln(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return vE.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=tE.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return vE.resolve(null)}))}},{key:"un",value:function(e){var t=this.on.get(e);return t||(t=0===e.filters.length?[e]:bC(i_.create(e.filters,"and")).map((function(t){return x_(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.on.set(e,t),t)}},{key:"ln",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],h=function(){var u=t?s.fn(t[d/c]):NC,h=s.dn(e,u,n[d%c],r),p=s._n(e,u,i[d%c],a),v=o.map((function(t){return s.dn(e,u,t,!0)}));l.push.apply(l,f(s.createRange(h,p,v)))},d=0;d<u;++d)h();return l}},{key:"dn",value:function(e,t,n,r){var i=new vC(e,tE.empty(),t,n);return r?i:i.He()}},{key:"_n",value:function(e,t,n,r){var i=new vC(e,tE.empty(),t,n);return r?i.He():i}},{key:"cn",value:function(e,t){var n=new gC(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=_(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ze(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return vE.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new hS(eE.comparator),r=!1,i=_(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=_(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=_(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"wn",value:function(e,t){var n,r=new pC,i=_(iE(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.We(a.kind);uC.be._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ge()}},{key:"fn",value:function(e){var t=new pC;return uC.be._e(e,t.We(0)),t.Ge()}},{key:"mn",value:function(e,t){var n=new pC;return uC.be._e(jS(this.databaseId,t),n.We(function(e){var t=iE(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ge()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new pC);var i,a=0,o=_(iE(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=_(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.gn(t,u.fieldPath)&&FS(c))r=this.yn(r,u,c);else{var h=f.We(u.kind);uC.be._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.pn(r)}},{key:"an",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"pn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ge();return t}},{key:"yn",value:function(e,t,n){var r,i=f(e),a=[],o=_(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=_(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=new pC;h.seed(l.Ge()),uC.be._e(u,h.We(t.kind)),a.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"gn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof r_&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=RC(e),i=LC(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return vE.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new oE(t.sequenceNumber,new cE($A(t.readTime),new tE(RE(t.documentKey)),t.largestBatchId)):oE.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new aE(eE.fromServerFormat(n),r)}));return new nE(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:HI(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=RC(e),a=LC(e);return this.In(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return vE.forEach(t,(function(t){return a.put(nC(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return vE.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?vE.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),vE.forEach(a,(function(r){return n.Tn(e,t,r).next((function(t){var a=n.En(i,r);return t.isEqual(a)?vE.resolve():n.An(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return DC(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"vn",value:function(e,t,n,r){return DC(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}},{key:"Tn",value:function(e,t,n){var r=DC(e),i=new hS(mC);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},(function(e,r){i=i.add(new vC(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"En",value:function(e,t){var n=new hS(mC),r=this.wn(t,e);if(null==r)return n;var i=rE(t);if(null!=i){var a=e.data.field(i.fieldPath);if(FS(a)){var o,s=_(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new vC(t.indexId,e.key,this.fn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new vC(t.indexId,e.key,NC,r));return n}},{key:"An",value:function(e,t,n,r,i){var a=this;_I("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=pS(a),u=pS(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=pS(o)):l?(i(s),s=pS(a)):(s=pS(a),u=pS(o))}}(r,i,mC,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.vn(e,t,n,r))})),vE.waitFor(o)}},{key:"In",value:function(e){var t=1;return LC(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return mC(e,t)})).filter((function(e,t,n){return!t||0!==mC(e,n[t-1])}));var r=[];r.push(e);var i,a=_(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=mC(o,e),u=mC(o,t);if(0===s)r[0]=e.He();else if(s>0&&u<0)r.push(o),r.push(o.He());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,NC,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,NC,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Pn",value:function(e,t){return mC(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(jC)}},{key:"getMinOffset",value:function(e,t){var n=this;return vE.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||NI()}))})).next(jC)}}]),e}();function OC(e){return aS(e,"collectionParents")}function DC(e){return aS(e,"indexEntries")}function RC(e){return aS(e,"indexConfiguration")}function LC(e){return aS(e,"indexState")}function jC(e){PI(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;lE(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new cE(t.readTime,t.documentKey,n)}var MC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FC=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function UC(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){PI(1===s)})));var c,l=[],f=_(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ME(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return vE.waitFor(a).next((function(){return l}))}function VC(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw NI();t=e.noDocument}return JSON.stringify(t).length}FC.DEFAULT_COLLECTION_PERCENTILE=10,FC.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,FC.DEFAULT=new FC(41943040,FC.DEFAULT_COLLECTION_PERCENTILE,FC.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),FC.DISABLED=new FC(-1,0,0);var BC=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return m(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qC(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=KC(e),o=qC(e);return o.add({}).next((function(s){PI("number"==typeof s);var u,c=new BT(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return NA(e.le,t)})),i=n.mutations.map((function(t){return NA(e.le,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new hS((function(e,t){return HI(e.canonicalString(),t.canonicalString())})),d=_(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=ME(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,FE))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[s]=c.keys()})),vE.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return qC(e).get(t).next((function(e){return e?(PI(e.userId===n.userId),XA(n.serializer,e)):null}))}},{key:"Vn",value:function(e,t){var n=this;return this.bn[t]?vE.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return qC(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(PI(t.batchId>=r),a=XA(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return qC(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qC(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return XA(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=jE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return KC(e).X({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=RE(l);if(u===n.userId&&t.path.isEqual(h))return qC(e).get(f).next((function(e){if(!e)throw NI();PI(e.userId===n.userId),a.push(XA(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hS(HI),i=[];return t.forEach((function(t){var a=jE(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=KC(e).X({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=RE(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),vE.waitFor(i).next((function(){return n.Sn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=jE(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new hS(HI);return KC(e).X({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],h=RE(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Sn(e,s)}))}},{key:"Sn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(qC(e).get(t).next((function(e){if(null===e)throw NI();PI(e.userId===n.userId),r.push(XA(n.serializer,e))})))})),vE.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return UC(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Dn(t.batchId)})),vE.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Dn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return vE.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return KC(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=RE(e[1]);i.push(a)}else r.done()})).next((function(){PI(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return zC(e,this.userId,t)}},{key:"Cn",value:function(e){var t=this;return WC(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"fe",value:function(t,n,r,i){return PI(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function zC(e,t,n){var r=jE(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return KC(e).X({range:a,Y:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function qC(e){return aS(e,"mutations")}function KC(e){return aS(e,"documentMutations")}function WC(e){return aS(e,"mutationQueues")}var HC=function(){function e(t){h(this,e),this.xn=t}return m(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"Nn",value:function(){return new e(0)}},{key:"kn",value:function(){return new e(-1)}}]),e}(),GC=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.serializer=n}return m(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Mn(e).next((function(n){var r=new HC(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Mn(e).next((function(e){return XI.fromTimestamp(new $I(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Mn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Mn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.$n(e,t).next((function(){return n.Mn(e).next((function(r){return r.targetCount+=1,n.Fn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.$n(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return QC(e).delete(t.targetId)})).next((function(){return n.Mn(e)})).next((function(t){return PI(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return QC(e).X((function(o,s){var u=YA(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return vE.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return QC(e).X((function(e,n){var r=YA(n);t(r)}))}},{key:"Mn",value:function(e){return $C(e).get("targetGlobalKey").next((function(e){return PI(null!==e),e}))}},{key:"On",value:function(e,t){return $C(e).put("targetGlobalKey",t)}},{key:"$n",value:function(e,t){return QC(e).put(JA(this.serializer,t))}},{key:"Fn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Mn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=I_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return QC(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=YA(n);E_(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=XC(e);return t.forEach((function(t){var o=PE(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),vE.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=XC(e);return vE.forEach(t,(function(t){var a=PE(t.path);return vE.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=XC(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=XC(e),i=iT();return r.X({range:n,Y:!0},(function(e,t,n){var r=RE(e[1]),a=new tE(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=PE(t.path),r=IDBKeyRange.bound([n],[QI(n)],!1,!0),i=0;return XC(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"he",value:function(e,t){return QC(e).get(t).next((function(e){return e?YA(e):null}))}}]),e}();function QC(e){return aS(e,"targets")}function $C(e){return aS(e,"targetGlobal")}function XC(e){return aS(e,"targetDocuments")}function YC(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=HI(r,o);return 0===u?HI(i,s):u}var JC=function(){function e(t){h(this,e),this.Bn=t,this.buffer=new hS(YC),this.Ln=0}return m(e,[{key:"qn",value:function(){return++this.Ln}},{key:"Un",value:function(e){var t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();YC(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ZC=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Kn=null}return m(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}},{key:"started",get:function(){return null!==this.Kn}},{key:"Gn",value:function(e){var t=this;_I("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Kn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!bE(e.t0)){e.next=12;break}_I("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,dE(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),eN=function(){function e(t,n){h(this,e),this.Qn=t,this.params=n}return m(e,[{key:"calculateTargetCount",value:function(e,t){return this.Qn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return vE.resolve(TE.ct);var r=new JC(t);return this.Qn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.Qn.zn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Qn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Qn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(_I("LruGarbageCollector","Garbage collection skipped; disabled"),vE.resolve(MC)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(_I("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),MC):n.Wn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Qn.getCacheSize(e)}},{key:"Wn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(_I("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),SI()<=ea.DEBUG&&_I("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),vE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function tN(e,t){return new eN(e,t)}var nN=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=tN(this,n)}return m(e,[{key:"jn",value:function(e){var t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Hn",value:function(e){var t=0;return this.zn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"zn",value:function(e,t){return this.Jn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return rN(e,n)}},{key:"removeReference",value:function(e,t,n){return rN(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return rN(e,t)}},{key:"Yn",value:function(e,t){return function(e,t){var n=!1;return WC(e).Z((function(r){return zC(e,r,t).next((function(e){return e&&(n=!0),vE.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Jn(e,(function(o,s){if(s<=t){var u=n.Yn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,XI.min()),XC(e).delete([0,PE(o.path)])}))}));i.push(u)}})).next((function(){return vE.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return rN(e,t)}},{key:"Jn",value:function(e,t){var n,r=XC(e),i=TE.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==TE.ct&&t(new tE(RE(n)),i),i=u,n=s):i=TE.ct})).next((function(){i!==TE.ct&&t(new tE(RE(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function rN(e,t){return XC(e).put(function(e,t){return{targetId:0,path:PE(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var iN=function(){function e(){h(this,e),this.changes=new G_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,XS.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?vE.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),aN=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return cN(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return cN(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],GA(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=XS.newInvalidDocument(t);return cN(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(lN(t))},(function(e,i){r=n.Zn(t,i)})).next((function(){return r}))}},{key:"ts",value:function(e,t){var n=this,r={size:0,document:XS.newInvalidDocument(t)};return cN(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(lN(t))},(function(e,i){r={document:n.Zn(t,i),size:VC(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=$_();return this.es(e,t,(function(e,t){var i=n.Zn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ns",value:function(e,t){var n=this,r=$_(),i=new cS(tE.comparator);return this.es(e,t,(function(e,t){var a=n.Zn(e,t);r=r.insert(e,a),i=i.insert(e,VC(t))})).next((function(){return{documents:r,ss:i}}))}},{key:"es",value:function(e,t,n){if(t.isEmpty())return vE.resolve();var r=new hS(hN);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(lN(r.first()),lN(r.last())),a=r.getIterator(),o=a.getNext();return cN(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=tE.fromSegments([].concat(f(t.prefixPath),[t.collectionGroup,t.documentId]));o&&hN(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(lN(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),GA(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cN(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=$_(),o=_(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.Zn(tE.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(q_(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=$_(),o=fN(t,n),s=fN(t,cE.max());return cN(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Zn(tE.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new sN(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return uN(e).get("remoteDocumentGlobalKey").next((function(e){return PI(!!e),e}))}},{key:"Xn",value:function(e,t){return uN(e).put("remoteDocumentGlobalKey",t)}},{key:"Zn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=AA(e.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=tE.fromSegments(t.noDocument.path),i=$A(t.noDocument.readTime);n=XS.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return NI();var a=tE.fromSegments(t.unknownDocument.path),o=$A(t.unknownDocument.version);n=XS.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new $I(e[0],e[1]);return XI.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(XI.min()))return n}return XS.newInvalidDocument(e)}}]),e}();function oN(e){return new aN(e)}var sN=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).rs=e,i.trackRemovals=r,i.os=new G_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new hS((function(e,t){return HI(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.os.get(a);if(n.push(t.rs.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=HA(t.rs.serializer,o);i=i.add(a.path.popLast());var c=VC(u);r+=c-s.size,n.push(t.rs.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=HA(t.rs.serializer,o.convertToNoDocument(XI.min()));n.push(t.rs.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.rs.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.rs.updateMetadata(e,r)),vE.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.rs.ts(e,t).next((function(e){return n.os.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.rs.ns(e,t).next((function(e){var t=e.documents;return e.ss.forEach((function(e,r){n.os.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(iN);function uN(e){return aS(e,"remoteDocumentGlobal")}function cN(e){return aS(e,"remoteDocumentsV14")}function lN(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function fN(e,t){var n=t.documentKey.path.toArray();return[e,GA(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hN(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=HI(n[a],r[a]))return i;return(i=HI(n.length,r.length))||((i=HI(n[n.length-2],r[r.length-2]))||HI(n[n.length-1],r[r.length-1]))}var dN=m((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),pN=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return m(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&CT(r.mutation,e,vS.empty(),$I.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,iT()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iT(),i=Z_();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Y_();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Z_();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,iT())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=$_(),a=tT(),o=tT();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof DT)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),CT(o.mutation,t,o.mutation.getFieldMask(),$I.now())):a.set(t.key,vS.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new dN(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=tT(),i=new cS((function(e,t){return e-t})),a=iT();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=_(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||vS.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||iT()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=eT();c.forEach((function(e){if(!a.has(e)){var n=TT(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return vE.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return tE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):L_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):vE.resolve(Z_()),s=-1,u=a;return o.next((function(t){return vE.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?vE.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,iT())})).next((function(e){return{batchId:s,changes:J_(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new tE(t)).next((function(e){var t=Y_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Y_();return this.indexManager.getCollectionParents(e,i).next((function(o){return vE.forEach(o,(function(o){var s=function(e,t){return new C_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,XS.newInvalidDocument(r)))}));var n=Y_();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&CT(a.mutation,i,vS.empty(),$I.now()),q_(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),vN=function(){function e(t){h(this,e),this.serializer=t,this.us=new Map,this.cs=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return vE.resolve(this.us.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.us.set(t.id,{id:(n=t).id,version:n.version,createTime:gA(n.createTime)}),vE.resolve()}},{key:"getNamedQuery",value:function(e,t){return vE.resolve(this.cs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cs.set(t.name,function(e){return{name:e.name,query:ZA(e.bundledQuery),readTime:gA(e.readTime)}}(t)),vE.resolve()}}]),e}(),mN=function(){function e(){h(this,e),this.overlays=new cS(tE.comparator),this.hs=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return vE.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Z_();return vE.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.de(e,t,i)})),vE.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hs.delete(n)),vE.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Z_(),i=t.length+1,a=new tE(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return vE.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new cS((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Z_(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Z_(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return vE.resolve(u)}},{key:"de",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hs.get(r.largestBatchId).delete(n.key);this.hs.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new qT(t,n));var a=this.hs.get(t);void 0===a&&(a=iT(),this.hs.set(t,a)),this.hs.set(t,a.add(n.key))}}]),e}(),yN=function(){function e(){h(this,e),this.ls=new hS(gN.fs),this.ds=new hS(gN._s)}return m(e,[{key:"isEmpty",value:function(){return this.ls.isEmpty()}},{key:"addReference",value:function(e,t){var n=new gN(e,t);this.ls=this.ls.add(n),this.ds=this.ds.add(n)}},{key:"ws",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.gs(new gN(e,t))}},{key:"ys",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ps",value:function(e){var t=this,n=new tE(new JI([])),r=new gN(n,e),i=new gN(n,e+1),a=[];return this.ds.forEachInRange([r,i],(function(e){t.gs(e),a.push(e.key)})),a}},{key:"Is",value:function(){var e=this;this.ls.forEach((function(t){return e.gs(t)}))}},{key:"gs",value:function(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}},{key:"Ts",value:function(e){var t=new tE(new JI([])),n=new gN(t,e),r=new gN(t,e+1),i=iT();return this.ds.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new gN(e,0),n=this.ls.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),gN=function(){function e(t,n){h(this,e),this.key=t,this.Es=n}return m(e,null,[{key:"fs",value:function(e,t){return tE.comparator(e.key,t.key)||HI(e.Es,t.Es)}},{key:"_s",value:function(e,t){return HI(e.Es,t.Es)||tE.comparator(e.key,t.key)}}]),e}(),kN=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new hS(gN.fs)}return m(e,[{key:"checkEmpty",value:function(e){return vE.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new BT(i,t,n,r);this.mutationQueue.push(a);var o,s=_(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new gN(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return vE.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return vE.resolve(this.vs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ps(n),i=r<0?0:r;return vE.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return vE.resolve(0===this.mutationQueue.length?-1:this.As-1)}},{key:"getAllMutationBatches",value:function(e){return vE.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new gN(t,0),i=new gN(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.vs(e.Es);a.push(t)})),vE.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hS(HI);return t.forEach((function(e){var t=new gN(e,0),i=new gN(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.Es)}))})),vE.resolve(this.bs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;tE.isDocumentKey(i)||(i=i.child(""));var a=new gN(new tE(i),0),o=new hS(HI);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Es)),!0)}),a),vE.resolve(this.bs(o))}},{key:"bs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.vs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;PI(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return vE.forEach(t.mutations,(function(i){var a=new gN(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new gN(t,0),r=this.Rs.firstAfterOrEqual(n);return vE.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,vE.resolve()}},{key:"Vs",value:function(e,t){return this.Ps(e)}},{key:"Ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"vs",value:function(e){var t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),bN=function(){function e(t){h(this,e),this.Ss=t,this.docs=new cS(tE.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ss(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return vE.resolve(n?n.document.mutableCopy():XS.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=$_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():XS.newInvalidDocument(e))})),vE.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=$_(),a=t.path,o=new tE(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||lE(uE(l),n)<=0||(r.has(l.key)||q_(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return vE.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){NI()}},{key:"Ds",value:function(e,t){return vE.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new wN(this)}},{key:"getSize",value:function(e){return vE.resolve(this.size)}}]),e}(),wN=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).rs=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.rs.addEntry(e,i)):t.rs.removeEntry(r)})),vE.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.rs.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.rs.getEntries(e,t)}}]),n}(iN),xN=function(){function e(t){h(this,e),this.persistence=t,this.Cs=new G_((function(e){return I_(e)}),E_),this.lastRemoteSnapshotVersion=XI.min(),this.highestTargetId=0,this.xs=0,this.Ns=new yN,this.targetCount=0,this.ks=HC.Nn()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.Cs.forEach((function(e,n){return t(n)})),vE.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return vE.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return vE.resolve(this.xs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.ks.next(),vE.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.xs&&(this.xs=t),vE.resolve()}},{key:"$n",value:function(e){this.Cs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ks=new HC(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.$n(t),this.targetCount+=1,vE.resolve()}},{key:"updateTargetData",value:function(e,t){return this.$n(t),vE.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,vE.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Cs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),vE.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return vE.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cs.get(t)||null;return vE.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ns.ws(t,n),vE.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ns.ys(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),vE.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ns.ps(t),vE.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ns.Ts(t);return vE.resolve(n)}},{key:"containsKey",value:function(e,t){return vE.resolve(this.Ns.containsKey(t))}}]),e}(),IN=function(){function e(t,n){var r=this;h(this,e),this.Ms={},this.overlays={},this.Os=new TE(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new xN(this),this.indexManager=new AC,this.remoteDocumentCache=new bN((function(e){return r.referenceDelegate.Bs(e)})),this.serializer=new WA(n),this.Ls=new vN(this.serializer)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.$s=!1,Promise.resolve()}},{key:"started",get:function(){return this.$s}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new mN,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ms[e.toKey()];return n||(n=new kN(t,this.referenceDelegate),this.Ms[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;_I("MemoryPersistence","Starting transaction:",e);var i=new EN(this.Os.next());return this.referenceDelegate.qs(),n(i).next((function(e){return r.referenceDelegate.Us(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ks",value:function(e,t){return vE.or(Object.values(this.Ms).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),EN=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(hE),SN=function(){function e(t){h(this,e),this.persistence=t,this.Gs=new yN,this.Qs=null}return m(e,[{key:"zs",get:function(){if(this.Qs)return this.Qs;throw NI()}},{key:"addReference",value:function(e,t,n){return this.Gs.addReference(n,t),this.zs.delete(n.toString()),vE.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gs.removeReference(n,t),this.zs.add(n.toString()),vE.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zs.add(t.toString()),vE.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gs.ps(t.targetId).forEach((function(e){return n.zs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qs",value:function(){this.Qs=new Set}},{key:"Us",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vE.forEach(this.zs,(function(r){var i=tE.fromPath(r);return t.Ws(e,i).next((function(e){e||n.removeEntry(i,XI.min())}))})).next((function(){return t.Qs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ws(e,t).next((function(e){e?n.zs.delete(t.toString()):n.zs.add(t.toString())}))}},{key:"Bs",value:function(e){return 0}},{key:"Ws",value:function(e,t){var n=this;return vE.or([function(){return vE.resolve(n.Gs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ks(e,t)}])}}],[{key:"js",value:function(t){return new e(t)}}]),e}(),_N=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new mE("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",LE,{unique:!0}),e.createObjectStore("documentMutations")}(e),TN(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=vE.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),TN(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:XI.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",LE,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return vE.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Js(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ys(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:XE});t.createIndex("collectionPathOverlayIndex",YE,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",JE,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:UE});t.createIndex("documentKeyIndex",VE),t.createIndex("collectionGroupIndex",BE)}(e)})).next((function(){return i.ei(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ni(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:HE}).createIndex("sequenceNumberIndex",GE,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:QE}).createIndex("documentKeyIndex",$E,{unique:!1})}(e)}))),o}},{key:"Ys",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=VC(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Js",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return vE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return vE.forEach(r,(function(r){PI(r.userId===n.userId);var i=XA(t.serializer,r);return UC(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new JI(n),o=function(e){return[0,PE(e)]}(a);r.push(t.get(o).next((function(n){return n?vE.resolve():function(n){return t.put({targetId:0,path:PE(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return vE.waitFor(r)}))}))}},{key:"Zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:WE});var n=t.store("collectionParents"),r=new CC,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:PE(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new JI(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],RE(r));return i(a.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=YA(r),a=JA(t.serializer,i);return n.put(a)}))}},{key:"ei",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new tE(JI.fromString(i.document.name).popFirst(5)):i.noDocument?tE.fromSegments(i.noDocument.path):i.unknownDocument?tE.fromSegments(i.unknownDocument.path):NI()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return vE.waitFor(r)}))}},{key:"ni",value:function(e,t){var n=this,r=t.store("mutations"),i=oN(this.serializer),a=new IN(SN.js,this.serializer.le);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:iT();XA(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),vE.forEach(r,(function(e,r){var o=new xI(r),s=oC.fe(n.serializer,o),u=a.getIndexManager(o),c=BC.fe(o,n.serializer,u,a.referenceDelegate);return new pN(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new iS(t,TE.ct),e).next()}))}))}}]),e}();function TN(e){e.createObjectStore("targetDocuments",{keyPath:qE}).createIndex("documentTargetsIndex",KE,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zE,{unique:!0}),e.createObjectStore("targetGlobal")}var AN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",CN=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=s,this.ii=c,this.ri=l,this.oi=f,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=function(e){return Promise.resolve()},!e.D())throw new RI(DI.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nN(this,i),this.fi=n+"main",this.serializer=new WA(u),this.di=new yE(this.fi,this.oi,new _N(this.serializer)),this.Fs=new GC(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oN(this.serializer),this.Ls=new rC,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&TI("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return m(e,[{key:"start",value:function(){var e=this;return this.wi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new RI(DI.FAILED_PRECONDITION,AN);return e.mi(),e.gi(),e.yi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Fs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new TE(t,e.ii)})).then((function(){e.$s=!0})).catch((function(t){return e.di&&e.di.close(),Promise.reject(t)}))}},{key:"pi",value:function(e){var t=this;return this.li=function(){var n=$i(Gi().mark((function n(r){return Gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.di.B(function(){var t=$i(Gi().mark((function t(n){return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget($i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.wi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"wi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return PN(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ii(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.li(!1)})))}))})).next((function(){return e.Ti(t)})).next((function(n){return e.isPrimary&&!n?e.Ei(t).next((function(){return!1})):!!n&&e.Ai(t).next((function(){return!0}))}))})).catch((function(t){if(bE(t))return _I("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return _I("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.li(t)})),e.isPrimary=t}))}},{key:"Ii",value:function(e){var t=this;return NN(e).get("owner").next((function(e){return vE.resolve(t.Ri(e))}))}},{key:"vi",value:function(e){return PN(e).delete(this.clientId)}},{key:"Pi",value:function(){var e=$i(Gi().mark((function e(){var t,n,r,i,a=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=aS(e,"clientMetadata");return t.j().next((function(e){var n=a.Vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return vE.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=_(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Si(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yi",value:function(){var e=this;this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.wi().then((function(){return e.Pi()})).then((function(){return e.yi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ti",value:function(e){var t=this;return this.ri?vE.resolve(!0):NN(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Di(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new RI(DI.FAILED_PRECONDITION,AN);return!1}}return!(!t.networkEnabled||!t.inForeground)||PN(e).j().next((function(e){return void 0===t.Vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&_I("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=$i(Gi().mark((function e(){var t=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$s=!1,this.Ci(),this.ai&&(this.ai.cancel(),this.ai=null),this.xi(),this.Ni(),e.next=7,this.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new iS(e,TE.ct);return t.Ei(n).next((function(){return t.vi(n)}))}));case 7:this.di.close(),this.ki();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Di(e.clientId)}))}},{key:"Mi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return PN(t).j().next((function(t){return e.Vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.$s}},{key:"getMutationQueue",value:function(e,t){return BC.fe(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new PC(e,this.serializer.le.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return oC.fe(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;_I("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.oi)?rS:14===i?nS:13===i?tS:12===i?eS:11===i?ZE:void NI();return this.di.runTransaction(e,o,s,(function(i){return a=new iS(i,r.Os?r.Os.next():TE.ct),"readwrite-primary"===t?r.Ii(a).next((function(e){return!!e||r.Ti(a)})).next((function(t){if(!t)throw TI("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.li(!1)})),new RI(DI.FAILED_PRECONDITION,fE);return n(a)})).next((function(e){return r.Ai(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return NN(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Di(e.ownerId)&&!t.Ri(e)&&!(t.ri||t.allowTabSynchronization&&e.allowTabSynchronization))throw new RI(DI.FAILED_PRECONDITION,AN)}))}},{key:"Ai",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return NN(e).put("owner",t)}},{key:"Ei",value:function(e){var t=this,n=NN(e);return n.get("owner").next((function(e){return t.Ri(e)?(_I("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):vE.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(TI("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"mi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.wi()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"gi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Ci();var e=/(?:Version|Mobile)\/1[456]/;!Ai()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Ni",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Di",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return _I("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return TI("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ci",value:function(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){TI("Failed to set zombie client id.",e)}}},{key:"ki",value:function(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch(e){}}},{key:"Si",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return yE.D()}}]),e}();function NN(e){return aS(e,"owner")}function PN(e){return aS(e,"clientMetadata")}function ON(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var DN=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.$i=r,this.Fi=i}return m(e,null,[{key:"Bi",value:function(t,n){var r,i=iT(),a=iT(),o=_(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),RN=function(){function e(){h(this,e),this.Li=!1}return m(e,[{key:"initialize",value:function(e,t){this.qi=e,this.indexManager=t,this.Li=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ui(e,t).next((function(a){return a||i.Ki(e,t,r,n)})).next((function(n){return n||i.Gi(e,t)}))}},{key:"Ui",value:function(e,t){var n=this;if(O_(t))return vE.resolve(null);var r=M_(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=U_(t,null,"F"),r=M_(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=iT.apply(void 0,f(i));return n.qi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Qi(t,i);return n.ji(t,o,a,r.readTime)?n.Ui(e,U_(t,null,"F")):n.zi(e,o,t,r)}))}))})))}))}},{key:"Ki",value:function(e,t,n,r){var i=this;return O_(t)||r.isEqual(XI.min())?this.Gi(e,t):this.qi.getDocuments(e,n).next((function(a){var o=i.Qi(t,a);return i.ji(t,o,n,r)?i.Gi(e,t):(SI()<=ea.DEBUG&&_I("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),z_(t)),i.zi(e,o,t,sE(r,-1)))}))}},{key:"Qi",value:function(e,t){var n=new hS(W_(e));return t.forEach((function(t,r){q_(e,r)&&(n=n.add(r))})),n}},{key:"ji",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Gi",value:function(e,t){return SI()<=ea.DEBUG&&_I("QueryEngine","Using full collection scan to execute query:",z_(t)),this.qi.getDocumentsMatchingQuery(e,t,cE.min())}},{key:"zi",value:function(e,t,n,r){return this.qi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),LN=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Wi=n,this.serializer=i,this.Hi=new cS(HI),this.Ji=new G_((function(e){return I_(e)}),E_),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(r)}return m(e,[{key:"Zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pN(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Hi)}))}}]),e}();function jN(e,t,n,r){return new LN(e,t,n,r)}function MN(e,t){return FN.apply(this,arguments)}function FN(){return(FN=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=OI(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=iT(),u=_(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=_(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=_(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=_(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{tr:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UN(e,t){var n=OI(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=vE.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);PI(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=iT(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function VN(e){var t=OI(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Fs.getLastRemoteSnapshotVersion(e)}))}function BN(e,t){var n=OI(e),r=t.snapshotVersion,i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Fs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(yS.EMPTY_BYTE_STRING,XI.min()).withLastLimboFreeSnapshotVersion(XI.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Fs.updateTargetData(e,c))}}));var s=$_(),u=iT();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(zN(e,a,t.documentUpdates).next((function(e){s=e.er,u=e.nr}))),!r.isEqual(XI.min())){var c=n.Fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return vE.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Hi=i,e}))}function zN(e,t,n){var r=iT(),i=iT();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=$_();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(XI.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):_I("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{er:r,nr:i}}))}function qN(e,t){var n=OI(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function KN(e,t){var n=OI(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Fs.getTargetData(e,t).next((function(i){return i?(r=i,vE.resolve(r)):n.Fs.allocateTargetId(e).next((function(i){return r=new KA(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Hi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(e.targetId,e),n.Ji.set(t,e.targetId)),e}))}function WN(e,t,n){return HN.apply(this,arguments)}function HN(){return(HN=$i(Gi().mark((function e(t,n,r){var i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=OI(t),a=i.Hi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),bE(e.t1)){e.next=12;break}throw e.t1;case 12:_I("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Hi=i.Hi.remove(n),i.Ji.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function GN(e,t,n){var r=OI(e),i=XI.min(),a=iT();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=OI(e),i=r.Ji.get(n);return void 0!==i?vE.resolve(r.Hi.get(i)):r.Fs.getTargetData(t,n)}(r,e,M_(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Wi.getDocumentsMatchingQuery(e,t,n?i:XI.min(),n?a:iT())})).next((function(e){return XN(r,K_(t),e),{documents:e,sr:a}}))}))}function QN(e,t){var n=OI(e),r=OI(n.Fs),i=n.Hi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.he(e,t).next((function(e){return e?e.target:null}))}))}function $N(e,t){var n=OI(e),r=n.Yi.get(t)||XI.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,sE(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return XN(n,t,e),e}))}function XN(e,t,n){var r=e.Yi.get(t)||XI.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Yi.set(t,r)}function YN(e,t,n,r){return JN.apply(this,arguments)}function JN(){return(JN=$i(Gi().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=OI(t),o=iT(),s=$_(),u=_(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.ir(l.metadata.name),l.document&&(o=o.add(f)),(h=n.rr(l)).setReadTime(n.ur(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,KN(a,function(e){return M_(P_(JI.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return zN(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.er,t.nr)})).next((function(){return t.er}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZN(e,t){return eP.apply(this,arguments)}function eP(){return eP=$i(Gi().mark((function e(t,n){var r,i,a,o=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:iT(),e.next=3,KN(t,M_(ZA(n.bundledQuery)));case 3:return i=e.sent,a=OI(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=gA(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ls.saveNamedQuery(e,n);var o=i.withResumeToken(yS.EMPTY_BYTE_STRING,t);return a.Hi=a.Hi.insert(o.targetId,o),a.Fs.updateTargetData(e,o).next((function(){return a.Fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ls.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),eP.apply(this,arguments)}function tP(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function nP(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function rP(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var iP=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return m(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new RI(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(TI("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),aP=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return m(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new RI(i.error.code,i.error.message))),a?new e(t,i.state,r):(TI("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),oP=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return m(e,null,[{key:"cr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=oT(),o=0;i&&o<r.activeTargetIds.length;++o)i=NE(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(TI("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),sP=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return m(e,null,[{key:"cr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(TI("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),uP=function(){function e(){h(this,e),this.activeTargetIds=oT()}return m(e,[{key:"hr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ar",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),cP=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new cS(HI),this.started=!1,this.gr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=tP(this.persistenceKey,this.dr),this.pr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.mr=this.mr.insert(this.dr,new uP),this.Ir=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Tr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Er=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ar=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return m(e,[{key:"start",value:function(){var e=$i(Gi().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Mi();case 2:t=e.sent,n=_(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.dr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(tP(this.persistenceKey,i)))&&(o=oP.cr(i,a))&&(this.mr=this.mr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.vr(),(s=this.storage.getItem(this.Ar))&&(u=this.Pr(s))&&this.br(u),c=_(this.gr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.wr(f)}catch(d){c.e(d)}finally{c.f()}this.gr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.pr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Vr(this.mr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.mr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Sr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Sr(e,t,n),this.Dr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(rP(this.persistenceKey,e));if(n){var r=aP.cr(e,n);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Cr.lr(e),this.vr()}},{key:"isLocalQueryTarget",value:function(e){return this.Cr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(rP(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Nr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Dr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.kr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Mr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return _I("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){_I("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){_I("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"wr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(_I("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yr)return void TI("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable($i(Gi().mark((function e(){var r,i,a,o,s,u,c;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ir.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.$r(r,null));case 6:if(!(i=t.Fr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$r(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Tr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Br(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Lr(a));case 16:e.next=41;break;case 18:if(!t.Er.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.qr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Ur(o));case 23:e.next=41;break;case 25:if(n.key!==t.Ar){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.br(s));case 30:e.next=41;break;case 32:if(n.key!==t.pr){e.next=37;break}u=function(e){var t=TE.ct;if(null!=e)try{var n=JSON.parse(e);PI("number"==typeof n),t=n}catch(e){TI("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==TE.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Gr(e)})));case 41:e.next=44;break;case 43:t.gr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Cr",get:function(){return this.mr.get(this.dr)}},{key:"vr",value:function(){this.setItem(this.yr,this.Cr.ar())}},{key:"Sr",value:function(e,t,n){var r=new iP(this.currentUser,e,t,n),i=nP(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ar())}},{key:"Dr",value:function(e){var t=nP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"kr",value:function(e){var t={clientId:this.dr,onlineState:e};this.storage.setItem(this.Ar,JSON.stringify(t))}},{key:"Nr",value:function(e,t,n){var r=rP(this.persistenceKey,e),i=new aP(e,t,n);this.setItem(r,i.ar())}},{key:"Mr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Ir.exec(e);return t?t[1]:null}},{key:"Fr",value:function(e,t){var n=this.Or(e);return oP.cr(n,t)}},{key:"Br",value:function(e,t){var n=this.Tr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return iP.cr(new xI(i),r,t)}},{key:"qr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]);return aP.cr(r,t)}},{key:"Pr",value:function(e){return sP.cr(e)}},{key:"Kr",value:function(e){return JSON.parse(e)}},{key:"Lr",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Qr(t.batchId,t.state,t.error));case 2:_I("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ur",value:function(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}},{key:"$r",value:function(e,t){var n=this,r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),a=this.Vr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.zr(o,s).then((function(){n.mr=r}))}},{key:"br",value:function(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Vr",value:function(e){var t=oT();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),lP=function(){function e(){h(this,e),this.Wr=new uP,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Hr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Wr.lr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Hr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Wr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Wr=new uP,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),fP=function(){function e(){h(this,e)}return m(e,[{key:"Jr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),hP=function(){function e(){var t=this;h(this,e),this.Yr=function(){return t.Xr()},this.Zr=function(){return t.eo()},this.no=[],this.so()}return m(e,[{key:"Jr",value:function(e){this.no.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}},{key:"so",value:function(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}},{key:"Xr",value:function(){_I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=_(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"eo",value:function(){_I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=_(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),dP=null;function pP(){return null===dP?dP=268435456+Math.round(2147483648*Math.random()):dP++,"0x"+dP.toString(16)}var vP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},mP=function(){function e(t){h(this,e),this.io=t.io,this.ro=t.ro}return m(e,[{key:"oo",value:function(e){this.uo=e}},{key:"co",value:function(e){this.ao=e}},{key:"onMessage",value:function(e){this.ho=e}},{key:"close",value:function(){this.ro()}},{key:"send",value:function(e){this.io(e)}},{key:"lo",value:function(){this.uo()}},{key:"fo",value:function(e){this.ao(e)}},{key:"_o",value:function(e){this.ho(e)}}]),e}(),yP="WebChannelConnection",gP=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return m(n,[{key:"Eo",value:function(e,t,n,r){var i=pP();return new Promise((function(a,o){var s=new gI;s.setWithCredentials(!0),s.listenOnce(dI.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case hI.NO_ERROR:var t=s.getResponseJson();_I(yP,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case hI.TIMEOUT:_I(yP,"RPC '".concat(e,"' ").concat(i," timed out")),o(new RI(DI.DEADLINE_EXCEEDED,"Request time out"));break;case hI.HTTP_ERROR:var n=s.getStatus();if(_I(yP,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(DI).indexOf(t)>=0?t:DI.UNKNOWN}(u.status);o(new RI(c,u.message))}else o(new RI(DI.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new RI(DI.UNAVAILABLE,"Connection failed."));break;default:NI()}}finally{_I(yP,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);_I(yP,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=pP(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=lI(),o=fI(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new mI({})),this.To(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");_I(yP,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var c=a.createWebChannel(u,s),l=!1,f=!1,h=new mP({io:function(t){f?_I(yP,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(_I(yP,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),_I(yP,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ro:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,yI.EventType.OPEN,(function(){f||_I(yP,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,yI.EventType.CLOSE,(function(){f||(f=!0,_I(yP,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.fo())})),d(c,yI.EventType.ERROR,(function(t){f||(f=!0,AI(yP,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.fo(new RI(DI.UNAVAILABLE,"The operation could not be completed")))})),d(c,yI.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];PI(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){_I(yP,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=MT[e];if(void 0!==t)return HT(t)}(s),l=o.message;void 0===u&&(u=DI.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),f=!0,h.fo(new RI(u,l)),c.close()}else _I(yP,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h._o(i)}})),d(o,pI.STAT_EVENT,(function(t){t.stat===vI.PROXY?_I(yP,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===vI.NOPROXY&&_I(yP,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.lo()}),0),h}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.wo=n+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return m(e,[{key:"yo",get:function(){return!1}},{key:"po",value:function(e,t,n,r,i){var a=pP(),o=this.Io(e,t);_I("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.To(s,r,i),this.Eo(e,o,s,n).then((function(t){return _I("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw AI("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Ao",value:function(e,t,n,r,i,a){return this.po(e,t,n,r,i)}},{key:"To",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+II,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Io",value:function(e,t){var n=vP[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}}]),e}());function kP(){return"undefined"!=typeof window?window:null}function bP(){return"undefined"!=typeof document?document:null}function wP(e){return new dA(e,!0)}var xP=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.si=t,this.timerId=n,this.vo=r,this.Po=i,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.Vo=0}},{key:"Co",value:function(){this.Vo=this.bo}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&_I("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.So=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Do=Date.now(),e()})),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}},{key:"ko",value:function(){null!==this.So&&(this.So.skipDelay(),this.So=null)}},{key:"cancel",value:function(){null!==this.So&&(this.So.cancel(),this.So=null)}},{key:"No",value:function(){return(Math.random()-.5)*this.Vo}}]),e}(),IP=function(){function e(t,n,r,i,a,o,s,u){h(this,e),this.si=t,this.Mo=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new xP(t,n)}return m(e,[{key:"qo",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Ko()}},{key:"stop",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.qo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Lo.reset()}},{key:"Qo",value:function(){var e=this;this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,(function(){return e.jo()})))}},{key:"zo",value:function(e){this.Wo(),this.stream.send(e)}},{key:"jo",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wo",value:function(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"close",value:function(){var e=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,4!==t?this.Lo.reset():n&&n.code===DI.RESOURCE_EXHAUSTED?(TI(n.toString()),TI("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===DI.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Jo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.co(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.$o===n&&e.Xo(i,a)}),(function(n){t((function(){var t=new RI(DI.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Zo(t)}))}))}},{key:"Xo",value:function(e,t){var n=this,r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo((function(){r((function(){return n.state=2,n.Bo=n.si.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener.oo()}))})),this.stream.co((function(e){r((function(){return n.Zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Ko",value:function(){var e=this;this.state=5,this.Lo.xo($i(Gi().mark((function t(){return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Zo",value:function(e){return _I("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Yo",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.$o===e?n():(_I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),EP=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return m(n,[{key:"tu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.Lo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:NI()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(PI(void 0===t||"string"==typeof t),yS.fromBase64String(t||"")):(PI(void 0===t||t instanceof Uint8Array),yS.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?DI.UNKNOWN:HT(e.code);return new RI(t,e.message||"")}(o);n=new aA(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=xA(e,u.document.name),l=gA(u.document.updateTime),f=u.document.createTime?gA(u.document.createTime):XI.min(),h=new QS({mapValue:{fields:u.document.fields}}),d=XS.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new rA(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=xA(e,m.document),g=m.readTime?gA(m.readTime):XI.min(),k=XS.newNoDocument(y,g),b=m.removedTargetIds||[];n=new rA([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=xA(e,w.document),I=w.removedTargetIds||[];n=new rA([],I,x,null)}else{if(!("filter"in t))return NI();t.filter;var E=t.filter;E.targetId;var S=E.count,_=void 0===S?0:S,T=E.unchangedNames,A=new KT(_,T),C=E.targetId;n=new iA(C,A)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return XI.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?XI.min():t.readTime?gA(t.readTime):XI.min()}(e);return this.listener.eu(t,n)}},{key:"nu",value:function(e){var t={};t.database=SA(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=S_(r)?{documents:OA(e,r)}:{query:DA(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=mA(e,t.resumeToken);var i=pA(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(XI.min())>0){n.readTime=vA(e,t.snapshotVersion.toTimestamp());var a=pA(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return NI()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.zo(t)}},{key:"su",value:function(e){var t={};t.database=SA(this.serializer),t.removeTarget=e,this.zo(t)}}]),n}(IP),SP=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.iu=!1,u}return m(n,[{key:"ru",get:function(){return this.iu}},{key:"start",value:function(){this.iu=!1,this.lastStreamToken=void 0,Eo(k(n.prototype),"start",this).call(this)}},{key:"Jo",value:function(){this.iu&&this.ou([])}},{key:"tu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(PI(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();var t=function(e,t){return e&&e.length>0?(PI(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?gA(e.updateTime):gA(t);return n.isEqual(XI.min())&&(n=gA(t)),new IT(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=gA(e.commitTime);return this.listener.uu(n,t)}return PI(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}},{key:"au",value:function(){var e={};e.database=SA(this.serializer),this.zo(e)}},{key:"ou",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return NA(t.serializer,e)}))};this.zo(n)}}]),n}(IP),_P=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.hu=!1,o}return m(n,[{key:"lu",value:function(){if(this.hu)throw new RI(DI.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"po",value:function(e,t,n){var r=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.connection.po(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===DI.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new RI(DI.UNKNOWN,e.toString())}))}},{key:"Ao",value:function(e,t,n,r){var i=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.connection.Ao(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===DI.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new RI(DI.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.hu=!0}}]),n}(function(){return m((function e(){h(this,e)}))}());var TP=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}return m(e,[{key:"mu",value:function(){var e=this;0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.yu("Backend didn't respond within 10 seconds."),e.gu("Offline"),Promise.resolve()})))}},{key:"pu",value:function(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.gu("Offline")))}},{key:"set",value:function(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}},{key:"gu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"yu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.wu?(TI(t),this.wu=!1):_I("OnlineStateTracker",t)}},{key:"Iu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),AP=m((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr((function(e){r.enqueueAndForget($i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=UP(o),!e.t0){e.next=5;break}return _I("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=OI(t)).Au.add(4),e.next=4,PP(n);case 4:return n.Pu.set("Unknown"),n.Au.delete(4),e.next=8,CP(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Pu=new TP(r,i)}));function CP(e){return NP.apply(this,arguments)}function NP(){return(NP=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!UP(t)){e.next=18;break}n=_(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function PP(e){return OP.apply(this,arguments)}function OP(){return(OP=$i(Gi().mark((function e(t){var n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function DP(e,t){var n=OI(e);n.Eu.has(t.targetId)||(n.Eu.set(t.targetId,t),FP(n)?MP(n):pO(n).Uo()&&LP(n,t))}function RP(e,t){var n=OI(e),r=pO(n);n.Eu.delete(t),r.Uo()&&jP(n,t),0===n.Eu.size&&(r.Uo()?r.Qo():UP(n)&&n.Pu.set("Unknown"))}function LP(e,t){if(e.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(XI.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}pO(e).nu(t)}function jP(e,t){e.bu.Lt(t),pO(e).su(t)}function MP(e){e.bu=new sA({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},he:function(t){return e.Eu.get(t)||null},oe:function(){return e.datastore.serializer.databaseId}}),pO(e).start(),e.Pu.mu()}function FP(e){return UP(e)&&!pO(e).qo()&&e.Eu.size>0}function UP(e){return 0===OI(e).Au.size}function VP(e){e.bu=void 0}function BP(e){return zP.apply(this,arguments)}function zP(){return(zP=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Eu.forEach((function(e,n){LP(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qP(e,t){return KP.apply(this,arguments)}function KP(){return(KP=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:VP(t),FP(t)?(t.Pu.pu(n),MP(t)):t.Pu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WP(e,t,n){return HP.apply(this,arguments)}function HP(){return HP=$i(Gi().mark((function e(t,n,r){var i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Pu.set("Online"),!(n instanceof aA&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=$i(Gi().mark((function e(t,n){var r,i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=_(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Eu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Eu.delete(o),t.bu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),_I("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,GP(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof rA?t.bu.Wt(n):n instanceof iA?t.bu.ee(n):t.bu.Yt(n),r.isEqual(XI.min())){e.next=29;break}return e.prev=14,e.next=17,VN(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.bu.ue(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Eu.get(r);i&&e.Eu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Eu.get(t);if(r){e.Eu.set(t,r.withResumeToken(yS.EMPTY_BYTE_STRING,r.snapshotVersion)),jP(e,t);var i=new KA(r.target,t,n,r.sequenceNumber);LP(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),_I("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,GP(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),HP.apply(this,arguments)}function GP(e,t,n){return QP.apply(this,arguments)}function QP(){return(QP=$i(Gi().mark((function e(t,n,r){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bE(n)){e.next=2;break}throw n;case 2:return t.Au.add(1),e.next=5,PP(t);case 5:t.Pu.set("Offline"),r||(r=function(){return VN(t.localStore)}),t.asyncQueue.enqueueRetryable($i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _I("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Au.delete(1),e.next=6,CP(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $P(e,t){return t().catch((function(n){return GP(e,n,t)}))}function XP(e){return YP.apply(this,arguments)}function YP(){return(YP=$i(Gi().mark((function e(t){var n,r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=OI(t),r=vO(n),i=n.Tu.length>0?n.Tu[n.Tu.length-1].batchId:-1;case 2:if(!JP(n)){e.next=19;break}return e.prev=3,e.next=6,qN(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Tu.length&&r.Qo(),e.abrupt("break",19);case 10:i=a.batchId,ZP(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,GP(n,e.t0);case 17:e.next=2;break;case 19:eO(n)&&tO(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function JP(e){return UP(e)&&e.Tu.length<10}function ZP(e,t){e.Tu.push(t);var n=vO(e);n.Uo()&&n.ru&&n.ou(t.mutations)}function eO(e){return UP(e)&&!vO(e).qo()&&e.Tu.length>0}function tO(e){vO(e).start()}function nO(e){return rO.apply(this,arguments)}function rO(){return(rO=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vO(t).au();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iO(e){return aO.apply(this,arguments)}function aO(){return(aO=$i(Gi().mark((function e(t){var n,r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=vO(t),r=_(t.Tu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.ou(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oO(e,t,n){return sO.apply(this,arguments)}function sO(){return(sO=$i(Gi().mark((function e(t,n,r){var i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Tu.shift(),a=zT.from(i,n,r),e.next=3,$P(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,XP(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uO(e,t){return cO.apply(this,arguments)}function cO(){return cO=$i(Gi().mark((function e(t,n){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&vO(t).ru,!e.t0){e.next=4;break}return e.next=4,function(){var e=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!WT(i=n.code)||i===DI.ABORTED){e.next=7;break}return r=t.Tu.shift(),vO(t).Go(),e.next=5,$P(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,XP(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:eO(t)&&tO(t);case 5:case"end":return e.stop()}}),e)}))),cO.apply(this,arguments)}function lO(e,t){return fO.apply(this,arguments)}function fO(){return(fO=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=OI(t)).asyncQueue.verifyOperationInProgress(),_I("RemoteStore","RemoteStore received new credentials"),i=UP(r),r.Au.add(3),e.next=6,PP(r);case 6:return i&&r.Pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Au.delete(3),e.next=12,CP(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hO(e,t){return dO.apply(this,arguments)}function dO(){return(dO=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=OI(t),!n){e.next=7;break}return r.Au.delete(2),e.next=5,CP(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Au.add(2),e.next=12,PP(r);case 12:r.Pu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pO(e){return e.Vu||(e.Vu=function(e,t,n){var r=OI(e);return r.lu(),new EP(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:BP.bind(null,e),co:qP.bind(null,e),eu:WP.bind(null,e)}),e.Ru.push(function(){var t=$i(Gi().mark((function t(n){return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Vu.Go(),FP(e)?MP(e):e.Pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Vu.stop();case 6:VP(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Vu}function vO(e){return e.Su||(e.Su=function(e,t,n){var r=OI(e);return r.lu(),new SP(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:nO.bind(null,e),co:uO.bind(null,e),cu:iO.bind(null,e),uu:oO.bind(null,e)}),e.Ru.push(function(){var t=$i(Gi().mark((function t(n){return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Su.Go(),t.next=4,XP(e);case 4:t.next=9;break;case 6:return t.next=8,e.Su.stop();case 8:e.Tu.length>0&&(_I("RemoteStore","Stopping write stream with ".concat(e.Tu.length," pending writes")),e.Tu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}var mO=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new LI,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new RI(DI.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function yO(e,t){if(TI("AsyncQueue","".concat(t,": ").concat(e)),bE(e))return new RI(DI.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var gO=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||tE.comparator(e.key,n.key)}:function(e,t){return tE.comparator(e.key,t.key)},this.keyedMap=Y_(),this.sortedSet=new cS(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),kO=function(){function e(){h(this,e),this.Du=new cS(tE.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Du.get(t);n?0!==e.type&&3===n.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==n.type?this.Du=this.Du.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Du=this.Du.remove(t):1===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):NI():this.Du=this.Du.insert(t,e)}},{key:"Cu",value:function(){var e=[];return this.Du.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),bO=function(){function e(t,n,r,i,a,o,s,u,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,gO.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),wO=m((function e(){h(this,e),this.xu=void 0,this.listeners=[]})),xO=m((function e(){h(this,e),this.queries=new G_((function(e){return B_(e)}),V_),this.onlineState="Unknown",this.Nu=new Set}));function IO(e,t){return EO.apply(this,arguments)}function EO(){return(EO=$i(Gi().mark((function e(t,n){var r,i,a,o,s;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=OI(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new wO),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.xu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=yO(e.t0,"Initialization of query '".concat(z_(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ku(r.onlineState),o.xu&&n.Mu(o.xu)&&CO(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function SO(e,t){return _O.apply(this,arguments)}function _O(){return(_O=$i(Gi().mark((function e(t,n){var r,i,a,o,s;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=OI(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TO(e,t){var n,r=OI(e),i=!1,a=_(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=_(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Mu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.xu=o}}}catch(f){a.e(f)}finally{a.f()}i&&CO(r)}function AO(e,t,n){var r=OI(e),i=r.queries.get(t);if(i){var a,o=_(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function CO(e){e.Nu.forEach((function(e){e.next()}))}var NO=function(){function e(t,n,r){h(this,e),this.query=t,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"Mu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=_(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new bO(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),a=!0):this.Lu(e,this.onlineState)&&(this.qu(e),a=!0),this.Fu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"ku",value:function(e){this.onlineState=e;var t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}},{key:"Lu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Uu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Bu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"qu",value:function(e){e=bO.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}]),e}(),PO=function(){function e(t,n){h(this,e),this.Ku=t,this.byteLength=n}return m(e,[{key:"Gu",value:function(){return"metadata"in this.Ku}}]),e}(),OO=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"ir",value:function(e){return xA(this.serializer,e)}},{key:"rr",value:function(e){return e.metadata.exists?AA(this.serializer,e.document,!1):XS.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}},{key:"ur",value:function(e){return gA(e)}}]),e}(),DO=function(){function e(t,n,r){h(this,e),this.Qu=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RO(t)}return m(e,[{key:"ju",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;var n=JI.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"zu",value:function(e){var t,n=new Map,r=new OO(this.serializer),i=_(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.ir(a.metadata.name),u=_(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||iT()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=$i(Gi().mark((function e(){var t,n,r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YN(this.localStore,new OO(this.serializer),this.documents,this.Qu.id);case 2:t=e.sent,n=this.zu(this.documents),r=_(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ZN(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Wu:this.collectionGroups,Hu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function RO(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var LO=m((function e(t){h(this,e),this.key=t})),jO=m((function e(t){h(this,e),this.key=t})),MO=function(){function e(t,n){h(this,e),this.query=t,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=iT(),this.mutatedKeys=iT(),this.Zu=W_(t),this.tc=new gO(this.Zu)}return m(e,[{key:"ec",get:function(){return this.Ju}},{key:"nc",value:function(e,t){var n=this,r=t?t.sc:new kO,i=t?t.tc:this.tc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=q_(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ic(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Zu(f,u)>0||c&&n.Zu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{tc:o,sc:r,ji:s,mutatedKeys:a}}},{key:"ic",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;var a=e.sc.Cu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return NI()}};return n(e)-n(t)}(e.type,t.type)||r.Zu(e.doc,t.doc)})),this.rc(n);var o=t?this.oc():[],s=0===this.Xu.size&&this.current?1:0,u=s!==this.Yu;return this.Yu=s,0!==a.length||u?{snapshot:new bO(this.query,e.tc,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}},{key:"ku",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new kO,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}},{key:"cc",value:function(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}},{key:"rc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ju=t.Ju.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ju=t.Ju.delete(e)})),this.current=e.current)}},{key:"oc",value:function(){var e=this;if(!this.current)return[];var t=this.Xu;this.Xu=iT(),this.tc.forEach((function(t){e.cc(t.key)&&(e.Xu=e.Xu.add(t.key))}));var n=[];return t.forEach((function(t){e.Xu.has(t)||n.push(new jO(t))})),this.Xu.forEach((function(e){t.has(e)||n.push(new LO(e))})),n}},{key:"ac",value:function(e){this.Ju=e.sr,this.Xu=iT();var t=this.nc(e.documents);return this.applyChanges(t,!0)}},{key:"hc",value:function(){return bO.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}]),e}(),FO=m((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),UO=m((function e(t){h(this,e),this.key=t,this.lc=!1})),VO=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new G_((function(e){return B_(e)}),V_),this._c=new Map,this.wc=new Set,this.mc=new cS(tE.comparator),this.gc=new Map,this.yc=new yN,this.Ic={},this.Tc=new Map,this.Ec=HC.kn(),this.onlineState="Unknown",this.Ac=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ac}}]),e}();function BO(e,t){return zO.apply(this,arguments)}function zO(){return(zO=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=RD(t),!(o=r.dc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.hc(),e.next=15;break;case 6:return e.next=8,KN(r.localStore,M_(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,qO(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&DP(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qO(e,t,n,r,i){return KO.apply(this,arguments)}function KO(){return KO=$i(Gi().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=$i(Gi().mark((function e(t,n,r,i){var a,o,s;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.nc(r),e.t0=a.ji,!e.t0){e.next=6;break}return e.next=5,GN(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.nc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(lD(t,n.targetId,s.uc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,GN(t.localStore,n,!0);case 3:return o=e.sent,s=new MO(n,o.sr),u=s.nc(o.documents),c=nA.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),lD(t,r,l.uc),f=new FO(n,r,s),e.abrupt("return",(t.dc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),KO.apply(this,arguments)}function WO(e,t){return HO.apply(this,arguments)}function HO(){return(HO=$i(Gi().mark((function e(t,n){var r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=OI(t),i=r.dc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!V_(e,n)}))),void r.dc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,WN(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),RP(r.remoteStore,i.targetId),uD(r,i.targetId)})).catch(dE);case 9:e.next=14;break;case 11:return uD(r,i.targetId),e.next=14,WN(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GO(e,t,n){return QO.apply(this,arguments)}function QO(){return(QO=$i(Gi().mark((function e(t,n,r){var i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=LD(t),e.prev=1,e.next=4,function(e,t){var n,r,i=OI(e),a=$I.now(),o=t.reduce((function(e,t){return e.add(t.key)}),iT());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=$_(),u=iT();return i.Xi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=_(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=NT(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new DT(c.key,l,$S(l.value.mapValue),ET.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:J_(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ic[e.currentUser.toKey()];r||(r=new cS(HI)),r=r.insert(t,n),e.Ic[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,dD(i,a.changes);case 9:return e.next=11,XP(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=yO(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function $O(e,t){return XO.apply(this,arguments)}function XO(){return(XO=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=OI(t),e.prev=1,e.next=4,BN(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.gc.get(t);n&&(PI(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.lc=!0:e.modifiedDocuments.size>0?PI(n.lc):e.removedDocuments.size>0&&(PI(n.lc),n.lc=!1))})),e.next=8,dD(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,dE(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function YO(e,t,n){var r=OI(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.dc.forEach((function(e,n){var r=n.view.ku(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=OI(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=_(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ku(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&CO(n)}(r.eventManager,t),i.length&&r.fc.eu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function JO(e,t,n){return ZO.apply(this,arguments)}function ZO(){return(ZO=$i(Gi().mark((function e(t,n,r){var i,a,o,s,u,c;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=OI(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.gc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new cS(tE.comparator)).insert(o,XS.newNoDocument(o,XI.min())),u=iT().add(o),c=new tA(XI.min(),new Map,new cS(HI),s,u),e.next=9,$O(i,c);case 9:i.mc=i.mc.remove(o),i.gc.delete(n),hD(i),e.next=16;break;case 14:return e.next=16,WN(i.localStore,n,!1).then((function(){return uD(i,n,r)})).catch(dE);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eD(e,t){return tD.apply(this,arguments)}function tD(){return(tD=$i(Gi().mark((function e(t,n){var r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=OI(t),i=n.batch.batchId,e.prev=1,e.next=4,UN(r.localStore,n);case 4:return a=e.sent,sD(r,i,null),oD(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,dD(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function nD(e,t,n){return rD.apply(this,arguments)}function rD(){return(rD=$i(Gi().mark((function e(t,n,r){var i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OI(t),e.prev=1,e.next=4,function(e,t){var n=OI(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return PI(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,sD(i,n,r),oD(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,dD(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function iD(e,t){return aD.apply(this,arguments)}function aD(){return(aD=$i(Gi().mark((function e(t,n){var r,i,a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return UP((r=OI(t)).remoteStore)||_I("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=OI(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Tc.get(i)||[]).push(n),r.Tc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=yO(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function oD(e,t){(e.Tc.get(t)||[]).forEach((function(e){e.resolve()})),e.Tc.delete(t)}function sD(e,t,n){var r=OI(e),i=r.Ic[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ic[r.currentUser.toKey()]=i}}function uD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=_(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.dc.delete(a),n&&e.fc.vc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.yc.ps(t).forEach((function(t){e.yc.containsKey(t)||cD(e,t)}))}function cD(e,t){e.wc.delete(t.path.canonicalString());var n=e.mc.get(t);null!==n&&(RP(e.remoteStore,n),e.mc=e.mc.remove(t),e.gc.delete(n),hD(e))}function lD(e,t,n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof LO?(e.yc.addReference(a.key,t),fD(e,a)):a instanceof jO?(_I("SyncEngine","Document no longer in limbo: "+a.key),e.yc.removeReference(a.key,t),e.yc.containsKey(a.key)||cD(e,a.key)):NI()}}catch(o){i.e(o)}finally{i.f()}}function fD(e,t){var n=t.key,r=n.path.canonicalString();e.mc.get(n)||e.wc.has(r)||(_I("SyncEngine","New document in limbo: "+n),e.wc.add(r),hD(e))}function hD(e){for(;e.wc.size>0&&e.mc.size<e.maxConcurrentLimboResolutions;){var t=e.wc.values().next().value;e.wc.delete(t);var n=new tE(JI.fromString(t)),r=e.Ec.next();e.gc.set(r,new UO(n)),e.mc=e.mc.insert(n,r),DP(e.remoteStore,new KA(M_(P_(n.path)),r,"TargetPurposeLimboResolution",TE.ct))}}function dD(e,t,n){return pD.apply(this,arguments)}function pD(){return pD=$i(Gi().mark((function e(t,n,r){var i,a,o,s;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=OI(t),a=[],o=[],s=[],e.t0=i.dc.isEmpty(),e.t0){e.next=9;break}return i.dc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=DN.Bi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.fc.eu(a),e.next=9,function(){var e=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=OI(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return vE.forEach(n,(function(t){return vE.forEach(t.$i,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return vE.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),bE(e.t0)){e.next=10;break}throw e.t0;case 10:_I("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=_(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Hi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Hi=r.Hi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),pD.apply(this,arguments)}function vD(e,t){return mD.apply(this,arguments)}function mD(){return(mD=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=OI(t)).currentUser.isEqual(n)){e.next=11;break}return _I("SyncEngine","User change. New user:",n.toKey()),e.next=5,MN(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Tc.forEach((function(e){e.forEach((function(e){e.reject(new RI(DI.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Tc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,dD(r,i.tr);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yD(e,t){var n=OI(e),r=n.gc.get(t);if(r&&r.lc)return iT().add(r.key);var i=iT(),a=n._c.get(t);if(!a)return i;var o,s=_(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.dc.get(u);i=i.unionWith(c.view.ec)}}catch(l){s.e(l)}finally{s.f()}return i}function gD(e,t){return kD.apply(this,arguments)}function kD(){return(kD=$i(Gi().mark((function e(t,n){var r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=OI(t),e.next=3,GN(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ac(i),e.abrupt("return",(r.isPrimaryClient&&lD(r,n.targetId,a.uc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bD(e,t){return wD.apply(this,arguments)}function wD(){return(wD=$i(Gi().mark((function e(t,n){var r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=OI(t),e.abrupt("return",$N(r.localStore,n).then((function(e){return dD(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xD(e,t,n,r){return ID.apply(this,arguments)}function ID(){return(ID=$i(Gi().mark((function e(t,n,r,i){var a,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=OI(t),e.next=3,function(e,t){var n=OI(e),r=OI(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):vE.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,XP(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(sD(a,n,i||null),oD(a,n),function(e,t){OI(OI(e).mutationQueue).Dn(t)}(a.localStore,n)):NI();case 11:return e.next=13,dD(a,o);case 13:e.next=16;break;case 15:_I("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ED(e,t){return SD.apply(this,arguments)}function SD(){return(SD=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(RD(r=OI(t)),LD(r),!0!==n||!0===r.Ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,_D(r,i.toArray());case 5:return a=e.sent,r.Ac=!0,e.next=9,hO(r.remoteStore,!0);case 9:o=_(a);try{for(o.s();!(s=o.n()).done;)u=s.value,DP(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ac){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return uD(r,t),WN(r.localStore,t,!0)})),RP(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,_D(r,c);case 21:return function(e){var t=OI(e);t.gc.forEach((function(e,n){RP(t.remoteStore,n)})),t.yc.Is(),t.gc=new Map,t.mc=new cS(tE.comparator)}(r),r.Ac=!1,e.next=25,hO(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _D(e,t,n){return TD.apply(this,arguments)}function TD(){return(TD=$i(Gi().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=OI(t),a=[],o=[],s=_(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,KN(i.localStore,M_(f[0]));case 11:l=e.sent,h=_(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.dc.get(p),e.next=20,gD(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,QN(i.localStore,c);case 36:return y=e.sent,e.next=39,KN(i.localStore,y);case 39:return l=e.sent,e.next=42,qO(i,AD(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.fc.eu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function AD(e){return N_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function CD(e){var t=OI(e);return OI(OI(t.localStore).persistence).Mi()}function ND(e,t,n,r){return PD.apply(this,arguments)}function PD(){return(PD=$i(Gi().mark((function e(t,n,r,i){var a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=OI(t)).Ac){e.next=3;break}return e.abrupt("return",void _I("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,$N(a.localStore,K_(o[0]));case 10:return s=e.sent,u=tA.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,yS.EMPTY_BYTE_STRING),e.next=14,dD(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,WN(a.localStore,n,!0);case 17:return uD(a,n,i),e.abrupt("break",20);case 19:NI();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OD(e,t,n){return DD.apply(this,arguments)}function DD(){return(DD=$i(Gi().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=RD(t)).Ac){e.next=45;break}a=_(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return _I("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,QN(i.localStore,s);case 12:return u=e.sent,e.next=15,KN(i.localStore,u);case 15:return c=e.sent,e.next=18,qO(i,AD(u),c.targetId,!1,c.resumeToken);case 18:DP(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=_(r),e.prev=30,h=Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,WN(i.localStore,t,!1).then((function(){RP(i.remoteStore,t),uD(i,t)})).catch(dE);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function RD(e){var t=OI(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$O.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JO.bind(null,t),t.fc.eu=TO.bind(null,t.eventManager),t.fc.vc=AO.bind(null,t.eventManager),t}function LD(e){var t=OI(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nD.bind(null,t),t}function jD(e,t,n){var r=OI(e);(function(){var e=$i(Gi().mark((function e(t,n,r){var i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=OI(e),r=gA(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ls.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(RO(i)),a=new DO(i,t.localStore,n.serializer),e.next=15,n.Pc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ju(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Pc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,dD(t,u.Hu,void 0);case 31:return e.next=33,function(e,t){var n=OI(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ls.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Wu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(AI("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var MD=function(){function e(){h(this,e),this.synchronizeTabs=!1}return m(e,[{key:"initialize",value:function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=wP(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return jN(this.persistence,new RN,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new IN(SN.js,this.serializer)}},{key:"createSharedClientState",value:function(e){return new lP}},{key:"terminate",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),FD=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return m(n,[{key:"initialize",value:function(){var e=$i(Gi().mark((function e(t){var r=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,LD(this.bc.syncEngine);case 6:return e.next=8,XP(this.bc.remoteStore);case 8:return e.next=10,this.persistence.pi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return jN(this.persistence,new RN,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new ZC(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new _E(t,this.persistence);return new SE(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=ON(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?FC.withCacheSize(this.cacheSizeBytes):FC.DEFAULT;return new CN(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,kP(),bP(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new lP}}]),n}(MD),UD=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return m(n,[{key:"initialize",value:function(){var e=$i(Gi().mark((function e(t){var r,i=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof cP,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Qr:xD.bind(null,r),jr:ND.bind(null,r),zr:OD.bind(null,r),Mi:CD.bind(null,r),Gr:bD.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.pi(function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ED(i.bc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=kP();if(!cP.D(t))throw new RI(DI.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ON(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cP(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(FD),VD=function(){function e(){h(this,e)}return m(e,[{key:"initialize",value:function(){var e=$i(Gi().mark((function e(t,n){var r=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return YO(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vD.bind(null,this.syncEngine),e.next=12,hO(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new xO}},{key:"createDatastore",value:function(e){var t,n=wP(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new gP(t));return function(e,t,n,r){return new _P(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return YO(o.syncEngine,e,0)},a=hP.D()?new hP:new fP,new AP(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new VO(e,t,n,r,i,a);return o&&(s.Ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=OI(t),_I("RemoteStore","RemoteStore shutting down."),n.Au.add(5),e.next=5,PP(n);case 5:n.vu.shutdown(),n.Pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function BD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return $i(Gi().mark((function r(){var i;return Gi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return $i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var zD=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.Vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Vc(this.observer.error,e):TI("Uncaught Error in snapshot listener:",e.toString())}},{key:"Sc",value:function(){this.muted=!0}},{key:"Vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),qD=function(){function e(t,n){var r=this;h(this,e),this.Dc=t,this.serializer=n,this.metadata=new LI,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then((function(e){e&&e.Gu()?r.metadata.resolve(e.Ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Ku))))}),(function(e){return r.metadata.reject(e)}))}return m(e,[{key:"close",value:function(){return this.Dc.cancel()}},{key:"getMetadata",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pc",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.xc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){var e=$i(Gi().mark((function e(){var t,n,r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Nc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Cc.decode(t),r=Number(n),isNaN(r)&&this.kc("length string (".concat(n,") is not valid number")),e.next=9,this.Mc(r);case 9:return i=e.sent,e.abrupt("return",new PO(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Nc",value:function(){var e=$i(Gi().mark((function e(){var t,n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.$c();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.kc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mc",value:function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.$c();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.kc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Cc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kc",value:function(e){throw this.Dc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"$c",value:function(){var e=$i(Gi().mark((function e(){var t,n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Dc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),KD=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return m(e,[{key:"lookup",value:function(){var e=$i(Gi().mark((function e(t){var n,r=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new RI(DI.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=$i(Gi().mark((function e(t,n){var r,i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=OI(t),i=SA(r.serializer)+"/documents",a={documents:n.map((function(e){return wA(r.serializer,e)}))},e.next=5,r.Ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=CA(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());PI(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new UT(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=$i(Gi().mark((function e(){var t,n=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=tE.fromPath(t);n.mutations.push(new VT(r,n.precondition(r)))})),e.next=7,function(){var e=$i(Gi().mark((function e(t,n){var r,i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=OI(t),i=SA(r.serializer)+"/documents",a={writes:n.map((function(e){return NA(r.serializer,e)}))},e.next=3,r.po("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw NI();t=XI.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new RI(DI.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(XI.min())?ET.exists(!1):ET.updateTime(t):ET.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(XI.min()))throw new RI(DI.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ET.updateTime(t)}return ET.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),WD=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Fc=r.maxAttempts,this.Lo=new xP(this.asyncQueue,"transaction_retry")}return m(e,[{key:"run",value:function(){this.Fc-=1,this.Bc()}},{key:"Bc",value:function(){var e=this;this.Lo.xo($i(Gi().mark((function t(){var n,r;return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new KD(e.datastore),(r=e.Lc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.qc(t)}))}))})).catch((function(t){e.qc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Lc",value:function(e){try{var t=this.updateFunction(e);return!AE(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"qc",value:function(e){var t=this;this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Bc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Uc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!WT(t)}return!1}}]),e}(),HD=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xI.UNAUTHENTICATED,this.clientId=WI.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _I("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return _I("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return m(e,[{key:"getConfiguration",value:function(){var e=$i(Gi().mark((function e(){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new RI(DI.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new LI;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted($i(Gi().mark((function n(){var r;return Gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=yO(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function GD(e,t){return QD.apply(this,arguments)}function QD(){return QD=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),_I("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,MN(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),QD.apply(this,arguments)}function $D(e,t){return XD.apply(this,arguments)}function XD(){return(XD=$i(Gi().mark((function e(t,n){var r,i;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,JD(t);case 3:return r=e.sent,_I("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return lO(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return lO(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YD(e){return"FirebaseError"===e.name?e.code===DI.FAILED_PRECONDITION||e.code===DI.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function JD(e){return ZD.apply(this,arguments)}function ZD(){return(ZD=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return _I("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,GD(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),YD(n=e.t0)){e.next=13;break}throw n;case 13:return AI("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,GD(t,new MD);case 16:e.next=21;break;case 18:return _I("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,GD(t,new MD);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function eR(e){return tR.apply(this,arguments)}function tR(){return(tR=$i(Gi().mark((function e(t){return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return _I("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,$D(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return _I("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,$D(t,new VD);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nR(e){return JD(e).then((function(e){return e.persistence}))}function rR(e){return JD(e).then((function(e){return e.localStore}))}function iR(e){return eR(e).then((function(e){return e.remoteStore}))}function aR(e){return eR(e).then((function(e){return e.syncEngine}))}function oR(e){return eR(e).then((function(e){return e.datastore}))}function sR(e){return uR.apply(this,arguments)}function uR(){return(uR=$i(Gi().mark((function e(t){var n,r;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=BO.bind(null,n.syncEngine),r.onUnlisten=WO.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new LI;return e.asyncQueue.enqueueAndForget($i(Gi().mark((function i(){return Gi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new zD({next:function(a){t.enqueueAndForget((function(){return SO(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new RI(DI.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new RI(DI.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new NO(P_(n.path),a,{includeMetadataChanges:!0,Uu:!0});return IO(e,o)},i.next=3,sR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function lR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new LI;return e.asyncQueue.enqueueAndForget($i(Gi().mark((function i(){return Gi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new zD({next:function(n){t.enqueueAndForget((function(){return SO(e,o)})),n.fromCache&&"server"===r.source?i.reject(new RI(DI.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new NO(n,a,{includeMetadataChanges:!0,Uu:!0});return IO(e,o)},i.next=3,sR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var fR=new Map;function hR(e,t,n){if(!n)throw new RI(DI.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function dR(e,t,n,r){if(!0===t&&!0===r)throw new RI(DI.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function pR(e){if(!tE.isDocumentKey(e))throw new RI(DI.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function vR(e){if(tE.isDocumentKey(e))throw new RI(DI.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function mR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":NI()}function yR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new RI(DI.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=mR(e);throw new RI(DI.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function gR(e,t){if(t<=0)throw new RI(DI.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var kR=function(){function e(t){var n;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new RI(DI.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new RI(DI.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling||void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),bR=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kR({}),this._settingsFrozen=!1}return m(e,[{key:"app",get:function(){if(!this._app)throw new RI(DI.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new RI(DI.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kR(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new MI;switch(e.type){case"firstParty":return new BI(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new RI(DI.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=fR.get(e);t&&(_I("ComponentProvider","Removing Datastore"),fR.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function wR(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=yR(e,bR))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&AI("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=xI.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[bi(JSON.stringify({alg:"none",type:"JWT"})),bi(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new RI(DI.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new xI(u)}e._authCredentials=new FI(new jI(o,s))}}var xR=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ER(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),IR=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ER=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,P_(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new xR(this.firestore,null,new tE(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(IR);function SR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Hi(e),hR("collection","path",t),e instanceof bR){var a=JI.fromString.apply(JI,[t].concat(r));return vR(a),new ER(e,null,a)}if(!(e instanceof xR||e instanceof ER))throw new RI(DI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(JI.fromString.apply(JI,[t].concat(r)));return vR(o),new ER(e.firestore,null,o)}function _R(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Hi(e),1===arguments.length&&(t=WI.A()),hR("doc","path",t),e instanceof bR){var a=JI.fromString.apply(JI,[t].concat(r));return pR(a),new xR(e,null,new tE(a))}if(!(e instanceof xR||e instanceof ER))throw new RI(DI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(JI.fromString.apply(JI,[t].concat(r)));return pR(o),new xR(e.firestore,e instanceof ER?e.converter:null,new tE(o))}function TR(e,t){return e=Hi(e),t=Hi(t),(e instanceof xR||e instanceof ER)&&(t instanceof xR||t instanceof ER)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function AR(e,t){return e=Hi(e),t=Hi(t),e instanceof IR&&t instanceof IR&&e.firestore===t.firestore&&V_(e._query,t._query)&&e.converter===t.converter}var CR=function(){function e(){var t=this;h(this,e),this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new xP(this,"async_queue_retry"),this.Yc=function(){var e=bP();e&&_I("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Lo.ko()};var n=bP();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Yc)}return m(e,[{key:"isShuttingDown",get:function(){return this.Qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Xc(),this.Zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;var t=bP();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Xc(),this.Qc)return new Promise((function(){}));var n=new LI;return this.Zc((function(){return t.Qc&&t.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Gc.push(e),t.ta()}))}},{key:"ta",value:function(){var e=$i(Gi().mark((function e(){var t=this;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Gc.length){e.next=14;break}return e.prev=1,e.next=4,this.Gc[0]();case 4:this.Gc.shift(),this.Lo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),bE(e.t0)){e.next=12;break}throw e.t0;case 12:_I("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Gc.length>0&&this.Lo.xo((function(){return t.ta()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t=this,n=this.Kc.then((function(){return t.Wc=!0,e().catch((function(e){t.zc=e,t.Wc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw TI("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Wc=!1,e}))}));return this.Kc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);var i=mO.createAndSchedule(this,e,t,n,(function(e){return r.ea(e)}));return this.jc.push(i),i}},{key:"Xc",value:function(){this.zc&&NI()}},{key:"verifyOperationInProgress",value:function(){}},{key:"na",value:function(){var e=$i(Gi().mark((function e(){var t;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Kc,e.next=3,t;case 3:if(t!==this.Kc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sa",value:function(e){var t,n=_(this.jc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ia",value:function(e){var t=this;return this.na().then((function(){t.jc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=_(t.jc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.na()}))}},{key:"ra",value:function(e){this.Jc.push(e)}},{key:"ea",value:function(e){var t=this.jc.indexOf(e);this.jc.splice(t,1)}}]),e}();function NR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=_(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var PR=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new LI,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return m(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),OR=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new CR,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||RR(this),this._firestoreClient.terminate()}}]),n}(bR);function DR(e){return e._firestoreClient||RR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function RR(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new SS(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new HD(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function LR(e,t,n){var r=new LI;return e.asyncQueue.enqueue($i(Gi().mark((function i(){var a;return Gi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,GD(e,n);case 3:return i.next=5,$D(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),YD(a=i.t0)){i.next=13;break}throw a;case 13:AI("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function jR(e){return function(e){return e.asyncQueue.enqueue($i(Gi().mark((function t(){var n,r;return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nR(e);case 2:return n=t.sent,t.next=5,iR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=OI(e);return t.Au.delete(0),CP(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(DR(e=yR(e,OR)))}function MR(e){return function(e){return e.asyncQueue.enqueue($i(Gi().mark((function t(){var n,r;return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nR(e);case 2:return n=t.sent,t.next=5,iR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=OI(t)).Au.add(0),e.next=4,PP(n);case 4:n.Pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(DR(e=yR(e,OR)))}function FR(e,t){var n=DR(e=yR(e,OR)),r=new PR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new qD(e,t)}(function(e,t){if(e instanceof Uint8Array)return BD(e,t);if(e instanceof ArrayBuffer)return BD(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?$T().encode(e):e),t)}(n,wP(t));e.asyncQueue.enqueueAndForget($i(Gi().mark((function t(){return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=jD,t.next=3,aR(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function UR(e,t){return function(e,t){return e.asyncQueue.enqueue($i(Gi().mark((function n(){return Gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=OI(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ls.getNamedQuery(e,t)}))},n.next=3,rR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(DR(e=yR(e,OR)),t).then((function(t){return t?new IR(e,null,t.query):null}))}function VR(e){if(e._initialized||e._terminated)throw new RI(DI.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var BR=function(){function e(t){h(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(yS.fromBase64String(t))}catch(t){throw new RI(DI.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(yS.fromUint8Array(t))}}]),e}(),zR=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new RI(DI.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new eE(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var qR=m((function e(t){h(this,e),this._methodName=t})),KR=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new RI(DI.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new RI(DI.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return HI(this._lat,e._lat)||HI(this._long,e._long)}}]),e}(),WR=/^__.*__$/,HR=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new DT(e,this.data,this.fieldMask,t,this.fieldTransforms):new OT(e,this.data,t,this.fieldTransforms)}}]),e}(),GR=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return new DT(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function QR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw NI()}}var $R=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"ua",get:function(){return this.settings.ua}},{key:"ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"aa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.la(e),r}},{key:"fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.oa(),r}},{key:"da",value:function(e){return this.ca({path:void 0,ha:!0})}},{key:"_a",value:function(e){return vL(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"oa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.la(this.path.get(e))}},{key:"la",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(QR(this.ua)&&WR.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),XR=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||wP(t)}return m(e,[{key:"ga",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $R({ua:e,methodName:t,ma:n,path:eE.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function YR(e){var t=e._freezeSettings(),n=wP(e._databaseId);return new XR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function JR(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ga(a.merge||a.mergeFields?2:0,t,n,i);fL("Data must be an object, but it was:",o,r);var s,u,c=cL(r,o);if(a.merge)s=new vS(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=_(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=hL(t,l.value,n);if(!o.contains(d))throw new RI(DI.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));mL(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new vS(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new HR(new QS(c),s,u)}var ZR=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ua)throw 1===e.ua?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(qR);function eL(e,t,n){return new $R({ua:3,ma:t.settings.ma,methodName:e._methodName,ha:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var tL=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){return new xT(e.path,new pT)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(qR),nL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).ya=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=eL(this,e,!0),n=this.ya.map((function(e){return uL(e,t)})),r=new vT(n);return new xT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(qR),rL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).ya=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=eL(this,e,!0),n=this.ya.map((function(e){return uL(e,t)})),r=new yT(n);return new xT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(qR),iL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).pa=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=new kT(e.serializer,cT(e.serializer,this.pa));return new xT(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(qR);function aL(e,t,n,r){var i=e.ga(1,t,n);fL("Data must be an object, but it was:",i,r);var a=[],o=QS.empty();sS(r,(function(e,r){var s=pL(t,e,n);r=Hi(r);var u=i.fa(s);if(r instanceof ZR)a.push(s);else{var c=uL(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new vS(a);return new GR(o,s,i.fieldTransforms)}function oL(e,t,n,r,i,a){var o=e.ga(1,t,n),s=[hL(t,r,n)],u=[i];if(a.length%2!=0)throw new RI(DI.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(hL(t,a[c])),u.push(a[c+1]);for(var l=[],f=QS.empty(),h=s.length-1;h>=0;--h)if(!mL(l,s[h])){var d=s[h],p=u[h];p=Hi(p);var v=o.fa(d);if(p instanceof ZR)l.push(d);else{var m=uL(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new vS(l);return new GR(f,y,o.fieldTransforms)}function sL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return uL(n,e.ga(r?4:3,t))}function uL(e,t){if(lL(e=Hi(e)))return fL("Unsupported field value:",t,e),cL(e,t);if(e instanceof qR)return function(e,t){if(!QR(t.ua))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=_(e);try{for(a.s();!(n=a.n()).done;){var o=uL(n.value,t.da(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Hi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cT(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=$I.fromDate(e);return{timestampValue:vA(t.serializer,n)}}if(e instanceof $I){var r=new $I(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vA(t.serializer,r)}}if(e instanceof KR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof BR)return{bytesValue:mA(t.serializer,e._byteString)};if(e instanceof xR){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:kA(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(mR(e)))}(e,t)}function cL(e,t){var n={};return uS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sS(e,(function(e,r){var i=uL(r,t.aa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function lL(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $I||e instanceof KR||e instanceof BR||e instanceof xR||e instanceof qR)}function fL(e,t,n){if(!lL(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=mR(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function hL(e,t,n){if((t=Hi(t))instanceof zR)return t._internalPath;if("string"==typeof t)return pL(e,t);throw vL("Field path arguments must be of type string or ",e,!1,void 0,n)}var dL=new RegExp("[~\\*/\\[\\]]");function pL(e,t,n){if(t.search(dL)>=0)throw vL("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(zR,f(t.split(".")))._internalPath}catch(r){throw vL("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function vL(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new RI(DI.INVALID_ARGUMENT,s+e+u)}function mL(e,t){return e.some((function(e){return e.isEqual(t)}))}var yL=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new xR(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new gL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(kL("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),gL=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return Eo(k(n.prototype),"data",this).call(this)}}]),n}(yL);function kL(e,t){return"string"==typeof t?pL(e,t):t instanceof zR?t._internalPath:t._delegate._internalPath}function bL(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new RI(DI.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wL=m((function e(){h(this,e)})),xL=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(wL);function IL(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof wL&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof SL})).length,n=e.filter((function(e){return e instanceof EL})).length;if(t>1||t>0&&n>0)throw new RI(DI.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=_(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var EL=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return m(n,[{key:"_apply",value:function(e){var t=this._parse(e);return ML(e._query,t),new IR(e.firestore,e.converter,F_(e._query,t))}},{key:"_parse",value:function(e){var t=YR(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new RI(DI.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){jL(o,a);var u,c=[],l=_(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(LL(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=LL(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||jL(o,a),s=sL(n,"where",o,"in"===a||"not-in"===a);return r_.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(xL);var SL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return m(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:i_.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=_(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;ML(r,a),r=F_(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new IR(e.firestore,e.converter,F_(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(wL);var _L=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return m(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new RI(DI.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new RI(DI.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new e_(t,n);return function(e,t){if(null===D_(e)){var n=R_(e);null!==n&&FL(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new IR(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new C_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(xL);var TL=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return m(n,[{key:"_apply",value:function(e){return new IR(e.firestore,e.converter,U_(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(xL);var AL=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=RL(e,this.type,this._docOrFields,this._inclusive);return new IR(e.firestore,e.converter,function(e,t){return new C_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(xL);function CL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AL._create("startAt",t,!0)}function NL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AL._create("startAfter",t,!1)}var PL=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=RL(e,this.type,this._docOrFields,this._inclusive);return new IR(e.firestore,e.converter,function(e,t){return new C_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(xL);function OL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return PL._create("endBefore",t,!1)}function DL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return PL._create("endAt",t,!0)}function RL(e,t,n,r){if(n[0]=Hi(n[0]),n[0]instanceof yL)return function(e,t,n,r,i){if(!r)throw new RI(DI.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=_(j_(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(jS(t,r.key));else{var c=r.data.field(u.field);if(xS(c))throw new RI(DI.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new RI(DI.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new YS(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=YR(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new RI(DI.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new RI(DI.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!L_(e)&&-1!==c.indexOf("/"))throw new RI(DI.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(JI.fromString(c));if(!tE.isDocumentKey(l))throw new RI(DI.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new tE(l);s.push(jS(t,f))}else{var h=sL(n,r,c);s.push(h)}}return new YS(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function LL(e,t,n){if("string"==typeof(n=Hi(n))){if(""===n)throw new RI(DI.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L_(t)&&-1!==n.indexOf("/"))throw new RI(DI.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(JI.fromString(n));if(!tE.isDocumentKey(r))throw new RI(DI.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return jS(e,new tE(r))}if(n instanceof xR)return jS(e,n._key);throw new RI(DI.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(mR(n),"."))}function jL(e,t){if(!Array.isArray(e)||0===e.length)throw new RI(DI.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ML(e,t){if(t.isInequality()){var n=R_(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new RI(DI.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=D_(e);null!==i&&FL(e,r,i)}var a=function(e,t){var n,r=_(e);try{for(r.s();!(n=r.n()).done;){var i,a=_(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new RI(DI.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new RI(DI.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function FL(e,t,n){if(!n.isEqual(t))throw new RI(DI.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var UL=function(){function e(){h(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(CS(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bS(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wS(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw NI()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return sS(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new KR(bS(e.latitude),bS(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=IS(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ES(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=kS(e);return new $I(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=JI.fromString(e);PI(qA(n));var r=new _S(n.get(1),n.get(3)),i=new tE(n.popFirst(5));return r.isEqual(t)||TI("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function VL(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var BL=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new BR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xR(this.firestore,null,t)}}]),n}(UL);var zL=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),qL=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return m(n,[{key:"exists",value:function(){return Eo(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new KL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(kL("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(yL),KL=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Eo(k(n.prototype),"data",this).call(this,e)}}]),n}(qL),WL=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new zL(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new KL(n._firestore,n._userDataWriter,r.key,r,new zL(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new RI(DI.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new KL(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new KL(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:HL(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function HL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return NI()}}function GL(e,t){return e instanceof qL&&t instanceof qL?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof WL&&t instanceof WL&&e._firestore===t._firestore&&AR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var QL=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new BR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xR(this.firestore,null,t)}}]),n}(UL);function $L(e){e=yR(e,xR);var t=yR(e.firestore,OR),n=DR(t),r=new QL(t);return function(e,t){var n=new LI;return e.asyncQueue.enqueueAndForget($i(Gi().mark((function r(){return Gi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=$i(Gi().mark((function e(t,n,r){var i,a;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=OI(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new RI(DI.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=yO(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,rR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new qL(t,r,e._key,n,new zL(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function XL(e){e=yR(e,IR);var t=yR(e.firestore,OR),n=DR(t),r=new QL(t);return function(e,t){var n=new LI;return e.asyncQueue.enqueueAndForget($i(Gi().mark((function r(){return Gi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=$i(Gi().mark((function e(t,n,r){var i,a,o,s,u;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GN(t,n,!0);case 3:i=e.sent,a=new MO(n,i.sr),o=a.nc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=yO(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,rR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new WL(t,r,e,n)}))}function YL(e,t,n){e=yR(e,xR);var r=yR(e.firestore,OR),i=VL(e.converter,t,n);return tj(r,[JR(YR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ET.none())])}function JL(e,t,n){e=yR(e,xR);for(var r=yR(e.firestore,OR),i=YR(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return tj(r,[("string"==typeof(t=Hi(t))||t instanceof zR?oL(i,"updateDoc",e._key,t,n,o):aL(i,"updateDoc",e._key,t)).toMutation(e._key,ET.exists(!0))])}function ZL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Hi(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||NR(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(NR(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof xR)l=yR(e.firestore,OR),f=P_(e._key.path),c={next:function(t){n[u]&&n[u](nj(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=yR(e,IR);l=yR(p.firestore,OR),f=p._query;var v=new QL(l);c={next:function(e){n[u]&&n[u](new WL(l,v,p,e))},error:n[u+1],complete:n[u+2]},bL(e._query)}return function(e,t,n,r){var i=new zD(r),a=new NO(t,i,n);return e.asyncQueue.enqueueAndForget($i(Gi().mark((function t(){return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=IO,t.next=3,sR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Sc(),e.asyncQueue.enqueueAndForget($i(Gi().mark((function t(){return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=SO,t.next=3,sR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(DR(l),f,h,c)}function ej(e,t){return function(e,t){var n=new zD(t);return e.asyncQueue.enqueueAndForget($i(Gi().mark((function t(){return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){OI(e).Nu.add(t),t.next()},t.next=3,sR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Sc(),e.asyncQueue.enqueueAndForget($i(Gi().mark((function t(){return Gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){OI(e).Nu.delete(t)},t.next=3,sR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(DR(e=yR(e,OR)),NR(t)?t:{next:t})}function tj(e,t){return function(e,t){var n=new LI;return e.asyncQueue.enqueueAndForget($i(Gi().mark((function r(){return Gi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=GO,r.next=3,aR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(DR(e),t)}function nj(e,t,n){var r=n.docs.get(t._key),i=new QL(e);return new qL(e,i,t._key,r,new zL(n.hasPendingWrites,n.fromCache),t.converter)}var rj={maxAttempts:5},ij=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=YR(t)}return m(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=aj(e,this._firestore),i=VL(r.converter,t,n),a=JR(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ET.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=aj(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Hi(t))||t instanceof zR?oL(this._dataReader,"WriteBatch.update",i._key,t,n,o):aL(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ET.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=aj(e,this._firestore);return this._mutations=this._mutations.concat(new UT(t._key,ET.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new RI(DI.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function aj(e,t){if((e=Hi(e)).firestore!==t)throw new RI(DI.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var oj=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return m(n,[{key:"get",value:function(e){var t=this,r=aj(e,this._firestore),i=new QL(this._firestore);return Eo(k(n.prototype),"get",this).call(this,e).then((function(e){return new qL(t._firestore,i,r._key,e._document,new zL(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=YR(t)}return m(e,[{key:"get",value:function(e){var t=this,n=aj(e,this._firestore),r=new BL(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return NI();var i=e[0];if(i.isFoundDocument())return new yL(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new yL(t._firestore,r,n._key,null,n.converter);throw NI()}))}},{key:"set",value:function(e,t,n){var r=aj(e,this._firestore),i=VL(r.converter,t,n),a=JR(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=aj(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Hi(t))||t instanceof zR?oL(this._dataReader,"Transaction.update",i._key,t,n,o):aL(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=aj(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function sj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nL("arrayUnion",t)}function uj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rL("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){II=e}(Ka),Ma(new Xi("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new OR(new UI(e.getProvider("auth-internal")),new qI(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new RI(DI.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _S(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Xa(wI,"3.11.0",e),Xa(wI,"3.11.0","esm2017")}();function cj(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new RI("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function lj(){if("undefined"===typeof Uint8Array)throw new RI("unimplemented","Uint8Arrays are not available in this environment.")}function fj(){if("undefined"==typeof atob)throw new RI("unimplemented","Blobs are unavailable in Firestore in this environment.")}var hj=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"toBase64",value:function(){return fj(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return lj(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return fj(),new e(BR.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return lj(),new e(BR.fromUint8Array(t))}}]),e}();function dj(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=_(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var pj=function(){function e(){h(this,e)}return m(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){VR(e=yR(e,OR));var n=DR(e);if(n._uninitializedComponentsProvider)throw new RI(DI.FAILED_PRECONDITION,"SDK cache is already specified.");AI("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new VD;return LR(n,i,new FD(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){VR(e=yR(e,OR));var t=DR(e);if(t._uninitializedComponentsProvider)throw new RI(DI.FAILED_PRECONDITION,"SDK cache is already specified.");AI("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new VD;return LR(t,r,new UD(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new RI(DI.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new LI;return e._queue.enqueueAndForgetEvenWhileRestricted($i(Gi().mark((function n(){return Gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=$i(Gi().mark((function e(t){var n;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yE.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,yE.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ON(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),vj=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof _S||(this._appCompat=t)}return m(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||AI("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wR(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return jR(this._delegate)}},{key:"disableNetwork",value:function(){return MR(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&dR("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new LI;return e.asyncQueue.enqueueAndForget($i(Gi().mark((function n(){return Gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=iD,n.next=3,aR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(DR(yR(this._delegate,OR)))}},{key:"onSnapshotsInSync",value:function(e){return ej(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new RI("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Cj(this,SR(this._delegate,e))}catch(RF){throw wj(RF,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new bj(this,_R(this._delegate,e))}catch(RF){throw wj(RF,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new _j(this,function(e,t){if(e=yR(e,bR),hR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new RI(DI.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new IR(e,null,function(e){return new C_(JI.emptyPath(),e)}(t))}(this._delegate,e))}catch(RF){throw wj(RF,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=yR(e,OR);var r=Object.assign(Object.assign({},rj),n);return function(e){if(e.maxAttempts<1)throw new RI(DI.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new LI;return e.asyncQueue.enqueueAndForget($i(Gi().mark((function i(){var a;return Gi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,oR(e);case 2:a=i.sent,new WD(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(DR(e),(function(n){return t(new oj(e,n))}),r)}(this._delegate,(function(n){return e(new yj(t,n))}))}},{key:"batch",value:function(){var e=this;return DR(this._delegate),new gj(new ij(this._delegate,(function(t){return tj(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return FR(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return UR(this._delegate,e).then((function(e){return e?new _j(t,e):null}))}}]),e}(),mj=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new hj(new BR(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return bj.forKey(t,this.firestore,null)}}]),n}(UL);var yj=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new mj(t)}return m(e,[{key:"get",value:function(e){var t=this,n=Nj(e);return this._delegate.get(n).then((function(e){return new Ej(t._firestore,new qL(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Nj(e);return n?(cj("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Nj(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Nj(e);return this._delegate.delete(t),this}}]),e}(),gj=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"set",value:function(e,t,n){var r=Nj(e);return n?(cj("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Nj(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Nj(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),kj=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return m(e,[{key:"fromFirestore",value:function(e,t){var n=new KL(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sj(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new mj(t),n),i.set(n,a)),a}}]),e}();kj.INSTANCES=new WeakMap;var bj=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new mj(t)}return m(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Cj(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Cj(this.firestore,SR(this._delegate,e))}catch(RF){throw wj(RF,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Hi(e))instanceof xR&&TR(this._delegate,e)}},{key:"set",value:function(e,t){t=cj("DocumentReference.set",t);try{return t?YL(this._delegate,e,t):YL(this._delegate,e)}catch(RF){throw wj(RF,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?JL(this._delegate,e):JL.apply(void 0,[this._delegate,e,t].concat(r))}catch(RF){throw wj(RF,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return tj(yR((e=this._delegate).firestore,OR),[new UT(e._key,ET.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xj(n),a=Ij(n,(function(t){return new Ej(e.firestore,new qL(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ZL(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?$L(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yR(e,xR);var t=yR(e.firestore,OR);return cR(DR(t),e._key,{source:"server"}).then((function(n){return nj(t,e,n)}))}(this._delegate):function(e){e=yR(e,xR);var t=yR(e.firestore,OR);return cR(DR(t),e._key).then((function(n){return nj(t,e,n)}))}(this._delegate)).then((function(e){return new Ej(t.firestore,new qL(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(kj.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new RI("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new xR(n._delegate,r,new tE(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new xR(n._delegate,r,t))}}]),e}();function wj(e,t,n){return e.message=e.message.replace(t,n),e}function xj(e){var t,n=_(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!dj(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Ij(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=dj(e[0])?e[0]:dj(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ej=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"ref",get:function(){return new bj(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return GL(this._delegate,e._delegate)}}]),e}(),Sj=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||NI(),t}}]),n}(Ej),_j=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new mj(t)}return m(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,IL(this._delegate,function(e,t,n){var r=t,i=kL("where",e);return EL._create(i,r,n)}(t,n,r)))}catch(RF){throw wj(RF,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,IL(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=kL("orderBy",e);return _L._create(n,t)}(t,n)))}catch(RF){throw wj(RF,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,IL(this._delegate,(gR("limit",n=t),TL._create("limit",n,"F"))))}catch(RF){throw wj(RF,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,IL(this._delegate,(gR("limitToLast",n=t),TL._create("limitToLast",n,"L"))))}catch(RF){throw wj(RF,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,IL(this._delegate,CL.apply(void 0,arguments)))}catch(RF){throw wj(RF,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,IL(this._delegate,NL.apply(void 0,arguments)))}catch(RF){throw wj(RF,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,IL(this._delegate,OL.apply(void 0,arguments)))}catch(RF){throw wj(RF,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,IL(this._delegate,DL.apply(void 0,arguments)))}catch(RF){throw wj(RF,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return AR(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?XL(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yR(e,IR);var t=yR(e.firestore,OR),n=DR(t),r=new QL(t);return lR(n,e._query,{source:"server"}).then((function(n){return new WL(t,r,e,n)}))}(this._delegate):function(e){e=yR(e,IR);var t=yR(e.firestore,OR),n=DR(t),r=new QL(t);return bL(e._query),lR(n,e._query).then((function(n){return new WL(t,r,e,n)}))}(this._delegate)).then((function(e){return new Aj(t.firestore,new WL(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xj(n),a=Ij(n,(function(t){return new Aj(e.firestore,new WL(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ZL(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(kj.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Tj=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Sj(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Aj=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"query",get:function(){return new _j(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Sj(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Tj(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Sj(n._firestore,r))}))}},{key:"isEqual",value:function(e){return GL(this._delegate,e._delegate)}}]),e}(),Cj=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return m(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new bj(this.firestore,e):null}},{key:"doc",value:function(e){try{return new bj(this.firestore,void 0===e?_R(this._delegate):_R(this._delegate,e))}catch(RF){throw wj(RF,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=yR(e.firestore,OR),r=_R(e),i=VL(e.converter,t);return tj(n,[JR(YR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ET.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new bj(t.firestore,e)}))}},{key:"isEqual",value:function(e){return TR(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(kj.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(_j);function Nj(e){return yR(e,xR)}var Pj=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(zR,n)}return m(e,[{key:"isEqual",value:function(e){return(e=Hi(e))instanceof zR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(eE.keyField().canonicalString())}}]),e}(),Oj=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new tL("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new ZR("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=sj.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=uj.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new iL("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Dj={Firestore:vj,GeoPoint:KR,Timestamp:$I,Blob:hj,Transaction:yj,WriteBatch:gj,DocumentReference:bj,DocumentSnapshot:Ej,Query:_j,QueryDocumentSnapshot:Sj,QuerySnapshot:Aj,CollectionReference:Cj,FieldPath:Pj,FieldValue:Oj,setLogLevel:function(e){var t;t=e,EI.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Xi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Dj)))}(e,(function(e,t){return new vj(e,t,new pj)})),e.registerVersion("@firebase/firestore-compat","0.3.8")}(Io);var Rj=JSON.parse('[{"username":"Eric Tlaseca","password":"Cisc275"},{"username":"Shay Patel","password":"Cisc275"},{"username":"Arjun Manikyath","password":"Cisc275"},{"username":"Josh Taing","password":"Cisc275"},{"username":"Stephen Wiafe","password":"Cisc275"},{"username":"Thomas Pelosi","password":"Cisc275"}]');var Lj=function(){var e=Se(),t=c((0,r.useState)(""),2),n=t[0],i=t[1],a=c((0,r.useState)(""),2),o=a[0],s=a[1];Io.initializeApp({apiKey:"AIzaSyDuuO3Qvj_guTliM6iPgV3_5dF0OWOLi-0",authDomain:"proj-15d75.firebaseapp.com",projectId:"proj-15d75",storageBucket:"proj-15d75.appspot.com",messagingSenderId:"1096734466692",appId:"1:1096734466692:web:c7cbf5f3fd67c3bf7c58d1",measurementId:"G-WWLTRVX79F"});var u=Io.auth(),l=new Io.auth.GoogleAuthProvider,f=c((0,r.useState)(""),2),h=f[0],d=f[1],p=c((0,r.useState)(""),2),v=p[0],m=p[1];return(0,ot.jsxs)("div",{className:"login",children:[(0,ot.jsx)("div",{className:"login",children:(0,ot.jsx)("img",{src:mi})}),(0,ot.jsxs)("div",{className:"login-info",children:[(0,ot.jsxs)("h2",{className:"header",children:["Welcome to Ekin ",n]}),(0,ot.jsx)("div",{className:"forms",children:(0,ot.jsxs)(vi.Group,{controlId:"formBasicEmail",children:[(0,ot.jsx)(vi.Control,{className:"forms",type:"text",placeholder:"Email or Username",value:h,onChange:function(e){return d(e.target.value)}}),(0,ot.jsx)(vi.Control,{type:"password",placeholder:"Password",value:v,onChange:function(e){return m(e.target.value)}})]})}),(0,ot.jsxs)("div",{className:"middle-buttons",children:[(0,ot.jsx)("div",{children:(0,ot.jsx)(gt,{className:"button",onClick:function(){Rj.find((function(e){return e.username===h&&e.password===v}))?e("/landing"):alert("Invalid username or password")},children:"LOGIN NOW"})}),(0,ot.jsx)("h6",{children:"Forgot your password?"}),(0,ot.jsx)("div",{children:(0,ot.jsx)(gt,{onClick:function(){u.signInWithPopup(l);var e=Io.auth().currentUser;null!=(null===e||void 0===e?void 0:e.displayName)&&i(e.displayName),null!=(null===e||void 0===e?void 0:e.photoURL)&&s(e.photoURL),console.log(e)},children:"Sign in with Google"})})]}),(0,ot.jsxs)("div",{className:"last-buttons",children:[(0,ot.jsx)(gt,{children:"Make account"}),(0,ot.jsx)(gt,{children:"Log in as Admin"})]})]}),(0,ot.jsx)("h2",{children:(0,ot.jsx)("img",{src:o,alt:""})})]})};var jj=function(){var e=c((0,r.useState)(0),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){return n(Math.floor(100*Math.random()))}),[]),(0,ot.jsx)("img",{src:"https://avatars.dicebear.com/api/human/".concat(t,".svg")})};var Mj=function(){return(0,ot.jsxs)("div",{className:"App",children:[(0,ot.jsx)("div",{className:"profile",children:(0,ot.jsx)(jj,{})}),(0,ot.jsx)("div",{className:"forms",children:(0,ot.jsxs)(vi.Group,{children:[(0,ot.jsx)(vi.Control,{className:"forms",type:"email",placeholder:"Please Enter Email"}),(0,ot.jsx)(vi.Control,{className:"forms",type:"email",placeholder:"Name"}),(0,ot.jsx)(vi.Control,{className:"forms",type:"email",placeholder:"Qualities"}),(0,ot.jsx)(vi.Control,{className:"forms",type:"email",placeholder:"Age"})]})}),(0,ot.jsx)(gt,{className:"button",children:"UPDATE onClick"})]})};function Fj(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Uj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vj=r.createContext&&r.createContext(Uj),Bj=function(){return Bj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Bj.apply(this,arguments)},zj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function qj(e){return e&&e.map((function(e,t){return r.createElement(e.tag,Bj({key:t},e.attr),qj(e.child))}))}function Kj(e){return function(t){return r.createElement(Wj,Bj({attr:Bj({},e.attr)},t),qj(e.child))}}function Wj(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=zj(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Bj({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:Bj(Bj({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==Vj?r.createElement(Vj.Consumer,null,(function(e){return t(e)})):t(Uj)}var Hj=n(441),Gj=n(613),Qj=n.n(Gj);var $j=function(e){function t(e,r,u,c,h){for(var d,p,v,m,b,x=0,I=0,E=0,S=0,_=0,O=0,R=v=d=0,j=0,M=0,F=0,U=0,V=u.length,B=V-1,z="",q="",K="",W="";j<V;){if(p=u.charCodeAt(j),j===B&&0!==I+S+E+x&&(0!==I&&(p=47===I?10:47),S=E=x=0,V++,B++),0===I+S+E+x){if(j===B&&(0<M&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(j)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++j;j<V;){switch(p=u.charCodeAt(j)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(j+1)){case 42:case 47:e:{for(R=j+1;R<B;++R)switch(u.charCodeAt(R)){case 47:if(42===p&&42===u.charCodeAt(R-1)&&j+2!==R){j=R+1;break e}break;case 10:if(47===p){j=R+1;break e}}j=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;j++<B&&u.charCodeAt(j)!==p;);}if(0===v)break;j++}if(v=u.substring(U,j),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<M&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:M=r;break;default:M=P}if(U=(v=t(r,M,v,p,h+1)).length,0<D&&(b=s(3,v,M=n(P,z,F),r,A,T,U,p,h,c),z=M.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,F),v,c,h+1);K+=v,v=F=M=R=d=0,z="",p=u.charCodeAt(++j);break;case 125:case 59:if(1<(U=(z=(0<M?z.replace(f,""):z).trim()).length))switch(0===R&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<D&&void 0!==(b=s(1,z,r,e,A,T,q.length,c,h,c))&&0===(U=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=z+u.charAt(j);break}default:58!==z.charCodeAt(U-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}F=M=R=d=0,z="",p=u.charCodeAt(++j)}}switch(p){case 13:case 10:47===I?I=0:0===1+d&&107!==c&&0<z.length&&(M=1,z+="\0"),0<D*L&&s(0,z,r,e,A,T,q.length,c,h,c),T=1,A++;break;case 59:case 125:if(0===I+S+E+x){T++;break}default:switch(T++,m=u.charAt(j),p){case 9:case 32:if(0===S+x+I)switch(_){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+I+x&&(M=F=1,m="\f"+m);break;case 108:if(0===S+I+x+C&&0<R)switch(j-R){case 2:112===_&&58===u.charCodeAt(j-3)&&(C=_);case 8:111===O&&(C=O)}break;case 58:0===S+I+x&&(R=j);break;case 44:0===I+E+S+x&&(M=1,m+="\r");break;case 34:case 39:0===I&&(S=S===p?0:0===S?p:S);break;case 91:0===S+I+E&&x++;break;case 93:0===S+I+E&&x--;break;case 41:0===S+I+x&&E--;break;case 40:if(0===S+I+x){if(0===d)if(2*_+3*O===533);else d=1;E++}break;case 64:0===I+E+S+x+R+v&&(v=1);break;case 42:case 47:if(!(0<S+x+E))switch(I){case 0:switch(2*p+3*u.charCodeAt(j+1)){case 235:I=47;break;case 220:U=j,I=42}break;case 42:47===p&&42===_&&U+2!==j&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,j+1)),m="",I=0)}}0===I&&(z+=m)}O=_,_=p,j++}if(0<(U=q.length)){if(M=r,0<D&&(void 0!==(b=s(2,q,M,e,A,T,U,c,h,c))&&0===(q=b).length))return W+q+K;if(q=M.join(",")+"{"+q+"}",0!==N*C){switch(2!==N||a(q,2)||(C=0),C){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}C=0}}return W+q+K}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===N||2===N&&a(u,1)?"-webkit-"+u+u:u}if(0===N||2===N&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(_,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(b,"tb");break;case 232:u=o.replace(b,"tb-rl");break;case 220:u=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(I,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(I,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<D;++h)switch(f=O[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?N=1:(N=2,R=e):N=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=s(-1,n,r,r,A,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<D&&(void 0!==(i=s(-2,a,r,r,A,T,a.length,0,0,0))&&(a=i)),"",C=0,T=A=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,I=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,T=1,A=1,C=0,N=1,P=[],O=[],D=0,R=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:D=O.length=0;break;default:if("function"===typeof t)O[D++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},Xj={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Yj=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Jj=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Zj=Yj((function(e){return Jj.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),eM=n(110),tM=n.n(eM);function nM(){return(nM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var rM=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},iM=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Hj.typeOf)(e)},aM=Object.freeze([]),oM=Object.freeze({});function sM(e){return"function"==typeof e}function uM(e){return e.displayName||e.name||"Component"}function cM(e){return e&&"string"==typeof e.styledComponentId}var lM="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",fM="undefined"!=typeof window&&"HTMLElement"in window,hM=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)));function dM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var pM=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&dM(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),vM=new Map,mM=new Map,yM=1,gM=function(e){if(vM.has(e))return vM.get(e);for(;mM.has(yM);)yM++;var t=yM++;return vM.set(e,t),mM.set(t,e),t},kM=function(e){return mM.get(e)},bM=function(e,t){t>=yM&&(yM=t+1),vM.set(e,t),mM.set(t,e)},wM="style["+lM+'][data-styled-version="5.3.9"]',xM=new RegExp("^"+lM+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),IM=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},EM=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(xM);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(bM(c,u),IM(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},SM=function(){return n.nc},_M=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(lM))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(lM,"active"),r.setAttribute("data-styled-version","5.3.9");var o=SM();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},TM=function(){function e(e){var t=this.element=_M(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}dM(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),AM=function(){function e(e){var t=this.element=_M(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),CM=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),NM=fM,PM={isServer:!fM,useCSSOMInjection:!hM},OM=function(){function e(e,t,n){void 0===e&&(e=oM),void 0===t&&(t={}),this.options=nM({},PM,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&fM&&NM&&(NM=!1,function(e){for(var t=document.querySelectorAll(wM),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(lM)&&(EM(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return gM(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(nM({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new CM(i):r?new TM(i):new AM(i),new pM(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(gM(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(gM(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(gM(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=kM(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=lM+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),DM=/(a)(d)/gi,RM=function(e){return String.fromCharCode(e+(e>25?39:97))};function LM(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=RM(t%52)+n;return(RM(t%52)+n).replace(DM,"$1-$2")}var jM=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},MM=function(e){return jM(5381,e)};function FM(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(sM(n)&&!cM(n))return!1}return!0}var UM=MM("5.3.9"),VM=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&FM(e),this.componentId=t,this.baseHash=jM(UM,t),this.baseStyle=n,OM.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=iF(this.rules,e,t,n).join(""),o=LM(jM(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=jM(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=iF(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=jM(c,p+f),l+=p}}if(l){var v=LM(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),BM=/^\s*\/\/.*$/gm,zM=[":","[",".","#"];function qM(e){var t,n,r,i,a=void 0===e?oM:e,o=a.options,s=void 0===o?oM:o,u=a.plugins,c=void 0===u?aM:u,l=new $j(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==zM.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(BM,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||dM(15),jM(e,t.name)}),5381).toString():"",p}var KM=r.createContext(),WM=(KM.Consumer,r.createContext()),HM=(WM.Consumer,new OM),GM=qM();function QM(){return(0,r.useContext)(KM)||HM}function $M(){return(0,r.useContext)(WM)||GM}function XM(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=QM(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,r.useMemo)((function(){return qM({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){Qj()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(KM.Provider,{value:o},r.createElement(WM.Provider,{value:s},e.children))}var YM=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=GM);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return dM(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=GM),this.name+e.hash},e}(),JM=/([A-Z])/,ZM=/([A-Z])/g,eF=/^ms-/,tF=function(e){return"-"+e.toLowerCase()};function nF(e){return JM.test(e)?e.replace(ZM,tF).replace(eF,"-ms-"):e}var rF=function(e){return null==e||!1===e||""===e};function iF(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=iF(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return rF(e)?"":cM(e)?"."+e.styledComponentId:sM(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:iF(e(t),t,n,r):e instanceof YM?n?(e.inject(n,r),e.getName(r)):e:iM(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!rF(t[o])&&(Array.isArray(t[o])&&t[o].isCss||sM(t[o])?a.push(nF(o)+":",t[o],";"):iM(t[o])?a.push.apply(a,e(t[o],o)):a.push(nF(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Xj?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var aF=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function oF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return sM(e)||iM(e)?aF(iF(rM(aM,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:aF(iF(rM(e,n)))}new Set;var sF=function(e,t,n){return void 0===n&&(n=oM),e.theme!==n.theme&&e.theme||t||n.theme},uF=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,cF=/(^-|-$)/g;function lF(e){return e.replace(uF,"-").replace(cF,"")}var fF=function(e){return LM(MM(e)>>>0)};function hF(e){return"string"==typeof e&&!0}var dF=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},pF=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function vF(e,t,n){var r=e[n];dF(t)&&dF(r)?mF(r,t):e[n]=t}function mF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(dF(o))for(var s in o)pF(s)&&vF(e,o[s],s)}return e}var yF=r.createContext();yF.Consumer;var gF={};function kF(e,t,n){var i=cM(e),a=!hF(e),o=t.attrs,s=void 0===o?aM:o,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":lF(e);gF[n]=(gF[n]||0)+1;var r=n+"-"+fF("5.3.9"+n+gF[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,f=void 0===l?function(e){return hF(e)?"styled."+e:"Styled("+uM(e)+")"}(e):l,h=t.displayName&&t.componentId?lF(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new VM(n,h,i?e.componentStyle:void 0),y=m.isStatic&&0===s.length,g=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=oM);var r=nM({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in sM(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(sF(t,(0,r.useContext)(yF),s)||oM,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=QM(),a=$M();return t?e.generateAndInjectStyles(oM,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=hF(y),k=p!==t?nM({},t,{},p):t,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,Zj,y):!g||Zj(w))&&(b[w]=k[w]));return t.style&&p.style!==t.style&&(b.style=nM({},t.style,{},p.style)),b.className=Array.prototype.concat(u,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,r.createElement)(y,b)}(v,e,t,y)};return g.displayName=f,(v=r.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):aM,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(hF(e)?e:lF(uM(e)));return kF(e,nM({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?mF({},e.defaultProps,t):t}}),Object.defineProperty(v,"toString",{value:function(){return"."+v.styledComponentId}}),a&&tM()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var bF=function(e){return function e(t,n,r){if(void 0===r&&(r=oM),!(0,Hj.isValidElementType)(n))return dM(1,String(n));var i=function(){return t(n,r,oF.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,nM({},r,{},i))},i.attrs=function(i){return e(t,n,nM({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(kF,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){bF[e]=bF(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=FM(e),OM.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(iF(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&OM.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=SM();return"<style "+[n&&'nonce="'+n+'"',lM+'="true"','data-styled-version="5.3.9"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?dM(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return dM(2);var n=((t={})[lM]="",t["data-styled-version"]="5.3.9",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=SM();return i&&(n.nonce=i),[r.createElement("style",nM({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new OM({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?dM(2):r.createElement(XM,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return dM(3)}}();var wF,xF,IF,EF,SF=bF,_F=SF.nav(wF||(wF=Fj(["\n    background: #add8e6;\n    height: 85px;\n    display: flex;\n    justify-content: space-between;\n    padding: 0.2rem calc((100vw - 1000px) / 2);\n    z-index: 12;\n"]))),TF=SF($e)(xF||(xF=Fj(["\n    color: #808080;\n    display: flex;\n    align-items: center;\n    text-decoration: none;\n    padding: 0 1rem;\n    height: 100%;\n    cursor: pointer;\n    &.active {\n        color: #4d4dff;\n    }\n"]))),AF=(SF((function(e){return Kj({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}))(IF||(IF=Fj(["\n    display: none;\n    color: #808080;\n    @media screen and (max-width: 768px) {\n        display: block;\n        position: absolute;\n        top: 0;\n        right: 0;\n        transform: translate(-100%, 75%);\n        font-size: 1.8rem;\n        cursor: pointer;\n    }\n"]))),SF.div(EF||(EF=Fj(["\n    display: flex;\n    align-items: center;\n    margin-right: -24px;\n    /* Second Nav */\n    /* margin-right: 24px; */\n    /* Third Nav */\n    /* width: 100vw;\nwhite-space: nowrap; */\n    @media screen and (max-width: 768px) {\n        display: none;\n    }\n"])))),CF=function(){return(0,ot.jsx)(ot.Fragment,{children:(0,ot.jsxs)(_F,{children:[(0,ot.jsx)(jj,{}),(0,ot.jsxs)(AF,{children:[(0,ot.jsx)(TF,{to:"/Login",children:"Login"}),(0,ot.jsx)(TF,{to:"/Landing",children:"Landing"}),(0,ot.jsx)(TF,{to:"/Makeaccount",children:"Account"}),(0,ot.jsx)(TF,{to:"/Checkout",children:"Checkout"}),(0,ot.jsx)(TF,{to:"/Admin",children:"Admin"}),(0,ot.jsx)(TF,{to:"/Admininventory",children:"Admin inventory"})]})]})})},NF=n.p+"static/media/messi.b40cf5032a7263e37cab.jpeg";var PF=function(){var e=Se(),t=c((0,r.useState)(""),2),n=t[0],i=t[1],a=c((0,r.useState)(""),2),o=a[0],s=a[1];return(0,ot.jsxs)("div",{className:"login",children:[(0,ot.jsx)("div",{className:"Messi",children:(0,ot.jsx)("img",{src:NF,alt:"Messi"})}),(0,ot.jsxs)("div",{className:"login-info",children:[(0,ot.jsx)("h2",{className:"header",children:"Welcome to Ekin"}),(0,ot.jsx)("h5",{className:"sign-in",children:"ADMIN Sign in"}),(0,ot.jsx)("div",{className:"forms",children:(0,ot.jsxs)(vi.Group,{controlId:"formBasicEmail",children:[(0,ot.jsx)(vi.Control,{className:"forms",type:"text",placeholder:"Email or Username",value:n,onChange:function(e){return i(e.target.value)}}),(0,ot.jsx)(vi.Control,{type:"password",placeholder:"Password",value:o,onChange:function(e){return s(e.target.value)}})]})}),(0,ot.jsxs)("div",{className:"middle-buttons",children:[(0,ot.jsx)("div",{children:(0,ot.jsx)(gt,{className:"button",onClick:function(){Rj.find((function(e){return e.username===n&&e.password===o}))?e("/admininventory"):alert("Invalid username or password")},children:"LOGIN NOW"})}),(0,ot.jsx)("h6",{children:"Forgot your password?"})]})]})]})};var OF=function(){return(0,ot.jsx)("div",{className:"App",children:(0,ot.jsxs)(We,{children:[(0,ot.jsx)(CF,{}),(0,ot.jsxs)(Fe,{children:[(0,ot.jsx)(je,{path:"/login",element:(0,ot.jsx)(Lj,{})}),(0,ot.jsx)(je,{path:"/Landing",element:(0,ot.jsx)(wr,{})}),(0,ot.jsx)(je,{path:"/Makeaccount",element:(0,ot.jsx)(Mj,{})}),(0,ot.jsx)(je,{path:"/Checkout",element:(0,ot.jsx)(bt,{})}),(0,ot.jsx)(je,{path:"/Admin",element:(0,ot.jsx)(PF,{})}),(0,ot.jsx)(je,{path:"/Admininventory",element:(0,ot.jsx)(kt,{})})]})]})})},DF=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.render((0,ot.jsx)(r.StrictMode,{children:(0,ot.jsx)(OF,{})}),document.getElementById("root")),DF()}()}();
//# sourceMappingURL=main.52c9501d.js.map