/*! For license information please see main.4184eb57.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in a=Object(arguments[s]))n.call(a,c)&&(u[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)r.call(a,o[l])&&(u[o[l]]=a[o[l]])}}return u}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,I=60107,S=60108,E=60114,T=60109,C=60110,N=60112,A=60113,P=60120,D=60115,O=60116,R=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),E=U("react.profiler"),T=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),P=U("react.suspense_list"),D=U("react.memo"),O=U("react.lazy"),R=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return G(e.type);case R:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,me=(ve=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach((function(e){ke.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Te=null,Ce=null;function Ne(e){if(e=ni(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),Ee(e.stateNode,e.type,t))}}function Ae(e){Te?Ce?Ce.push(e):Ce=[e]:Te=e}function Pe(){if(Te){var e=Te,t=Ce;if(Ce=Te=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function De(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Le=De,Me=!1,je=!1;function Fe(){null===Te&&null===Ce||(Re(),Pe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ve){Ve=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var qe=!1,Ke=null,We=!1,He=null,Ge={onError:function(e){qe=!0,Ke=e}};function Qe(e,t,n,r,i,a,o,u,s){qe=!1,Ke=null,ze.apply(Ge,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,at=[],ot=null,ut=null,st=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=dt(t,n,r,i,a),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ti(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){yt(e)&&n.delete(t)}function kt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ot&&yt(ot)&&(ot=null),null!==ut&&yt(ut)&&(ut=null),null!==st&&yt(st)&&(st=null),ct.forEach(gt),lt.forEach(gt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kt)))}function wt(e){function t(t){return bt(t,e)}if(0<at.length){bt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==ut&&bt(ut,e),null!==st&&bt(st,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},It={},St={};function Et(e){if(It[e])return It[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Tt=Et("animationend"),Ct=Et("animationiteration"),Nt=Et("animationstart"),At=Et("transitionend"),Pt=new Map,Dt=new Map,Ot=["abort","abort",Tt,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Mt(s),i=Lt):0!==(u&=a)&&(r=Mt(u),i=Lt)}else 0!==(a=n&~o)?(r=Mt(a),i=Lt):0!==u&&(r=Mt(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Ht=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Me||Re();var i=Jt,a=Me;Me=!0;try{Oe(i,e,t,n,r)}finally{(Me=a)||Fe()}}function Yt(e,t,n,r){Gt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),at.push(e);else{var a=Xt(e,t,n,r);if(null===a)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=vt(ot,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return st=vt(st,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,lt.set(a,vt(lt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Rr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Se(r);if(null!==(i=ti(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var sn,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(fn),dn=i({},fn,{view:0,detail:0}),pn=un(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=un(vn),yn=un(i({},vn,{dataTransfer:0})),gn=un(i({},dn,{relatedTarget:0})),kn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=un(bn),xn=un(i({},fn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return En}var Cn=i({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(Cn),An=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Dn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=un(On),Ln=[9,13,27,32],Mn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Fn=f&&"TextEvent"in window&&!jn,Un=f&&(!Mn||jn&&8<jn&&11>=jn),Vn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ae(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Yn(e){Cr(e,0)}function Jn(e){if(J(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),$n=Qn=null)}function ir(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Gn(t,$n,e,Se(e)),e=Yn,Me)e(t);else{Me=!0;try{De(e,t)}finally{Me=!1,Fe()}}}}function ar(e,t,n){"focusin"===e?(rr(),$n=n,(Qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function ur(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,gr=null,kr=null,br=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&fr(br,r)||(br=r,0<(r=Mr(kr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Ot,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<_r.length;Ir++)Dt.set(_r[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),qe){if(!qe)throw Error(o(198));var l=Ke;qe=!1,Ke=null,We||(We=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Tr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Tr(i,u,c),a=s}}}if(We)throw e=He,We=!1,He=null,e}function Nr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Or(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Ar]||(e[Ar]=!0,u.forEach((function(t){Er.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Er.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ai(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Or(a,e,i,t),o.add(u))}function Or(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ti(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{return Le(e,t,n)}finally{je=!1,Fe()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=gn;break;case"focusout":c="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Tt:case Ct:case Nt:s=kn;break;case At:s=Dn;break;case"scroll":s=pn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ri(s),d=null==c?u:ri(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ti(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==s&&Fr(o,u,s,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(s=(u=r?ri(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Hn(u))if(Zn)m=sr;else{m=or;var y=ar}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ur);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ri(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,kr=r,br=null);break;case"focusout":br=kr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Kn=!0)),0<(y=Mr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=qn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Mn&&zn(e,t)?(e=nn(),tn=en=Zt=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Cr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ue(n,a))&&o.unshift(Lr(n,s,u)):i||null!=(s=Ue(n,a))&&o.push(Lr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Vr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Xr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Jr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Xr]||null}function ai(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],ui=-1;function si(e){return{current:e}}function ci(e){0>ui||(e.current=oi[ui],oi[ui]=null,ui--)}function li(e,t){ui++,oi[ui]=e.current,e.current=t}var fi={},hi=si(fi),di=si(!1),pi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(di),ci(hi)}function gi(e,t,n){if(hi.current!==fi)throw Error(o(168));li(hi,t),li(di,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,pi=hi.current,li(hi,e),li(di,di.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ki(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(hi),li(hi,e)):ci(di),li(di,n)}var xi=null,_i=null,Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ei=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,Ci=a.unstable_requestPaint,Ni=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Oi=a.unstable_NormalPriority,Ri=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Mi={},ji=void 0!==Ci?Ci:function(){},Fi=null,Ui=null,Vi=!1,Bi=Ni(),zi=1e4>Bi?Ni:function(){return Ni()-Bi};function qi(){switch(Ai()){case Pi:return 99;case Di:return 98;case Oi:return 97;case Ri:return 96;case Li:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Pi;case 98:return Di;case 97:return Oi;case 96:return Ri;case 95:return Li;default:throw Error(o(332))}}function Wi(e,t){return e=Ki(e),Ii(e,t)}function Hi(e,t,n){return e=Ki(e),Si(e,t,n)}function Gi(){if(null!==Ui){var e=Ui;Ui=null,Ei(e)}Qi()}function Qi(){if(!Vi&&null!==Fi){Vi=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Si(Pi,Gi),n}finally{Vi=!1}}}var $i=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=si(null),Xi=null,Zi=null,ea=null;function ta(){ea=Zi=Xi=null}function na(e){var t=Ji.current;ci(Ji),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ia(e,t){Xi=e,ea=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function aa(e,t){if(ea!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ea=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Xi)throw Error(o(308));Zi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var oa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function sa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;oa=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:oa=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var pa=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),la(e,i),ps(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function ga(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=aa(a):(i=mi(t)?pi:hi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pa,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=aa(a):(a=mi(t)?pi:hi.current,i.context=vi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case _:return(t=Js(t,e.mode,n)).return=e,t}if(wa(t)||z(t))return(t=Qs(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(wa(n)||z(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=xa(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(wa(a))return v(e,r,a,s);if(z(a))return m(e,r,a,s);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Ia(!0),Ea=Ia(!1),Ta={},Ca=si(Ta),Na=si(Ta),Aa=si(Ta);function Pa(e){if(e===Ta)throw Error(o(174));return e}function Da(e,t){switch(li(Aa,t),li(Na,e),li(Ca,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Ca),li(Ca,t)}function Oa(){ci(Ca),ci(Na),ci(Aa)}function Ra(e){Pa(Aa.current);var t=Pa(Ca.current),n=de(t,e.type);t!==n&&(li(Na,e),li(Ca,n))}function La(e){Na.current===e&&(ci(Ca),ci(Na))}var Ma=si(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Ua=null,Va=!1;function Ba(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qa(e){if(Va){var t=Ua;if(t){var n=t;if(!za(e,t)){if(!(t=Gr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Va=!1,void(Fa=e);Ba(Fa,n)}Fa=e,Ua=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Va=!1,Fa=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Wa(e){if(e!==Fa)return!1;if(!Va)return Ka(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Ua;t;)Ba(e,t),t=Gr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Fa?Gr(e.stateNode.nextSibling):null;return!0}function Ha(){Ua=Fa=null,Va=!1}var Ga=[];function Qa(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var $a=w.ReactCurrentDispatcher,Ya=w.ReactCurrentBatchConfig,Ja=0,Xa=null,Za=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ao(e,t,n,r,i,a){if(Ja=a,Xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Do:Oo,e=n(r,i),no){a=0;do{if(no=!1,!(25>a))throw Error(o(301));a+=1,eo=Za=null,t.updateQueue=null,$a.current=Ro,e=n(r,i)}while(no)}if($a.current=Po,t=null!==Za&&null!==Za.next,Ja=0,eo=Za=Xa=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Xa.memoizedState=eo=e:eo=eo.next=e,eo}function uo(){if(null===Za){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=Za.next;var t=null===eo?Xa.memoizedState:eo.next;if(null!==t)eo=t,Za=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Za=e).memoizedState,baseState:Za.baseState,baseQueue:Za.baseQueue,queue:Za.queue,next:null},null===eo?Xa.memoizedState=eo=e:eo=eo.next=e}return eo}function so(e,t){return"function"===typeof t?t(e):t}function co(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Za,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Xa.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,cr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);cr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function ho(e,t,n,r){var i=Ou;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=$a.current,c=s.useState((function(){return fo(i,t,n)})),l=c[1],f=c[0];c=eo;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Xa;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!cr(u,e)){e=n(t._source),cr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-qt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:so,lastRenderedState:f}).dispatch=l=Ao.bind(null,Xa,e),c.queue=e,c.baseQueue=null,f=fo(i,t,n),c.memoizedState=c.baseState=f),f}function po(e,t,n){return ho(uo(),e,t,n)}function vo(e){var t=oo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:so,lastRenderedState:e}).dispatch=Ao.bind(null,Xa,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},oo().memoizedState=e}function go(){return uo().memoizedState}function ko(e,t,n,r){var i=oo();Xa.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==Za){var o=Za.memoizedState;if(a=o.destroy,null!==r&&io(r,o.deps))return void mo(t,n,a,r)}Xa.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function wo(e,t){return ko(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return bo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)}function Eo(){}function To(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=qi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Ao(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Xa||null!==o&&o===Xa)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,cr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:aa,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Do={readContext:aa,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:aa,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Xa,e),[r.memoizedState,e]},useRef:yo,useState:vo,useDebugValue:Eo,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return wo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return yo(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ho(r,e,t,n)},useOpaqueIdentifier:function(){if(Va){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&Xa.mode)&&(Xa.flags|=516,mo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return vo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Oo={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:So,useLayoutEffect:_o,useMemo:Co,useReducer:co,useRef:go,useState:function(){return co(so)},useDebugValue:Eo,useDeferredValue:function(e){var t=co(so),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=co(so)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(so)[0]},unstable_isNewReconciler:!1},Ro={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:So,useLayoutEffect:_o,useMemo:Co,useReducer:lo,useRef:go,useState:function(){return lo(so)},useDebugValue:Eo,useDeferredValue:function(e){var t=lo(so),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(so)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(so)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,Mo=!1;function jo(e,t,n,r){t.child=null===e?Ea(t,null,n,r):Sa(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return ia(t,i),r=ao(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return qo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return jo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var a=mi(n)?pi:hi.current;return a=vi(t,a),ia(t,i),n=ao(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ko(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(ia(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ga(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=aa(c):c=vi(t,c=mi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ka(t,o,r,c),oa=!1;var h=t.memoizedState;o.state=h,ha(t,r,o,i),s=t.memoizedState,u!==r||h!==s||di.current||oa?("function"===typeof l&&(va(t,n,l,r),s=t.memoizedState),(u=oa||ya(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,sa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Yi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=aa(s):s=vi(t,s=mi(n)?pi:hi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ka(t,o,r,s),oa=!1,h=t.memoizedState,o.state=h,ha(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||di.current||oa?("function"===typeof d&&(va(t,n,d,r),p=t.memoizedState),(c=oa||ya(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&wi(t,n,!1),au(e,t,a);r=t.stateNode,Lo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):jo(e,t,u,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Da(e,t.containerInfo)}var Go,Qo,$o,Yo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),li(Ma,1&a),null===e?(void 0!==i.fallback&&qa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$s(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&yi(),null;case 3:return Oa(),ci(di),ci(hi),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qo(t),null;case 5:La(t);var a=Pa(Aa.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Ca.current),Wa(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Xr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in _e(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe.html&&(e=he(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Go(e,t,!1,!1),t.stateNode=e,c=Ie(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Nr(Sr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}_e(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?we(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Aa.current),Pa(Ca.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ci(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Ou||0===(134217727&Bu)&&0===(134217727&zu)||gs(Ou,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Oa(),Qo(t),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return na(t),null;case 19:if(ci(Ma),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=ja(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Va)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Ma.current,li(Ma,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Oa(),ci(di),ci(hi),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return ci(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Ma),null;case 4:return Oa(),null;case 10:return na(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(){},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Ca.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(js(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))js(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Iu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Eu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?we(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ye(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=zi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=w.ReactCurrentDispatcher,Pu=w.ReactCurrentOwner,Du=0,Ou=null,Ru=null,Lu=0,Mu=0,ju=si(0),Fu=0,Uu=null,Vu=0,Bu=0,zu=0,qu=0,Ku=null,Wu=0,Hu=1/0;function Gu(){Hu=zi()+500}var Qu,$u=null,Yu=!1,Ju=null,Xu=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Du)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===ss&&(ss=Vu),0!==$i.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Du)&&98===e?e=Ut(12,ss):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Ou&&(zu|=t,4===Fu&&gs(e,Lu));var r=qi();1===t?0!==(8&Du)&&0===(48&Du)?ks(e):(ms(e,n),0===Du&&(Gu(),Gi())):(0===(4&Du)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-qt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=jt(e,e===Ou?Lu:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ei(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ei(n)}15===t?(n=ks.bind(null,e),null===Fi?(Fi=[n],Ui=Si(Pi,Qi)):Fi.push(n),n=Mi):14===t?n=Hi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Du))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=jt(e,e===Ou?Lu:0);if(0===n)return null;var r=n,i=Du;Du|=16;var a=Es();for(Ou===e&&Lu===r||(Gu(),Is(e,r));;)try{Ns();break}catch(s){Ss(e,s)}if(ta(),Au.current=a,Du=i,null!==Ru?r=0:(Ou=null,Lu=0,r=Fu),0!==(Vu&zu))Is(e,0);else if(0!==r){if(2===r&&(Du|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ft(e))&&(r=Ts(e,n))),1===r)throw t=Uu,Is(e,0),gs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ds(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-zi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ds.bind(null,e),r);break}Ds(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-qt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Kr(Ds.bind(null,e),n);break}Ds(e);break;default:throw Error(o(329))}}return ms(e,zi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Du))throw Error(o(327));if(Ls(),e===Ou&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&zu)&&(n=Ts(e,t=jt(e,t)))}else n=Ts(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Du|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ft(e))&&(n=Ts(e,t))),1===n)throw n=Uu,Is(e,0),gs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ds(e),ms(e,zi()),null}function bs(e,t){var n=Du;Du|=1;try{return e(t)}finally{0===(Du=n)&&(Gu(),Gi())}}function ws(e,t){var n=Du;Du&=-2,Du|=8;try{return e(t)}finally{0===(Du=n)&&(Gu(),Gi())}}function xs(e,t){li(ju,Mu),Mu|=t,Vu|=t}function _s(){Mu=ju.current,ci(ju)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Oa(),ci(di),ci(hi),Qa();break;case 5:La(r);break;case 4:Oa();break;case 13:case 19:ci(Ma);break;case 10:na(r);break;case 23:case 24:_s()}n=n.return}Ou=e,Ru=Hs(e.current,null),Lu=Mu=Vu=t,Fu=0,Uu=null,qu=zu=Bu=0}function Ss(e,t){for(;;){var n=Ru;try{if(ta(),$a.current=Po,to){for(var r=Xa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if(Ja=0,eo=Za=Xa=null,no=!1,Pu.current=null,null===n||null===n.return){Fu=1,Uu=t,Ru=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=ca(-1,1);g.tag=2,la(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,fa(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,fa(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Ps(n)}catch(_){t=_,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function Es(){var e=Au.current;return Au.current=Po,null===e?Po:e}function Ts(e,t){var n=Du;Du|=16;var r=Es();for(Ou===e&&Lu===t||Is(e,t);;)try{Cs();break}catch(i){Ss(e,i)}if(ta(),Du=n,Au.current=r,null!==Ru)throw Error(o(261));return Ou=null,Lu=0,Fu}function Cs(){for(;null!==Ru;)As(Ru)}function Ns(){for(;null!==Ru&&!Ti();)As(Ru)}function As(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Ps(e):Ru=t,Pu.current=null}function Ps(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Ru=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Ru=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Fu&&(Fu=5)}function Ds(e){var t=qi();return Wi(99,Os.bind(null,e,t)),null}function Os(e,t){do{Ls()}while(null!==es);if(0!==(48&Du))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-qt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ou&&(Ru=Ou=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Du,Du|=32,Pu.current=null,Vr=Qt,mr(u=vr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(E){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,$u=r;do{try{Rs()}catch(E){if(null===$u)throw Error(o(330));Vs($u,E),$u=$u.nextEffect}}while(null!==$u);ls=null,$u=r;do{try{for(u=e;null!==$u;){var k=$u.flags;if(16&k&&ye($u.stateNode,""),128&k){var b=$u.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu($u),$u.flags&=-3;break;case 6:xu($u),$u.flags&=-3,Eu($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,Eu($u.alternate,$u);break;case 4:Eu($u.alternate,$u);break;case 8:Su(u,s=$u);var x=s.alternate;bu(s),null!==x&&bu(x)}$u=$u.nextEffect}}catch(E){if(null===$u)throw Error(o(330));Vs($u,E),$u=$u.nextEffect}}while(null!==$u);if(w=Br,b=vr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&pr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=dr(k,x),a=dr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Vr,Br=Vr=null,e.current=n,$u=r;do{try{for(k=e;null!==$u;){var _=$u.flags;if(36&_&&yu(k,$u.alternate,$u),128&_){b=void 0;var I=$u.ref;if(null!==I){var S=$u.stateNode;$u.tag,b=S,"function"===typeof I?I(b):I.current=b}}$u=$u.nextEffect}}catch(E){if(null===$u)throw Error(o(330));Vs($u,E),$u=$u.nextEffect}}while(null!==$u);$u=null,ji(),Du=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((_=$u).sibling=null,_.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(E){}if(ms(e,zi()),Yu)throw Yu=!1,e=Ju,Ju=null,e;return 0!==(8&Du)||Gi(),null}function Rs(){for(;null!==$u;){var e=$u.alternate;fs||null===ls||(0!==(8&$u.flags)?Ze($u,ls)&&(fs=!0):13===$u.tag&&Cu(e,$u)&&Ze($u,ls)&&(fs=!0));var t=$u.flags;0!==(256&t)&&mu(e,$u),0===(512&t)||Zu||(Zu=!0,Hi(97,(function(){return Ls(),null}))),$u=$u.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Wi(e,Fs)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Hi(97,(function(){return Ls(),null})))}function js(e,t){rs.push(t,e),Zu||(Zu=!0,Hi(97,(function(){return Ls(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Du))throw Error(o(331));var t=Du;Du|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Du=t,Gi(),!0}function Us(e,t,n){la(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(la(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Lu&n)===n&&(4===Fu||3===Fu&&(62914560&Lu)===Lu&&500>zi()-Wu?Is(e,0):qu|=n),ms(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===ss&&(ss=Vu),0===(t=Vt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new qs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case S:u=8,i|=1;break;case E:return(e=Ks(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case A:return(e=Ks(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case P:return(e=Ks(19,n,t,i)).elementType=P,e.lanes=a,e;case j:return $s(n,i,a,t);case F:return(e=Ks(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case N:u=11;break e;case D:u=14;break e;case O:u=16,r=null;break e;case R:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=j,e.lanes=n,e}function Ys(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=ki(n,c,s);break e}}n=s}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(i,t),ps(i,u,a),u}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[Zr]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}Zs(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}ws((function(){Zs(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Ho(t),Ha();break;case 5:Ra(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(li(Ma,1&Ma.current),null!==(t=au(e,t,n))?t.sibling:null);li(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),ia(t,n),i=ao(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&va(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===D)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=qo(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,sa(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Gr(t.stateNode.containerInfo.firstChild),Fa=t,a=Va=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=Ea(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ha();t=t.child}return t;case 5:return Ra(t),null===e&&qa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,qr(r,i)?u=null:null!==a&&qr(r,a)&&(t.flags|=16),zo(e,t),jo(e,t,u,n),t.child;case 6:return null===e&&qa(t),null;case 13:return Xo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(li(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=cr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!di.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=ca(-1,n&-n)).tag=2,la(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ra(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ia(t,n),r=r(i=aa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Uo(e,t,i,a=Yi(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,ia(t,n),ga(t,r,i),ba(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},rc.prototype.render=function(e){Zs(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zs(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(ps(e,4,hs()),nc(e,4))},tt=function(e){13===e.tag&&(ps(e,67108864,hs()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),nc(e,n)}},rt=function(e,t){return t()},Ee=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=bs,Oe=function(e,t,n,r,i){var a=Du;Du|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Du=a)&&(Gu(),Gi())}},Re=function(){0===(49&Du)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}Gi()}(),Ls())},Le=function(e,t){var n=Du;Du|=2;try{return e(t)}finally{0===(Du=n)&&(Gu(),Gi())}};var uc={Events:[ni,ri,ii,Ae,Pe,Ls,{current:!1}]},sc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{xi=lc.inject(cc),_i=lc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Du;if(0!==(48&n))return e(t);Du|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Du=n,Gi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===o||e===h||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===s||e.$$typeof===c||e.$$typeof===f||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=y},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+E(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+E(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function P(){var e=A.current;if(null===e)throw Error(d(321));return e}var D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],T=[],C=1,N=null,A=3,P=!1,D=!1,O=!1;function R(e){for(var t=_(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,x(E,t)}t=_(T)}}function L(e){if(O=!1,R(e),!D)if(null!==_(E))D=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){D=!1,O&&(O=!1,i()),P=!0;var a=A;try{for(R(n),N=_(E);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===_(E)&&I(E),R(n)}else I(E);N=_(E)}if(null!==N)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,A=a,P=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||P||(D=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(E)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(E)&&e===_(T)&&(O?i():O=!0,r(L,o-u))):(e.sortIndex=s,x(E,e),D||P||(D=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".4ef7427d.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="react-typescript-starter:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/team3_Project/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkreact_typescript_starter=self.webpackChunkreact_typescript_starter||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ji},SDK_VERSION:function(){return Qa},_DEFAULT_ENTRY_NAME:function(){return La},_addComponent:function(){return Ua},_addOrOverwriteComponent:function(){return Va},_apps:function(){return ja},_clearComponents:function(){return Ka},_components:function(){return Fa},_getProvider:function(){return za},_registerComponent:function(){return Ba},_removeServiceInstance:function(){return qa},deleteApp:function(){return Xa},getApp:function(){return Ya},getApps:function(){return Ja},initializeApp:function(){return $a},onLog:function(){return to},registerVersion:function(){return eo},setLogLevel:function(){return no}});var t,r=n(791),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||u(e,t)||s()}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){return function(e){if(Array.isArray(e))return o(e)}(e)||l(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=b();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function _(e,t,n){return _=b()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},_.apply(null,arguments)}function I(e){var t="function"===typeof Map?new Map:void 0;return I=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},I(e)}function S(e){return a(e)||l(e)||u(e)||s()}function E(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var C,N="popstate";function A(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function R(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:R(e);return A(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(T({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(N,v),h=e,function(){u.removeEventListener(N,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=O(y.location,e,n);r&&r(i,e);var a=D(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=O(y.location,e,n);r&&r(i,e);var a=D(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function j(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=F(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Q(i[o],Y(r));return a}function F(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(A(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=te([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(A(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),F(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:G(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=E(U(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function U(e){var t=e.split("/");if(0===t.length)return[];var n=S(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=U(i.join("/")),s=[];return s.push.apply(s,f(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,f(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,B=3,z=2,q=1,K=10,W=-2,H=function(e){return"*"===e};function G(e,t){var n=e.split("/"),r=n.length;return n.some(H)&&(r+=W),t&&(r+=z),n.filter((function(e){return!H(e)})).reduce((function(e,t){return e+(V.test(t)?B:""===t?q:K)}),r)}function Q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=$({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:te([i,l.pathname]),pathnameBase:ne(te([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=te([i,l.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);P("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return P(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function Y(e){try{return decodeURI(e)}catch(t){return P(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ee(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(A(!(i=T({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),A(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),A(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:re(a),hash:ie(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var te=function(e){return e.join("/").replace(/\/\/+/g,"/")},ne=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},re=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ie=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ae=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(I(Error));function oe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],se=(new Set(ue),["get"].concat(ue));new Set(se),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var ce="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},le=r.useState,fe=r.useEffect,he=r.useLayoutEffect,de=r.useDebugValue;function pe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ce(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement;var ve=r.createContext(null);var me=r.createContext(null);var ye=r.createContext(null);var ge=r.createContext(null);var ke=r.createContext(null);var be=r.createContext({outlet:null,matches:[]});var we=r.createContext(null);function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function _e(){return null!=r.useContext(ke)}function Ie(){return _e()||A(!1),r.useContext(ke).location}function Se(){_e()||A(!1);var e=r.useContext(ge),t=e.basename,n=e.navigator,i=r.useContext(be).matches,a=Ie().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);r.useEffect((function(){u.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=ee(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:te([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return s}function Ee(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(be).matches,a=Ie().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return ee(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Te(){var e=function(){var e,t=r.useContext(we),n=Oe(Ne.UseRouteError),i=Re(Ne.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=oe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ce,Ne,Ae=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return m(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(be.Provider,{value:this.props.routeContext},r.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Pe(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(ve);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(be.Provider,{value:t},i)}function De(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||A(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;n&&(c=o.route.ErrorBoundary?r.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:r.createElement(Te,null));var l=t.concat(i.slice(0,u+1)),f=function(){var t=e;return s?t=c:o.route.Component?t=r.createElement(o.route.Component,null):o.route.element&&(t=o.route.element),r.createElement(Pe,{match:o,routeContext:{outlet:e,matches:l},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===u)?r.createElement(Ae,{location:n.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Oe(e){var t=r.useContext(me);return t||A(!1),t}function Re(e){var t=function(e){var t=r.useContext(be);return t||A(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||A(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ce||(Ce={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ne||(Ne={}));var Le;function Me(e){A(!1)}function je(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;_e()&&A(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=L(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,_=void 0===x?null:x,I=v.key,S=void 0===I?"default":I,E=r.useMemo((function(){var e=J(y,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:_,key:S},navigationType:c}}),[d,y,k,w,_,S,c]);return null==E?null:r.createElement(ge.Provider,{value:p},r.createElement(ke.Provider,{children:o,value:E}))}function Fe(e){var n=e.children,i=e.location,a=r.useContext(ve);return function(e,n){_e()||A(!1);var i,a=r.useContext(ge).navigator,o=r.useContext(me),u=r.useContext(be).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,Ie());if(n){var h,d="string"===typeof n?L(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||A(!1),i=d}else i=f;var p=i.pathname||"/",v=j(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=De(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:te([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:te([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,o||void 0);return n&&m?r.createElement(ke.Provider,{value:{location:xe({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:Ve(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Le||(Le={}));var Ue=new Promise((function(){}));r.Component;function Ve(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(f(t),[i]);if(e.type!==r.Fragment){e.type!==Me&&A(!1),e.props.index&&e.props.children&&A(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ve(e.props.children,a)),n.push(o)}else n.push.apply(n,Ve(e.props.children,a))}})),n}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Ke=["aria-current","caseSensitive","className","end","style","to","children"];function We(e){var t=e.basename,n=e.children,i=e.window,a=r.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),M((function(e,t){var n=e.location;return O("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:R(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,u=c(r.useState({action:o.action,location:o.location}),2),s=u[0],l=u[1];return r.useLayoutEffect((function(){return o.listen(l)}),[o]),r.createElement(je,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ge=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=ze(e,qe),d=r.useContext(ge).basename,p=!1;if("string"===typeof l&&Ge.test(l)&&(n=l,He)){var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=J(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}var g=function(e,t){var n=(void 0===t?{}:t).relative;_e()||A(!1);var i=r.useContext(ge),a=i.basename,o=i.navigator,u=Ee(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:te([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=Se(),l=Ie(),f=Ee(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:R(l)===R(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return r.createElement("a",Be({},h,{href:n||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var $e=r.forwardRef((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=ze(e,Ke),v=Ee(h,{relative:p.relative}),m=Ie(),y=r.useContext(me),g=r.useContext(ge).navigator,k=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,b=m.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(b=b.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase());var x,_=b===k||!l&&b.startsWith(k)&&"/"===b.charAt(k.length),I=null!=w&&(w===k||!l&&w.startsWith(k)&&"/"===w.charAt(k.length)),S=_?i:void 0;x="function"===typeof s?s({isActive:_,isPending:I}):[s,_?"active":null,I?"pending":null].filter(Boolean).join(" ");var E="function"===typeof f?f({isActive:_,isPending:I}):f;return r.createElement(Qe,Be({},p,{"aria-current":S,className:x,ref:t,style:E,to:h}),"function"===typeof d?d({isActive:_,isPending:I}):d)}));var Ye,Je;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ye||(Ye={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Je||(Je={}));function Xe(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function nt(e,t){if(null==e)return{};var n,r,i=tt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rt=n(694),it=n.n(rt),at=n(7),ot=n.n(at),ut=n(184),st=["as","className","type","tooltip"],ct={type:ot().string,tooltip:ot().bool,as:ot().elementType},lt=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,u=e.tooltip,s=void 0!==u&&u,c=nt(e,st);return(0,ut.jsx)(r,et(et({},c),{},{ref:t,className:it()(i,"".concat(o,"-").concat(s?"tooltip":"feedback"))}))}));lt.displayName="Feedback",lt.propTypes=ct;var ft=lt,ht=r.createContext({}),dt=["xxl","xl","lg","md","sm","xs"],pt="xs",vt=r.createContext({prefixes:{},breakpoints:dt,minBreakpoint:pt});vt.Consumer,vt.Provider;function mt(e,t){var n=(0,r.useContext)(vt).prefixes;return e||n[t]||t}function yt(){return(0,r.useContext)(vt).breakpoints}function gt(){return(0,r.useContext)(vt).minBreakpoint}var kt=["id","bsPrefix","className","type","isValid","isInvalid","as"],bt=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.className,o=e.type,u=void 0===o?"checkbox":o,s=e.isValid,c=void 0!==s&&s,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,p=nt(e,kt),v=(0,r.useContext)(ht).controlId;return i=mt(i,"form-check-input"),(0,ut.jsx)(d,et(et({},p),{},{ref:t,type:u,id:n||v,className:it()(a,i,c&&"is-valid",f&&"is-invalid")}))}));bt.displayName="FormCheckInput";var wt=bt,xt=["bsPrefix","className","htmlFor"],_t=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.htmlFor,o=nt(e,xt),u=(0,r.useContext)(ht).controlId;return n=mt(n,"form-check-label"),(0,ut.jsx)("label",et(et({},o),{},{ref:t,htmlFor:a||u,className:it()(i,n)}))}));_t.displayName="FormCheckLabel";var It=_t;function St(e,t){var n=0;return r.Children.map(e,(function(e){return r.isValidElement(e)?t(e,n++):e}))}var Et=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Tt=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,u=void 0!==o&&o,s=e.reverse,c=void 0!==s&&s,l=e.disabled,f=void 0!==l&&l,h=e.isValid,d=void 0!==h&&h,p=e.isInvalid,v=void 0!==p&&p,m=e.feedbackTooltip,y=void 0!==m&&m,g=e.feedback,k=e.feedbackType,b=e.className,w=e.style,x=e.title,_=void 0===x?"":x,I=e.type,S=void 0===I?"checkbox":I,E=e.label,T=e.children,C=e.as,N=void 0===C?"input":C,A=nt(e,Et);i=mt(i,"form-check"),a=mt(a,"form-switch");var P=(0,r.useContext)(ht).controlId,D=(0,r.useMemo)((function(){return{controlId:n||P}}),[P,n]),O=!T&&null!=E&&!1!==E||function(e,t){return r.Children.toArray(e).some((function(e){return r.isValidElement(e)&&e.type===t}))}(T,It),R=(0,ut.jsx)(wt,et(et({},A),{},{type:"switch"===S?"checkbox":S,ref:t,isValid:d,isInvalid:v,disabled:f,as:N}));return(0,ut.jsx)(ht.Provider,{value:D,children:(0,ut.jsx)("div",{style:w,className:it()(b,O&&i,u&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===S&&a),children:T||(0,ut.jsxs)(ut.Fragment,{children:[R,O&&(0,ut.jsx)(It,{title:_,children:E}),g&&(0,ut.jsx)(ft,{type:k,tooltip:y,children:g})]})})})}));Tt.displayName="FormCheck";var Ct=Object.assign(Tt,{Input:wt,Label:It}),Nt=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),At=r.forwardRef((function(e,t){var n,i,a=e.bsPrefix,o=e.type,u=e.size,s=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,p=void 0!==d&&d,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,k=nt(e,Nt),b=(0,r.useContext)(ht).controlId;(a=mt(a,"form-control"),v)?n=Xe({},"".concat(a,"-plaintext"),!0):(Xe(i={},a,!0),Xe(i,"".concat(a,"-").concat(u),u),n=i);return(0,ut.jsx)(g,et(et({},k),{},{type:o,size:s,ref:t,readOnly:m,id:c||b,className:it()(l,n,h&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));At.displayName="FormControl";var Pt=Object.assign(At,{Feedback:ft}),Dt=/-(.)/g;var Ot=["className","bsPrefix","as"],Rt=function(e){return e[0].toUpperCase()+(t=e,t.replace(Dt,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?Rt(e):n,a=t.Component,o=t.defaultProps,u=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,u=t.as,s=void 0===u?a||"div":u,c=nt(t,Ot),l=et(et({},o),c),f=mt(i,e);return(0,ut.jsx)(s,et({ref:n,className:it()(r,f)},l))}));return u.displayName=i,u}var Mt=Lt("form-floating"),jt=["controlId","as"],Ft=r.forwardRef((function(e,t){var n=e.controlId,i=e.as,a=void 0===i?"div":i,o=nt(e,jt),u=(0,r.useMemo)((function(){return{controlId:n}}),[n]);return(0,ut.jsx)(ht.Provider,{value:u,children:(0,ut.jsx)(a,et(et({},o),{},{ref:t}))})}));Ft.displayName="FormGroup";var Ut=Ft,Vt=["as","bsPrefix","className"],Bt=["className"];var zt=r.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=nt(e,Vt);n=mt(n,"col");var a=yt(),o=gt(),u=[],s=[];return a.forEach((function(e){var t,r,a,c=i[e];delete i[e],"object"===typeof c&&null!=c?(t=c.span,r=c.offset,a=c.order):t=c;var l=e!==o?"-".concat(e):"";t&&u.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=a&&s.push("order".concat(l,"-").concat(a)),null!=r&&s.push("offset".concat(l,"-").concat(r))})),[et(et({},i),{},{className:it().apply(void 0,[r].concat(u,s))}),{as:t,bsPrefix:n,spans:u}]}(e),r=c(n,2),i=r[0],a=i.className,o=nt(i,Bt),u=r[1],s=u.as,l=void 0===s?"div":s,f=u.bsPrefix,h=u.spans;return(0,ut.jsx)(l,et(et({},o),{},{ref:t,className:it()(a,!h.length&&f)}))}));zt.displayName="Col";var qt=zt,Kt=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Wt=r.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,a=e.bsPrefix,o=e.column,u=void 0!==o&&o,s=e.visuallyHidden,c=void 0!==s&&s,l=e.className,f=e.htmlFor,h=nt(e,Kt),d=(0,r.useContext)(ht).controlId;a=mt(a,"form-label");var p="col-form-label";"string"===typeof u&&(p="".concat(p," ").concat(p,"-").concat(u));var v=it()(l,a,c&&"visually-hidden",u&&p);return f=f||d,u?(0,ut.jsx)(qt,et({ref:t,as:"label",className:v,htmlFor:f},h)):(0,ut.jsx)(i,et({ref:t,className:v,htmlFor:f},h))}));Wt.displayName="FormLabel";var Ht=Wt,Gt=["bsPrefix","className","id"],Qt=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.id,o=nt(e,Gt),u=(0,r.useContext)(ht).controlId;return n=mt(n,"form-range"),(0,ut.jsx)("input",et(et({},o),{},{type:"range",ref:t,className:it()(i,n),id:a||u}))}));Qt.displayName="FormRange";var $t=Qt,Yt=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],Jt=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,u=e.isValid,s=void 0!==u&&u,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=nt(e,Yt),d=(0,r.useContext)(ht).controlId;return n=mt(n,"form-select"),(0,ut.jsx)("select",et(et({},h),{},{size:a,ref:t,className:it()(o,n,i&&"".concat(n,"-").concat(i),s&&"is-valid",l&&"is-invalid"),id:f||d}))}));Jt.displayName="FormSelect";var Xt=Jt,Zt=["bsPrefix","className","as","muted"],en=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,u=nt(e,Zt);return n=mt(n,"form-text"),(0,ut.jsx)(a,et(et({},u),{},{ref:t,className:it()(r,n,o&&"text-muted")}))}));en.displayName="FormText";var tn=en,nn=r.forwardRef((function(e,t){return(0,ut.jsx)(Ct,et(et({},e),{},{ref:t,type:"switch"}))}));nn.displayName="Switch";var rn=Object.assign(nn,{Input:Ct.Input,Label:Ct.Label}),an=["bsPrefix","className","children","controlId","label"],on=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,u=nt(e,an);return n=mt(n,"form-floating"),(0,ut.jsxs)(Ut,et(et({ref:t,className:it()(r,n),controlId:a},u),{},{children:[i,(0,ut.jsx)("label",{htmlFor:a,children:o})]}))}));on.displayName="FloatingLabel";var un=on,sn=["className","validated","as"],cn={_ref:ot().any,validated:ot().bool,as:ot().elementType},ln=r.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=nt(e,sn);return(0,ut.jsx)(a,et(et({},o),{},{ref:t,className:it()(n,r&&"was-validated")}))}));ln.displayName="Form",ln.propTypes=cn;var fn=Object.assign(ln,{Group:Ut,Control:Pt,Floating:Mt,Check:Ct,Switch:rn,Label:Ht,Text:tn,Range:$t,Select:Xt,FloatingLabel:un}),hn=["as","disabled"];function dn(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,u=e.onClick,s=e.tabIndex,c=void 0===s?0:s,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==u||u(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var pn=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,hn),a=c(dn(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,ut.jsx)(u,Object.assign({},i,o,{ref:t}))}));pn.displayName="Button";var vn=["as","bsPrefix","variant","size","active","disabled","className"],mn=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,u=e.active,s=void 0!==u&&u,l=e.disabled,f=void 0!==l&&l,h=e.className,d=nt(e,vn),p=mt(r,"btn"),v=c(dn(et({tagName:n,disabled:f},d)),2),m=v[0],y=v[1].tagName;return(0,ut.jsx)(y,et(et(et({},m),d),{},{ref:t,disabled:f,className:it()(h,p,s&&"active",a&&"".concat(p,"-").concat(a),o&&"".concat(p,"-").concat(o),d.href&&f&&"disabled")}))}));mn.displayName="Button";var yn=mn,gn=[{Product:"Nike mercury",Description:"nike mercury 12 limited edition",Price:"200",Stock:"94",Brand:"nike",Photo:"https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/503e9eea-02dd-4f8f-91e3-6ad74a9225cc/quest-5-mens-road-running-shoes-1tmPXN.png"},{Product:"Nike mercury3",Description:"nike mercury 13 limited edition",Price:"200",Stock:"94",Brand:"nike",Photo:"https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8c2hvZXN8ZW58MHx8MHx8&w=1000&q=80"},{Product:"Nike Air ZOOM",Description:"nike Air ZOOM",Price:"200",Stock:"94",Brand:"nike",Photo:"https://media.istockphoto.com/id/1320786676/photo/stability-and-cushion-running-shoes-new-unbranded-running-sneaker-or-trainer-on-orange.jpg?s=170667a&w=0&k=20&c=DuOyE_MjpgEmenP0GPOVffO7-Y1J-F9hL-aJ5w4wI84="},{Product:"C.RONALDO JERSEY",Description:"Nike C. RONALDO Portugal Jersey",Price:"200",Stock:"94",Brand:"nike",Photo:"https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/504a9a69-9b64-411b-8673-2c917e55959f/portugal-national-team-2022-23-stadium-home-cristiano-ronaldo-mens-dri-fit-soccer-jersey-xBK2l8.png"},{Product:"L.Messi Jersey",Description:"L. Messi PSG Jersey",Price:"200",Stock:"94",Brand:"nike",Photo:"https://m.media-amazon.com/images/I/51ThXwpW4lL._AC_UY1000_.jpg"}],kn="MY-PAGE-INVE-1",bn=localStorage.getItem(kn);null!==bn&&(gn=JSON.parse(bn));var wn=function(){var e=c((0,r.useState)(gn),2),t=e[0],n=e[1],i=c((0,r.useState)(!1),2),a=i[0],o=i[1],u=c((0,r.useState)("product name"),2),s=u[0],l=u[1],h=c((0,r.useState)("Your Name"),2),d=h[0],p=h[1],v=c((0,r.useState)("0"),2),m=v[0],y=v[1],g=c((0,r.useState)("0"),2),k=g[0],b=g[1],w=c((0,r.useState)("Photo URL"),2),x=w[0],_=w[1],I=c((0,r.useState)("Photo URL"),2),S=I[0],E=I[1];function T(e){l(e.target.value)}function C(e){p(e.target.value)}function N(e){b(e.target.value)}function A(e){y(e.target.value)}function P(e){_(e.target.value)}function D(e){E(e.target.value)}function O(){n([].concat(f(t),[{Product:s,Description:S,Price:m,Stock:k,Brand:d,Photo:x}])),console.log(t)}return(0,ut.jsxs)("div",{children:[(0,ut.jsxs)("table",{className:"table",children:[(0,ut.jsx)("thead",{children:(0,ut.jsxs)("tr",{children:[(0,ut.jsx)("th",{scope:"col",children:"Product"}),(0,ut.jsx)("th",{scope:"col",children:"Brand"}),(0,ut.jsx)("th",{scope:"col",children:"Desc"}),(0,ut.jsx)("th",{scope:"col",children:"Price"}),(0,ut.jsx)("th",{scope:"col",children:"Stock"}),(0,ut.jsx)("th",{scope:"col",children:"Image"}),(0,ut.jsx)("th",{scope:"col",children:"Remove"})]})}),(0,ut.jsx)("tbody",{children:t.map((function(e){return(0,ut.jsxs)("tr",{children:[(0,ut.jsx)("th",{scope:"row",children:e.Product}),(0,ut.jsx)("td",{children:e.Brand}),(0,ut.jsx)("td",{children:e.Description}),(0,ut.jsx)("td",{children:e.Price}),(0,ut.jsx)("td",{children:e.Stock}),(0,ut.jsx)("td",{children:(0,ut.jsx)("img",{width:"20%",src:e.Photo})}),(0,ut.jsx)("td",{children:(0,ut.jsx)(yn,{onClick:function(){return function(e){var r=f(t).filter((function(t){return t.Product!=e}));n(r)}(e.Product)},children:"Remove"})})]},e.Product)}))})]}),(0,ut.jsx)(yn,{onClick:function(){return o(!a)},children:"Add to Inventory"}),(0,ut.jsx)(yn,{onClick:function(){localStorage.setItem(kn,JSON.stringify(t))},children:"Save new inventory"}),1==a?(0,ut.jsxs)("h2",{children:[(0,ut.jsxs)(fn.Group,{controlId:"formBasicEmail",children:[(0,ut.jsx)(fn.Control,{className:"forms",type:"product",placeholder:"Product Name",onChange:T}),(0,ut.jsx)(fn.Control,{className:"forms",type:"company",placeholder:"Brand",onChange:C}),(0,ut.jsx)(fn.Control,{className:"forms",type:"",placeholder:"Description",onChange:D}),(0,ut.jsx)(fn.Control,{className:"forms",type:"Price",placeholder:"price",onChange:A}),(0,ut.jsx)(fn.Control,{className:"forms",type:"stock",placeholder:"stock",onChange:N}),(0,ut.jsx)(fn.Control,{className:"forms",type:"",placeholder:"Image URL",onChange:P})]}),";",(0,ut.jsx)(yn,{onClick:O,children:"Submit"})]}):null]})},xn=["bsPrefix","fluid","as","className"],_n=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=void 0!==r&&r,a=e.as,o=void 0===a?"div":a,u=e.className,s=nt(e,xn),c=mt(n,"container"),l="string"===typeof i?"-".concat(i):"-fluid";return(0,ut.jsx)(o,et(et({ref:t},s),{},{className:it()(u,i?"".concat(c).concat(l):c)}))}));_n.displayName="Container";var In=_n,Sn=["bsPrefix","className","as"],En=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=nt(e,Sn),u=mt(n,"row"),s=yt(),c=gt(),l="".concat(u,"-cols"),f=[];return s.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==c?"-".concat(e):"";null!=t&&f.push("".concat(l).concat(r,"-").concat(t))})),(0,ut.jsx)(a,et(et({ref:t},o),{},{className:it().apply(void 0,[r,u].concat(f))}))}));En.displayName="Row";var Tn=En,Cn=[],Nn="MY-PAGE-USER-CART",An=localStorage.getItem(Nn);null!==An&&(Cn=JSON.parse(An));var Pn=function(){var e=c((0,r.useState)(Cn),2),t=e[0],n=e[1];return(0,ut.jsxs)("table",{className:"table",children:[(0,ut.jsx)("thead",{children:(0,ut.jsxs)("tr",{children:[(0,ut.jsx)("th",{scope:"col",children:"Product Image"}),(0,ut.jsx)("th",{scope:"col",children:"Product"}),(0,ut.jsx)("th",{scope:"col",children:"Price"}),(0,ut.jsx)("th",{scope:"col",children:"Quantity"}),(0,ut.jsx)("th",{scope:"col",children:"Total"})]})}),(0,ut.jsxs)("tbody",{children:[t.map((function(e){return(0,ut.jsxs)("tr",{"data-testid":"row"+e.Product,children:[(0,ut.jsx)("td",{width:"40%","data-testid":"img"+e.Product,children:(0,ut.jsx)("img",{width:"20%",src:e.Photo})}),(0,ut.jsx)("th",{scope:"row",children:e.Product}),(0,ut.jsxs)("td",{"data-testid":"price"+e.Product,children:[" ",e.Price," "]}),(0,ut.jsxs)("td",{children:[(0,ut.jsx)(yn,{onClick:function(){return function(e){var r=t.map((function(t){return t.Product===e?et(et({},t),{},{Amount:t.Amount+1,productTotal:Number(t.Amount)*Number(t.Price)}):et({},t)}));n(r)}(e.Product)},children:"Add 1"})," ",(0,ut.jsx)(yn,{onClick:function(){return function(e){var r=t.map((function(t){return t.Product===e&&t.Amount-1>=0?et(et({},t),{},{Amount:t.Amount-1,productTotal:Number(t.Amount)*Number(t.Price)}):et({},t)}));n(r)}(e.Product)},children:"Remove 1"}),(0,ut.jsx)("hr",{}),0==e.Amount?(0,ut.jsx)(yn,{onClick:function(){return function(e){var r=f(t).filter((function(t){return t.Product!=e}));n(r)}(e.Product)},children:"Remove"}):null,e.Amount]}),(0,ut.jsx)("td",{"data-testid":"total"+e.Product,children:e.Amount*Number(e.Price)},e.Product)]},e.Photo)})),(0,ut.jsx)("tr",{children:(0,ut.jsx)("td",{className:"checkoutCart",children:(0,ut.jsx)("button",{type:"button",className:"btn btn-light btn-lg",onClick:function(){localStorage.setItem(Nn,JSON.stringify(t))},children:"Save Cart"})})},"test")]})]})},Dn=[],On=localStorage.getItem("MY-PAGE-USER-CART");null!==On&&(Dn=JSON.parse(On));var Rn=function(){var e=Se(),t=c((0,r.useState)(null),2),n=t[0],i=t[1],a=c((0,r.useState)(null),2),o=a[0],u=a[1];function s(){return Dn.reduce((function(e,t){return e+Number(t.Amount)*Number(t.Price)}),0)}return(0,ut.jsxs)("div",{className:"checkOut",children:[s(),(0,ut.jsx)(In,{children:(0,ut.jsxs)(Tn,{children:[(0,ut.jsxs)(qt,{"data-testid":"Cart",className:".col-lg-",children:[(0,ut.jsx)("h2",{children:"Order Summary"}),(0,ut.jsx)(Pn,{}),(0,ut.jsx)("hr",{}),(0,ut.jsxs)("h4",{children:["TOTAL AMOUNT DUE ",s()]})]}),(0,ut.jsxs)(qt,{className:".col-",children:[(0,ut.jsx)("h2",{children:"Payment Detals"}),(0,ut.jsxs)(fn.Group,{controlId:"formBasicEmail",children:[(0,ut.jsx)(fn.Control,{className:"forms",type:"product",placeholder:"Card Number",onChange:function(e){i(e.target.value)}}),(0,ut.jsx)(fn.Control,{className:"forms",type:"company",placeholder:"3 digit pin",onChange:function(e){u(e.target.value)}}),null!==n&&null!==o?(0,ut.jsx)(yn,{onClick:function(){return e("/Fullfilled")},children:"Fullfill"}):null]})]})]})})]})},Ln=function(e){return r.forwardRef((function(t,n){return(0,ut.jsx)("div",et(et({},t),{},{ref:n,className:it()(t.className,e)}))}))},Mn=["bsPrefix","className","variant","as"],jn=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,u=nt(e,Mn),s=mt(n,"card-img");return(0,ut.jsx)(o,et({ref:t,className:it()(i?"".concat(s,"-").concat(i):s,r)},u))}));jn.displayName="CardImg";var Fn=jn,Un=r.createContext(null);Un.displayName="CardHeaderContext";var Vn=Un,Bn=["bsPrefix","className","as"],zn=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,u=nt(e,Bn),s=mt(n,"card-header"),c=(0,r.useMemo)((function(){return{cardHeaderBsPrefix:s}}),[s]);return(0,ut.jsx)(Vn.Provider,{value:c,children:(0,ut.jsx)(o,et(et({ref:t},u),{},{className:it()(i,s)}))})}));zn.displayName="CardHeader";var qn=zn,Kn=["bsPrefix","className","bg","text","border","body","children","as"],Wn=Ln("h5"),Hn=Ln("h6"),Gn=Lt("card-body"),Qn=Lt("card-title",{Component:Wn}),$n=Lt("card-subtitle",{Component:Hn}),Yn=Lt("card-link",{Component:"a"}),Jn=Lt("card-text",{Component:"p"}),Xn=Lt("card-footer"),Zn=Lt("card-img-overlay"),er=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,u=e.body,s=void 0!==u&&u,c=e.children,l=e.as,f=void 0===l?"div":l,h=nt(e,Kn),d=mt(n,"card");return(0,ut.jsx)(f,et(et({ref:t},h),{},{className:it()(r,d,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:s?(0,ut.jsx)(Gn,{children:c}):c}))}));er.displayName="Card";var tr=Object.assign(er,{Img:Fn,Title:Qn,Subtitle:$n,Body:Gn,Link:Yn,Text:Jn,Header:qn,Footer:Xn,ImgOverlay:Zn});function nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt,r=[];return Object.entries(e).forEach((function(e){var i=c(e,2),a=i[0],o=i[1];null!=o&&("object"===typeof o?t.forEach((function(e){var t=o[e];if(null!=t){var i=e!==n?"-".concat(e):"";r.push("".concat(a).concat(i,"-").concat(t))}})):r.push("".concat(a,"-").concat(o)))})),r}var rr=["as","bsPrefix","className","direction","gap"],ir=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=e.direction,u=e.gap,s=nt(e,rr);i=mt(i,"horizontal"===o?"hstack":"vstack");var c=yt(),l=gt();return(0,ut.jsx)(r,et(et({},s),{},{ref:t,className:it().apply(void 0,[a,i].concat(f(nr({gap:u},c,l))))}))}));ir.displayName="Stack";var ar=ir;var or=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function ur(e){var t=or(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var sr=function(e,t){var n=(0,r.useRef)(!0);(0,r.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)};function cr(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}var lr=Math.pow(2,31)-1;function fr(e,t,n){var r=n-Date.now();e.current=r<=lr?setTimeout(t,r):setTimeout((function(){return fr(e,t,n)}),lr)}function hr(){var e=function(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}(),t=(0,r.useRef)();return cr((function(){return clearTimeout(t.current)})),(0,r.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(n(),i<=lr?t.current=setTimeout(r,i):fr(t,r,Date.now()+i))},clear:n}}),[])}var dr="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||dr?r.useLayoutEffect:r.useEffect,new WeakMap;var pr=["onKeyDown"];var vr=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,pr),a=c(dn(Object.assign({tagName:"a"},i)),1)[0],o=ur((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,ut.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,ut.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));vr.displayName="Anchor";var mr=vr;function yr(){return yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yr.apply(this,arguments)}n(176);function gr(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function kr(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function br(e,t){return Object.keys(t).reduce((function(n,i){var a,o=n,u=o[gr(i)],s=o[i],c=tt(o,[gr(i),i].map(kr)),l=t[i],f=function(e,t,n){var i=(0,r.useRef)(void 0!==e),a=(0,r.useState)(t),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==t&&u(t),[s?e:o,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),u(e)}),[n])]}(s,u,e[l]),h=f[0],d=f[1];return yr({},c,((a={})[i]=h,a[l]=d,a))}),e)}function wr(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function xr(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function _r(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}wr.__suppressDeprecationWarning=!0,xr.__suppressDeprecationWarning=!0,_r.__suppressDeprecationWarning=!0;var Ir=Lt("carousel-caption"),Sr=["as","bsPrefix","className"],Er=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=nt(e,Sr),u=it()(a,mt(i,"carousel-item"));return(0,ut.jsx)(r,et(et({ref:t},o),{},{className:u}))}));Er.displayName="CarouselItem";var Tr=Er;function Cr(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var Nr=/([A-Z])/g;var Ar=/^ms-/;function Pr(e){return function(e){return e.replace(Nr,"-$1").toLowerCase()}(e).replace(Ar,"-ms-")}var Dr=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Or=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Pr(t))||function(e,t){return Cr(e).getComputedStyle(e,t)}(e).getPropertyValue(Pr(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Dr.test(e))}(i)?n+=Pr(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Pr(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},Rr=!("undefined"===typeof window||!window.document||!window.document.createElement),Lr=!1,Mr=!1;try{var jr={get passive(){return Lr=!0},get once(){return Mr=Lr=!0}};Rr&&(window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,!0))}catch(VF){}var Fr=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Mr){var i=r.once,a=r.capture,o=n;!Mr&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Lr?r:a)}e.addEventListener(t,n,r)};var Ur=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Vr=function(e,t,n,r){return Fr(e,t,n,r),function(){Ur(e,t,n,r)}};function Br(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Vr(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function zr(e,t,n,r){null==n&&(n=function(e){var t=Or(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Br(e,n,r),a=Vr(e,"transitionend",t);return function(){i(),a()}}function qr(e,t){var n=Or(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Kr(e,t){var n=qr(e,"transitionDuration"),r=qr(e,"transitionDelay"),i=zr(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Wr=!1,Hr=r.createContext(null),Gr="unmounted",Qr="exited",$r="entering",Yr="entered",Jr="exiting",Xr=function(e){var t,n;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Qr,r.appearStatus=$r):i=Yr:i=t.unmountOnExit||t.mountOnEnter?Gr:Qr,r.state={status:i},r.nextCallback=null,r}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Gr?{status:Qr}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==$r&&n!==Yr&&(t=$r):n!==$r&&n!==Yr||(t=Jr)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===$r){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qr&&this.setState({status:Gr})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],u=a[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||Wr?this.safeSetState({status:Yr},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:$r},(function(){t.props.onEntering(o,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:Yr},(function(){t.props.onEntered(o,u)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!Wr?(this.props.onExit(r),this.safeSetState({status:Jr},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Qr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Qr},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],u=a[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===Gr)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,tt(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(Hr.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},a}(r.Component);function Zr(){}Xr.contextType=Hr,Xr.propTypes={},Xr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zr,onEntering:Zr,onEntered:Zr,onExit:Zr,onExiting:Zr,onExited:Zr},Xr.UNMOUNTED=Gr,Xr.EXITED=Qr,Xr.ENTERING=$r,Xr.ENTERED=Yr,Xr.EXITING=Jr;var ei=Xr,ti=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var ni=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=ti(e),r=ti(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};var ri=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],ii=r.forwardRef((function(e,t){var n=e.onEnter,a=e.onEntering,o=e.onEntered,u=e.onExit,s=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=nt(e,ri),p=(0,r.useRef)(null),v=ni(p,h),m=function(e){var t;v((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},g=(0,r.useCallback)(y(n),[n]),k=(0,r.useCallback)(y(a),[a]),b=(0,r.useCallback)(y(o),[o]),w=(0,r.useCallback)(y(u),[u]),x=(0,r.useCallback)(y(s),[s]),_=(0,r.useCallback)(y(c),[c]),I=(0,r.useCallback)(y(l),[l]);return(0,ut.jsx)(ei,et(et({ref:t},d),{},{onEnter:g,onEntered:b,onEntering:k,onExit:w,onExited:_,onExiting:x,addEndListener:I,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,et(et({},t),{},{ref:m}))}:r.cloneElement(f,{ref:m})}))})),ai=ii,oi=["defaultActiveIndex"],ui=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"];var si=r.forwardRef((function(e,t){var n=e.defaultActiveIndex,i=br(et({defaultActiveIndex:void 0===n?0:n},nt(e,oi)),{activeIndex:"onSelect"}),a=i.as,o=void 0===a?"div":a,u=i.bsPrefix,s=i.slide,l=void 0===s||s,f=i.fade,h=void 0!==f&&f,d=i.controls,p=void 0===d||d,v=i.indicators,m=void 0===v||v,y=i.indicatorLabels,g=void 0===y?[]:y,k=i.activeIndex,b=i.onSelect,w=i.onSlide,x=i.onSlid,_=i.interval,I=void 0===_?5e3:_,S=i.keyboard,E=void 0===S||S,T=i.onKeyDown,C=i.pause,N=void 0===C?"hover":C,A=i.onMouseOver,P=i.onMouseOut,D=i.wrap,O=void 0===D||D,R=i.touch,L=void 0===R||R,M=i.onTouchStart,j=i.onTouchMove,F=i.onTouchEnd,U=i.prevIcon,V=void 0===U?(0,ut.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}):U,B=i.prevLabel,z=void 0===B?"Previous":B,q=i.nextIcon,K=void 0===q?(0,ut.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}):q,W=i.nextLabel,H=void 0===W?"Next":W,G=i.variant,Q=i.className,$=i.children,Y=nt(i,ui),J=mt(u,"carousel"),X="rtl"===(0,r.useContext)(vt).dir,Z=(0,r.useRef)(null),ee=c((0,r.useState)("next"),2),te=ee[0],ne=ee[1],re=c((0,r.useState)(!1),2),ie=re[0],ae=re[1],oe=c((0,r.useState)(!1),2),ue=oe[0],se=oe[1],ce=c((0,r.useState)(k||0),2),le=ce[0],fe=ce[1];(0,r.useEffect)((function(){ue||k===le||(Z.current?ne(Z.current):ne((k||0)>le?"next":"prev"),l&&se(!0),fe(k||0))}),[k,ue,le,l]),(0,r.useEffect)((function(){Z.current&&(Z.current=null)}));var he,de=0;!function(e,t){var n=0;r.Children.forEach(e,(function(e){r.isValidElement(e)&&t(e,n++)}))}($,(function(e,t){++de,t===k&&(he=e.props.interval)}));var pe=or(he),ve=(0,r.useCallback)((function(e){if(!ue){var t=le-1;if(t<0){if(!O)return;t=de-1}Z.current="prev",null==b||b(t,e)}}),[ue,le,b,O,de]),me=ur((function(e){if(!ue){var t=le+1;if(t>=de){if(!O)return;t=0}Z.current="next",null==b||b(t,e)}})),ye=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{element:ye.current,prev:ve,next:me}}));var ge=ur((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ye.current)&&(X?ve():me())})),ke="next"===te?"start":"end";sr((function(){l||(null==w||w(le,ke),null==x||x(le,ke))}),[le]);var be="".concat(J,"-item-").concat(te),we="".concat(J,"-item-").concat(ke),xe=(0,r.useCallback)((function(e){!function(e){e.offsetHeight}(e),null==w||w(le,ke)}),[w,le,ke]),_e=(0,r.useCallback)((function(){se(!1),null==x||x(le,ke)}),[x,le,ke]),Ie=(0,r.useCallback)((function(e){if(E&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(X?me(e):ve(e));case"ArrowRight":return e.preventDefault(),void(X?ve(e):me(e))}null==T||T(e)}),[E,T,ve,me,X]),Se=(0,r.useCallback)((function(e){"hover"===N&&ae(!0),null==A||A(e)}),[N,A]),Ee=(0,r.useCallback)((function(e){ae(!1),null==P||P(e)}),[P]),Te=(0,r.useRef)(0),Ce=(0,r.useRef)(0),Ne=hr(),Ae=(0,r.useCallback)((function(e){Te.current=e.touches[0].clientX,Ce.current=0,"hover"===N&&ae(!0),null==M||M(e)}),[N,M]),Pe=(0,r.useCallback)((function(e){e.touches&&e.touches.length>1?Ce.current=0:Ce.current=e.touches[0].clientX-Te.current,null==j||j(e)}),[j]),De=(0,r.useCallback)((function(e){if(L){var t=Ce.current;Math.abs(t)>40&&(t>0?ve(e):me(e))}"hover"===N&&Ne.set((function(){ae(!1)}),I||void 0),null==F||F(e)}),[L,N,ve,me,Ne,I,F]),Oe=null!=I&&!ie&&!ue,Re=(0,r.useRef)();(0,r.useEffect)((function(){var e,t;if(Oe){var n=X?ve:me;return Re.current=window.setInterval(document.visibilityState?ge:n,null!=(e=null!=(t=pe.current)?t:I)?e:void 0),function(){null!==Re.current&&clearInterval(Re.current)}}}),[Oe,ve,me,pe,I,ge,X]);var Le=(0,r.useMemo)((function(){return m&&Array.from({length:de},(function(e,t){return function(e){null==b||b(t,e)}}))}),[m,de,b]);return(0,ut.jsxs)(o,et(et({ref:ye},Y),{},{onKeyDown:Ie,onMouseOver:Se,onMouseOut:Ee,onTouchStart:Ae,onTouchMove:Pe,onTouchEnd:De,className:it()(Q,J,l&&"slide",h&&"".concat(J,"-fade"),G&&"".concat(J,"-").concat(G)),children:[m&&(0,ut.jsx)("div",{className:"".concat(J,"-indicators"),children:St($,(function(e,t){return(0,ut.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=g&&g.length?g[t]:"Slide ".concat(t+1),className:t===le?"active":void 0,onClick:Le?Le[t]:void 0,"aria-current":t===le},t)}))}),(0,ut.jsx)("div",{className:"".concat(J,"-inner"),children:St($,(function(e,t){var n=t===le;return l?(0,ut.jsx)(ai,{in:n,onEnter:n?xe:void 0,onEntered:n?_e:void 0,addEndListener:Kr,children:function(t,i){return r.cloneElement(e,et(et({},i),{},{className:it()(e.props.className,n&&"entered"!==t&&be,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&we)}))}}):r.cloneElement(e,{className:it()(e.props.className,n&&"active")})}))}),p&&(0,ut.jsxs)(ut.Fragment,{children:[(O||0!==k)&&(0,ut.jsxs)(mr,{className:"".concat(J,"-control-prev"),onClick:ve,children:[V,z&&(0,ut.jsx)("span",{className:"visually-hidden",children:z})]}),(O||k!==de-1)&&(0,ut.jsxs)(mr,{className:"".concat(J,"-control-next"),onClick:me,children:[K,H&&(0,ut.jsx)("span",{className:"visually-hidden",children:H})]})]})]}))}));si.displayName="Carousel";var ci=Object.assign(si,{Caption:Ir,Item:Tr}),li=[],fi="MY-PAGE-USER-CART",hi=localStorage.getItem(fi);null!==hi&&(li=JSON.parse(hi));var di=function(e){var t=Se(),n=c((0,r.useState)(li),2),i=n[0],a=n[1];return(0,ut.jsxs)("div",{className:"Productview",children:[(0,ut.jsx)("div",{className:"leftColumn","data-testid":"leftColumn",children:(0,ut.jsx)("img",{src:e.imge,className:"imageDimension","data-testid":"view "+e.imge})}),(0,ut.jsxs)("div",{className:"rightColumn","data-testid":"rightColumn",children:[(0,ut.jsxs)("div",{className:"productNameArea",children:[(0,ut.jsx)("h1",{className:"productName","data-testid":"view "+e.name,children:e.name}),(0,ut.jsx)("div",{className:"productPriceArea",children:(0,ut.jsx)("h5",{className:"productPrice","data-testid":"view "+e.price,children:e.price})}),(0,ut.jsx)("div",{className:"sizeWord",children:(0,ut.jsx)("h3",{children:"Description: "})}),(0,ut.jsx)("div",{className:"sizeOptions","data-testid":"view "+e.description,children:(0,ut.jsx)("p",{children:e.description})})]}),(0,ut.jsx)("div",{className:"userSelectedSize"}),(0,ut.jsxs)("div",{className:"addcart",children:[(0,ut.jsx)("button",{type:"button",className:"btn btn-dark btn-lg",onClick:function(){return t=e.name,n=e.price,r=e.imge,void a([].concat(f(i),[{Product:t,Price:n,Photo:r,Amount:1,productTotal:Number(n)}]));var t,n,r},children:"ADD TO CART \ud83d\uded2"}),(0,ut.jsx)("button",{type:"button",className:"btn btn-dark btn-lg",onClick:function(){return localStorage.setItem(fi,JSON.stringify(i)),void t("/Cart")},children:"Save TO CART \ud83d\uded2"})]})]})]})},pi=[{Product:"Nike mercury ",Description:"nike mercury 12 limited edition",Price:"200",Stock:"94",Brand:"nike",Photo:"https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/503e9eea-02dd-4f8f-91e3-6ad74a9225cc/quest-5-mens-road-running-shoes-1tmPXN.png"},{Product:"Nike mercury3",Description:"nike mercury 13 limited edition",Price:"200",Stock:"94",Brand:"nike",Photo:"https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8c2hvZXN8ZW58MHx8MHx8&w=1000&q=80"},{Product:"Nike Air ZOOM",Description:"nike Air ZOOM",Price:"200",Stock:"94",Brand:"nike",Photo:"https://media.istockphoto.com/id/1320786676/photo/stability-and-cushion-running-shoes-new-unbranded-running-sneaker-or-trainer-on-orange.jpg?s=170667a&w=0&k=20&c=DuOyE_MjpgEmenP0GPOVffO7-Y1J-F9hL-aJ5w4wI84="},{Product:"C.RONALDO JERSEY",Description:"Nike C. RONALDO Portugal Jersey",Price:"200",Stock:"94",Brand:"nike",Photo:"https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/504a9a69-9b64-411b-8673-2c917e55959f/portugal-national-team-2022-23-stadium-home-cristiano-ronaldo-mens-dri-fit-soccer-jersey-xBK2l8.png"},{Product:"L.Messi Jersey",Description:"L. Messi PSG Jersey",Price:"200",Stock:"94",Brand:"nike",Photo:"https://m.media-amazon.com/images/I/51ThXwpW4lL._AC_UY1000_.jpg"}],vi=localStorage.getItem("MY-PAGE-INVE-1");null!==vi&&(pi=JSON.parse(vi));var mi,yi,gi=(mi=pi,yi=3,Array.from({length:Math.ceil(mi.length/yi)},(function(e,t){return mi.slice(t*yi,t*yi+yi)})));var ki=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1],i=c((0,r.useState)({Product:"",Description:"",Price:"",Photo:""}),2),a=i[0],o=i[1];return(0,ut.jsxs)("div",{children:[(0,ut.jsx)("h1",{className:"landing-title",children:"Shop All"}),gi.map((function(e,r){return(0,ut.jsx)(ci,{className:"carousel-wrapper","data-testid":"carousel",children:(0,ut.jsx)(ci.Item,{className:"carousel-items",children:(0,ut.jsx)(ar,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:4,children:e.map((function(e){return(0,ut.jsxs)(tr,{className:"card","data-testid":"card"+e.Product,children:[(0,ut.jsxs)("div",{className:"card-img-wrapper",children:[(0,ut.jsx)(tr.Img,{className:"card-img",src:e.Photo}),(0,ut.jsx)("div",{className:"overlay","data-testid":"overlay"+e.Product,children:(0,ut.jsx)(yn,{className:"buy-btn","data-testid":"buy-btn"+e.Product,variant:"light",onClick:function(){return r=e.Product,i=e.Description,a=e.Price,u=e.Photo,n(!t),void o({Product:r,Description:i,Price:a,Photo:u});var r,i,a,u},children:"PRODUCT VIEW"})})]}),(0,ut.jsxs)(tr.Body,{className:"card-details",children:[(0,ut.jsx)(tr.Text,{className:"product-type",children:(0,ut.jsx)("a",{children:e.Description})}),(0,ut.jsx)(tr.Text,{className:"product-price",children:e.Price})]})]},e.Product)}))},r)},r)},r)})),1==t?(0,ut.jsx)("div",{"data-testid":"pview"+a.Product,children:(0,ut.jsx)(di,{name:a.Product,price:a.Price,imge:a.Photo,description:a.Description})}):null]})},bi=n.p+"static/media/r7.499bf6e1f324a51ee496.jpg",wi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new _i;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_i=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return m(n)}(I(Error)),Ii=function(e){return function(e){var t=wi(e);return xi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Si=function(e){try{return xi.decodeString(e,!0)}catch(VF){console.error("base64Decode failed: ",VF)}return null};function Ei(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ei(e[n],t[n]));return e}var Ti=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Ci=function(){try{return Ti()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(VF){return}var t=e&&Si(e[1]);return t&&JSON.parse(t)}}()}catch(VF){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(VF))}},Ni=function(){var e;return null===(e=Ci())||void 0===e?void 0:e.config},Ai=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Pi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Di(){var e,t=null===(e=Ci())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(VF){return!1}}function Oi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ri(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Li(){var e=Pi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Mi(){try{return"object"===typeof indexedDB}catch(VF){return!1}}var ji=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),Fi.prototype.create),a}return m(n)}(I(Error)),Fi=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ui,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ji(n,a,t)}}]),e}();var Ui=/\{\$([^}]+)}/g;function Vi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Bi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function zi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(qi(u)&&qi(s)){if(!zi(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function qi(e){return null!==e&&"object"===typeof e}function Ki(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Wi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Hi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Gi(e,t){var n=new Qi(e,t);return n.subscribe.bind(n)}var Qi=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=E(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$i),void 0===r.error&&(r.error=$i),void 0===r.complete&&(r.complete=$i);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(VF){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(VF){"undefined"!==typeof console&&console.error&&console.error(VF)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $i(){}function Yi(e){return e&&e._delegate?e._delegate:e}function Ji(){Ji=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function h(){}function p(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==d(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Xi(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Zi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xi(a,r,i,o,u,"next",e)}function u(e){Xi(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ea=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ta="[DEFAULT]",na=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ai;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(VF){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(VF){if(r)return null;throw VF}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch(VF){}var t,n=E(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(VF){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Zi(Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(f(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),f(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=E(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1];r===this.normalizeInstanceIdentifier(s)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(DO){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ta?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(DO){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;return this.component?this.component.multipleInstances?e:ta:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ra,ia,aa=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new na(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),oa=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ia||(ia={}));var ua={debug:ia.DEBUG,verbose:ia.VERBOSE,info:ia.INFO,warn:ia.WARN,error:ia.ERROR,silent:ia.SILENT},sa=ia.INFO,ca=(Xe(ra={},ia.DEBUG,"log"),Xe(ra,ia.VERBOSE,"log"),Xe(ra,ia.INFO,"info"),Xe(ra,ia.WARN,"warn"),Xe(ra,ia.ERROR,"error"),ra),la=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ca[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},fa=function(){function e(t){h(this,e),this.name=t,this._logLevel=sa,this._logHandler=la,this._userLogHandler=null,oa.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ia))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ua[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ia.DEBUG].concat(t)),this._logHandler.apply(this,[this,ia.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ia.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ia.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ia.INFO].concat(t)),this._logHandler.apply(this,[this,ia.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ia.WARN].concat(t)),this._logHandler.apply(this,[this,ia.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ia.ERROR].concat(t)),this._logHandler.apply(this,[this,ia.ERROR].concat(t))}}]),e}();var ha,da,pa=function(e,t){return t.some((function(t){return e instanceof t}))};var va=new WeakMap,ma=new WeakMap,ya=new WeakMap,ga=new WeakMap,ka=new WeakMap;var ba={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ma.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ya.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _a(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function wa(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(da||(da=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ia(this),n),_a(va.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _a(e.apply(Ia(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ia(this),t].concat(r));return ya.set(a,t.sort?t.sort():[t]),_a(a)}}function xa(e){return"function"===typeof e?wa(e):(e instanceof IDBTransaction&&function(e){if(!ma.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ma.set(e,t)}}(e),pa(e,ha||(ha=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ba):e)}function _a(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(_a(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&va.set(t,e)})).catch((function(){})),ka.set(t,e),t}(e);if(ga.has(e))return ga.get(e);var t=xa(e);return t!==e&&(ga.set(e,t),ka.set(t,e)),t}var Ia=function(e){return ka.get(e)};var Sa,Ea,Ta=["get","getKey","getAll","getAllKeys","count"],Ca=["put","add","delete","clear"],Na=new Map;function Aa(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Na.get(t))return Na.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ca.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ta.includes(n))){var a=function(){var e=Zi(Ji().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Na.set(t,a),a}}}ba=function(e){return et(et({},e),{},{get:function(t,n,r){return Aa(t,n)||e.get(t,n,r)},has:function(t,n){return!!Aa(t,n)||e.has(t,n)}})}(ba);var Pa=function(){function e(t){h(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Da="@firebase/app",Oa="0.9.10",Ra=new fa("@firebase/app"),La="[DEFAULT]",Ma=(Xe(Sa={},Da,"fire-core"),Xe(Sa,"@firebase/app-compat","fire-core-compat"),Xe(Sa,"@firebase/analytics","fire-analytics"),Xe(Sa,"@firebase/analytics-compat","fire-analytics-compat"),Xe(Sa,"@firebase/app-check","fire-app-check"),Xe(Sa,"@firebase/app-check-compat","fire-app-check-compat"),Xe(Sa,"@firebase/auth","fire-auth"),Xe(Sa,"@firebase/auth-compat","fire-auth-compat"),Xe(Sa,"@firebase/database","fire-rtdb"),Xe(Sa,"@firebase/database-compat","fire-rtdb-compat"),Xe(Sa,"@firebase/functions","fire-fn"),Xe(Sa,"@firebase/functions-compat","fire-fn-compat"),Xe(Sa,"@firebase/installations","fire-iid"),Xe(Sa,"@firebase/installations-compat","fire-iid-compat"),Xe(Sa,"@firebase/messaging","fire-fcm"),Xe(Sa,"@firebase/messaging-compat","fire-fcm-compat"),Xe(Sa,"@firebase/performance","fire-perf"),Xe(Sa,"@firebase/performance-compat","fire-perf-compat"),Xe(Sa,"@firebase/remote-config","fire-rc"),Xe(Sa,"@firebase/remote-config-compat","fire-rc-compat"),Xe(Sa,"@firebase/storage","fire-gcs"),Xe(Sa,"@firebase/storage-compat","fire-gcs-compat"),Xe(Sa,"@firebase/firestore","fire-fst"),Xe(Sa,"@firebase/firestore-compat","fire-fst-compat"),Xe(Sa,"fire-js","fire-js"),Xe(Sa,"firebase","fire-js-all"),Sa),ja=new Map,Fa=new Map;function Ua(e,t){try{e.container.addComponent(t)}catch(VF){Ra.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),VF)}}function Va(e,t){e.container.addOrOverwriteComponent(t)}function Ba(e){var t=e.name;if(Fa.has(t))return Ra.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fa.set(t,e);var n,r=E(ja.values());try{for(r.s();!(n=r.n()).done;){Ua(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function za(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:La;za(e,t).clearInstance(n)}function Ka(){Fa.clear()}var Wa=(Xe(Ea={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Xe(Ea,"bad-app-name","Illegal App name: '{$appName}"),Xe(Ea,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Xe(Ea,"app-deleted","Firebase App named '{$appName}' already deleted"),Xe(Ea,"no-options","Need to provide options, when not being deployed to hosting via source."),Xe(Ea,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Xe(Ea,"invalid-log-argument","First argument to `onLog` must be null or a function."),Xe(Ea,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Xe(Ea,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Xe(Ea,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Xe(Ea,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ea),Ha=new Fi("app","Firebase",Wa),Ga=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ea("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}]),e}(),Qa="9.22.0";function $a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:La,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ha.create("bad-app-name",{appName:String(i)});if(n||(n=Ni()),!n)throw Ha.create("no-options");var a=ja.get(i);if(a){if(zi(n,a.options)&&zi(r,a.config))return a;throw Ha.create("duplicate-app",{appName:i})}var o,u=new aa(i),s=E(Fa.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Ga(n,r,u);return ja.set(i,l),l}function Ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=ja.get(e);if(!t&&e===La&&Ni())return $a();if(!t)throw Ha.create("no-app",{appName:e});return t}function Ja(){return Array.from(ja.values())}function Xa(e){return Za.apply(this,arguments)}function Za(){return(Za=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ja.has(n)){e.next=6;break}return ja.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(e,t,n){var r,i=null!==(r=Ma[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ra.warn(u.join(" "))}Ba(new ea("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function to(e,t){if(null!==e&&"function"!==typeof e)throw Ha.create("invalid-log-argument");!function(e,t){var n,r=E(oa);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ua[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ia[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function no(e){var t;t=e,oa.forEach((function(e){e.setLogLevel(t)}))}var ro="firebase-heartbeat-database",io=1,ao="firebase-heartbeat-store",oo=null;function uo(){return oo||(oo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=_a(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(_a(u.result),e.oldVersion,e.newVersion,_a(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(ro,io,{upgrade:function(e,t){if(0===t)e.createObjectStore(ao)}}).catch((function(e){throw Ha.create("idb-open",{originalErrorMessage:e.message})}))),oo}function so(e){return co.apply(this,arguments)}function co(){return co=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uo();case 3:return n=e.sent,e.next=6,n.transaction(ao).objectStore(ao).get(ho(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof ji?Ra.warn(e.t0.message):(i=Ha.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ra.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),co.apply(this,arguments)}function lo(e,t){return fo.apply(this,arguments)}function fo(){return fo=Zi(Ji().mark((function e(t,n){var r,i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uo();case 3:return r=e.sent,i=r.transaction(ao,"readwrite"),a=i.objectStore(ao),e.next=8,a.put(n,ho(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof ji?Ra.warn(e.t0.message):(o=Ha.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ra.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),fo.apply(this,arguments)}function ho(e){return"".concat(e.name,"!").concat(e.options.appId)}var po=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ko(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return m(e,[{key:"triggerHeartbeat",value:function(){var e=Zi(Ji().mark((function e(){var t,n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=vo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Zi(Ji().mark((function e(){var t,n,r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=vo(),n=mo(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ii(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vo(){return(new Date).toISOString().substring(0,10)}function mo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=E(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),bo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),bo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var yo,go,ko=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Zi(Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,so(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",lo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",lo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(f(r.heartbeats),f(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function bo(e){return Ii(JSON.stringify({version:2,heartbeats:e})).length}yo="",Ba(new ea("platform-logger",(function(e){return new Pa(e)}),"PRIVATE")),Ba(new ea("heartbeat",(function(e){return new po(e)}),"PRIVATE")),eo(Da,Oa,yo),eo(Da,Oa,"esm2017"),eo("fire-js","");var wo=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,Ua(t,new ea("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Xa(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:La;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:La;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ua(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Va(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),xo=(Xe(go={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Xe(go,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),go),_o=new Fi("app-compat","Firebase",xo);var Io=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=$a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Vi(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:eo,setLogLevel:no,onLog:to,apps:null,SDK_VERSION:Qa,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ba(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw _o.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ei(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Vi(n,e=e||La))throw _o.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(wo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ei(n,e)},createSubscribe:Gi,ErrorFactory:Fi,deepExtend:Ei}),n}(),So=new fa("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){So.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Eo=self.firebase.SDK_VERSION;Eo&&Eo.indexOf("LITE")>=0&&So.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var To=Io;!function(e){eo("@firebase/app-compat","0.2.10",e)}();function Co(){return Co="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Co.apply(this,arguments)}To.registerVersion("firebase","9.22.0","app-compat");function No(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ao;Object.create;var Po={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Do="EMAIL_SIGNIN",Oo="PASSWORD_RESET",Ro="RECOVER_EMAIL",Lo="REVERT_SECOND_FACTOR_ADDITION",Mo="VERIFY_AND_CHANGE_EMAIL",jo="VERIFY_EMAIL";function Fo(){return Xe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Uo=function(){var e;return Xe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Xe(e,"argument-error",""),Xe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Xe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Xe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Xe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Xe(e,"cordova-not-ready","Cordova framework is not ready."),Xe(e,"cors-unsupported","This browser is not supported."),Xe(e,"credential-already-in-use","This credential is already associated with a different user account."),Xe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Xe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Xe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Xe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Xe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Xe(e,"email-already-in-use","The email address is already in use by another account."),Xe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Xe(e,"expired-action-code","The action code has expired."),Xe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Xe(e,"internal-error","An internal AuthError has occurred."),Xe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Xe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Xe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Xe(e,"invalid-auth-event","An internal AuthError has occurred."),Xe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Xe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Xe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Xe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Xe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Xe(e,"invalid-email","The email address is badly formatted."),Xe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Xe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Xe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Xe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Xe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Xe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Xe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Xe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Xe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Xe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Xe(e,"wrong-password","The password is invalid or the user does not have a password."),Xe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Xe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Xe(e,"invalid-provider-id","The specified provider ID is invalid."),Xe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Xe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Xe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Xe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Xe(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Xe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Xe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Xe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Xe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Xe(e,"missing-continue-uri","A continue URL must be provided in the request."),Xe(e,"missing-iframe-start","An internal AuthError has occurred."),Xe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Xe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Xe(e,"missing-password","A non-empty password must be provided"),Xe(e,"missing-multi-factor-info","No second factor identifier is provided."),Xe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Xe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Xe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Xe(e,"app-deleted","This instance of FirebaseApp has been deleted."),Xe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Xe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Xe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Xe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Xe(e,"no-auth-event","An internal AuthError has occurred."),Xe(e,"no-such-provider","User was not linked to an account with the given provider."),Xe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Xe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Xe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Xe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Xe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Xe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Xe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Xe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Xe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Xe(e,"rejected-credential","The request contains malformed or mismatching credentials."),Xe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Xe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Xe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Xe(e,"timeout","The operation has timed out."),Xe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Xe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Xe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Xe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Xe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Xe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Xe(e,"unverified-email","The operation requires a verified email."),Xe(e,"user-cancelled","The user did not grant your application the permissions it requested."),Xe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Xe(e,"user-disabled","The user account has been disabled by an administrator."),Xe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Xe(e,"user-signed-out",""),Xe(e,"weak-password","The password must be 6 characters long or more."),Xe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Xe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Xe(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Xe(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Xe(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Xe(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Xe(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Xe(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Xe(e,"invalid-req-type","Invalid request parameters."),Xe(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},Vo=Fo,Bo=new Fi("auth","Firebase",Fo()),zo=new fa("@firebase/auth");function qo(e){if(zo.logLevel<=ia.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zo.warn.apply(zo,["Auth (".concat(Qa,"): ").concat(e)].concat(n))}}function Ko(e){if(zo.logLevel<=ia.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zo.error.apply(zo,["Auth (".concat(Qa,"): ").concat(e)].concat(n))}}function Wo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $o.apply(void 0,[e].concat(n))}function Ho(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $o.apply(void 0,[e].concat(n))}function Go(e,t,n){var r=Object.assign(Object.assign({},Vo()),Xe({},t,n));return new Fi("auth","Firebase",r).create(t,{appName:e.name})}function Qo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Wo(e,"argument-error"),Go(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function $o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=f(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(f(o)))}return Bo.create.apply(Bo,[e].concat(n))}function Yo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $o.apply(void 0,[t].concat(r))}}function Jo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ko(t),new Error(t)}function Xo(e,t){e||Jo(t)}function Zo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function eu(){return"http:"===tu()||"https:"===tu()}function tu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var nu=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,Xo(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pi())||Ri()}return m(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(eu()||Oi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ru(e,t){Xo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var iu=function(){function e(){h(this,e)}return m(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Jo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Jo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Jo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),au=(Xe(Ao={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Xe(Ao,"MISSING_CUSTOM_TOKEN","internal-error"),Xe(Ao,"INVALID_IDENTIFIER","invalid-email"),Xe(Ao,"MISSING_CONTINUE_URI","internal-error"),Xe(Ao,"INVALID_PASSWORD","wrong-password"),Xe(Ao,"MISSING_PASSWORD","missing-password"),Xe(Ao,"EMAIL_EXISTS","email-already-in-use"),Xe(Ao,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Xe(Ao,"INVALID_IDP_RESPONSE","invalid-credential"),Xe(Ao,"INVALID_PENDING_TOKEN","invalid-credential"),Xe(Ao,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Xe(Ao,"MISSING_REQ_TYPE","internal-error"),Xe(Ao,"EMAIL_NOT_FOUND","user-not-found"),Xe(Ao,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Xe(Ao,"EXPIRED_OOB_CODE","expired-action-code"),Xe(Ao,"INVALID_OOB_CODE","invalid-action-code"),Xe(Ao,"MISSING_OOB_CODE","internal-error"),Xe(Ao,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Xe(Ao,"INVALID_ID_TOKEN","invalid-user-token"),Xe(Ao,"TOKEN_EXPIRED","user-token-expired"),Xe(Ao,"USER_NOT_FOUND","user-token-expired"),Xe(Ao,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Xe(Ao,"INVALID_CODE","invalid-verification-code"),Xe(Ao,"INVALID_SESSION_INFO","invalid-verification-id"),Xe(Ao,"INVALID_TEMPORARY_PROOF","invalid-credential"),Xe(Ao,"MISSING_SESSION_INFO","missing-verification-id"),Xe(Ao,"SESSION_EXPIRED","code-expired"),Xe(Ao,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Xe(Ao,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Xe(Ao,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Xe(Ao,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Xe(Ao,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Xe(Ao,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Xe(Ao,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Xe(Ao,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Xe(Ao,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Xe(Ao,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Xe(Ao,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Xe(Ao,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Xe(Ao,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Xe(Ao,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Xe(Ao,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Xe(Ao,"MISSING_CLIENT_TYPE","missing-client-type"),Xe(Ao,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Xe(Ao,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Xe(Ao,"INVALID_REQ_TYPE","invalid-req-type"),Ao),ou=new nu(3e4,6e4);function uu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function su(e,t,n,r){return cu.apply(this,arguments)}function cu(){return cu=Zi(Ji().mark((function e(t,n,r,i){var a,o=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",lu(t,a,Zi(Ji().mark((function e(){var a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ki(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",iu.fetch()(pu(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(e,t,n){return fu.apply(this,arguments)}function fu(){return fu=Zi(Ji().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},au),n),e.prev=2,a=new vu(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw mu(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw mu(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw mu(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw mu(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Go(t,p,d);case 34:Wo(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ji)){e.next=41;break}throw e.t0;case 41:Wo(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),fu.apply(this,arguments)}function hu(e,t,n,r){return du.apply(this,arguments)}function du(){return du=Zi(Ji().mark((function e(t,n,r,i){var a,o,u=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,su(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Wo(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ru(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var vu=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ho(n.auth,"network-request-failed"))}),ou.get())}))}return m(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function mu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ho(e,t,r);return i.customData._tokenResponse=n,i}function yu(e,t){return gu.apply(this,arguments)}function gu(){return(gu=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e,t){return bu.apply(this,arguments)}function bu(){return(bu=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wu(e,t){return xu.apply(this,arguments)}function xu(){return(xu=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(VF){}}function Iu(){return Iu=Zi(Ji().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Yi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Yo((a=Eu(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:_u(Su(a.auth_time)),issuedAtTime:_u(Su(a.iat)),expirationTime:_u(Su(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Su(e){return 1e3*Number(e)}function Eu(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ko("JWT malformed, contained fewer than 3 sections"),null;try{var a=Si(r);return a?JSON.parse(a):(Ko("Failed to decode base64 JWT payload"),null)}catch(VF){return Ko("Caught error parsing JWT payload as JSON",null===VF||void 0===VF?void 0:VF.toString()),null}}function Tu(e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=Zi(Ji().mark((function e(t,n){var r=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ji&&Nu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Cu.apply(this,arguments)}function Nu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Au=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return m(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Zi(Ji().mark((function t(){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Pu=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return m(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Du(e){return Ou.apply(this,arguments)}function Ou(){return Ou=Zi(Ji().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Tu(t,wu(r,{idToken:i}));case 6:Yo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=No(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=Lu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Pu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Ru(){return(Ru=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yi(t),e.next=3,Du(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(f(n),f(t))}function Mu(e,t){return ju.apply(this,arguments)}function ju(){return(ju=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lu(t,{},Zi(Ji().mark((function e(){var r,i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ki({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=pu(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",iu.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fu=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return m(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Yo(e.idToken,"internal-error"),Yo("undefined"!==typeof e.idToken,"internal-error"),Yo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Eu(e);return Yo(t,"internal-error"),Yo("undefined"!==typeof t.exp,"internal-error"),Yo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Zi(Ji().mark((function e(t){var n,r=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Yo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Zi(Ji().mark((function e(t,n){var r,i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mu(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Jo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Yo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Yo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Yo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Uu(e,t){Yo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Vu=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=No(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Au(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?f(a.providerData):[],this.metadata=new Pu(a.createdAt||void 0,a.lastLoginAt||void 0)}return m(e,[{key:"getIdToken",value:function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Yo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Iu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ru.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Yo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Yo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Zi(Ji().mark((function e(t){var n,r,i=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Du(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Zi(Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Tu(this,yu(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Yo(k&&_,t,"internal-error");var I=Fu.fromJSON(this.name,_);Yo("string"===typeof k,t,"internal-error"),Uu(f,t.name),Uu(h,t.name),Yo("boolean"===typeof b,t,"internal-error"),Yo("boolean"===typeof w,t,"internal-error"),Uu(d,t.name),Uu(p,t.name),Uu(v,t.name),Uu(m,t.name),Uu(y,t.name),Uu(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Zi(Ji().mark((function t(n,r){var i,a,o,u=arguments;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Fu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Du(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Bu=new Map;function zu(e){Xo(e instanceof Function,"Expected a class definition");var t=Bu.get(e);return t?(Xo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Bu.set(e,t),t)}var qu=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return m(e,[{key:"_isAvailable",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();qu.type="NONE";var Ku=qu;function Wu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Hu=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Wu(this.userKey,a.apiKey,o),this.fullPersistenceKey=Wu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return m(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Zi(Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Vu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Zi(Ji().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(zu(Ku),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||zu(Ku),u=Wu(i,n.config.apiKey,n.name),s=null,c=E(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Vu._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Gu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ju(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zu(t))return"Blackberry";if(es(t))return"Webos";if($u(t))return"Safari";if((t.includes("chrome/")||Yu(t))&&!t.includes("edge/"))return"Chrome";if(Xu(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Qu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/firefox\//i.test(e)}function $u(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/crios\//i.test(e)}function Ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/iemobile/i.test(e)}function Xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/android/i.test(e)}function Zu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/blackberry/i.test(e)}function es(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/webos/i.test(e)}function ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return ts(e)||Xu(e)||es(e)||Zu(e)||/windows phone/i.test(e)||Ju(e)}function rs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Gu(Pi());break;case"Worker":t="".concat(Gu(Pi()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Qa,"/").concat(r)}function is(e){return as.apply(this,arguments)}function as(){return(as=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,su(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e,t){return us.apply(this,arguments)}function us(){return(us=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(t,"GET","/v2/recaptchaConfig",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ss(e){return void 0!==e&&void 0!==e.getResponse}function cs(e){return void 0!==e&&void 0!==e.enterprise}var ls=m((function e(t){if(h(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function fs(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ho("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function hs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ds=function(){function e(t){h(this,e),this.type="recaptcha-enterprise",this.auth=gs(t)}return m(e,[{key:"verify",value:function(){var e=Zi(Ji().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;cs(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Zi(Ji().mark((function e(n,r){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:os(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new ls(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&cs(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));fs("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ps(e,t,n){return vs.apply(this,arguments)}function vs(){return vs=Zi(Ji().mark((function e(t,n,r){var i,a,o,u,s=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new ds(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),vs.apply(this,arguments)}var ms=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return m(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(VF){r(VF)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Zi(Ji().mark((function e(t){var n,r,i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=E(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=E(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(dj){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ys=function(){function e(t,n,r,i){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ks(this),this.idTokenSubscription=new ks(this),this.beforeStateQueue=new ms(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return m(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=zu(t)),this._initializationPromise=this.queue(Zi(Ji().mark((function r(){var i,a;return Ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Hu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Zi(Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Zi(Ji().mark((function e(t){var n,r,i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Yo(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Du(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Yi(t):null)&&Yo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Zi(Ji().mark((function e(t){var n,r=this,i=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Yo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Zi(Ji().mark((function n(){return Ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(zu(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Zi(Ji().mark((function e(){var t,n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,os(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new ls(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new ds(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Fi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Yo(n=t&&zu(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Hu.create(this,[zu(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Zi(Ji().mark((function e(t){var n=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Yo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Yo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rs(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Zi(Ji().mark((function e(){var t,n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Zi(Ji().mark((function e(){var t,n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&qo("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gs(e){return Yi(e)}var ks=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=Gi((function(e){return n.observer=e}))}return m(e,[{key:"next",get:function(){return Yo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function bs(e,t,n){var r=gs(e);Yo(r._canInitEmulator,r,"emulator-config-failed"),Yo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ws(t),o=function(e){var t=ws(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:xs(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:xs(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ws(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xs(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var _s=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return m(e,[{key:"toJSON",value:function(){return Jo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Jo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Jo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Jo("not implemented")}}]),e}();function Is(e,t){return Ss.apply(this,arguments)}function Ss(){return(Ss=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(t,"POST","/v1/accounts:resetPassword",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(e,t){return Ts.apply(this,arguments)}function Ts(){return(Ts=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cs(e,t){return Ns.apply(this,arguments)}function Ns(){return(Ns=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(t,"POST","/v1/accounts:update",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function As(e,t){return Ps.apply(this,arguments)}function Ps(){return(Ps=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hu(t,"POST","/v1/accounts:signInWithPassword",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ds(e,t){return Os.apply(this,arguments)}function Os(){return(Os=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(t,"POST","/v1/accounts:sendOobCode",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rs(e,t){return Ls.apply(this,arguments)}function Ls(){return(Ls=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ms(e,t){return js.apply(this,arguments)}function js(){return(js=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return(Us=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vs(e,t){return Bs.apply(this,arguments)}function Bs(){return(Bs=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(e,t){return qs.apply(this,arguments)}function qs(){return(qs=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hu(t,"POST","/v1/accounts:signInWithEmailLink",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ks(e,t){return Ws.apply(this,arguments)}function Ws(){return(Ws=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hu(t,"POST","/v1/accounts:signInWithEmailLink",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hs=function(e){g(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return m(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,ps(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",As(t,i));case 11:return e.abrupt("return",As(t,r).catch(function(){var e=Zi(Ji().mark((function e(n){var i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,ps(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",As(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",zs(t,{email:this._email,oobCode:this._password}));case 13:Wo(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Es(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ks(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Wo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(_s);function Gs(e,t){return Qs.apply(this,arguments)}function Qs(){return(Qs=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hu(t,"POST","/v1/accounts:signInWithIdp",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $s=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return m(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Gs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ki(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wo("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=No(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(_s);function Ys(e,t){return Js.apply(this,arguments)}function Js(){return(Js=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(t,"POST","/v1/accounts:sendVerificationCode",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xs(){return(Xs=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hu(t,"POST","/v1/accounts:signInWithPhoneNumber",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zs(){return(Zs=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hu(t,"POST","/v1/accounts:signInWithPhoneNumber",uu(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw mu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ec=Xe({},"USER_NOT_FOUND","user-not-found");function tc(){return(tc=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",hu(t,"POST","/v1/accounts:signInWithPhoneNumber",uu(t,r),ec));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nc=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Xs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Zs.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return tc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(_s);var rc=function(){function e(t){var n,r,i,a,o,u;h(this,e);var s=Wi(Hi(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Yo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return m(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Wi(Hi(e)).link,n=t?Wi(Hi(t)).deep_link_id:null,r=Wi(Hi(e)).deep_link_id;return(r?Wi(Hi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(DO){return null}}}]),e}();var ic=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return m(e,null,[{key:"credential",value:function(e,t){return Hs._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=rc.parseLink(t);return Yo(n,"argument-error"),Hs._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ic.PROVIDER_ID="password",ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ac=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return m(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),oc=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return m(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return f(this.scopes)}}]),n}(ac),uc=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Yo(e.idToken||e.accessToken,"argument-error"),$s._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Yo("providerId"in t&&"signInMethod"in t,"argument-error"),$s._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(VF){return null}}}]),n}(oc),sc=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"facebook.com")}return m(n,null,[{key:"credential",value:function(e){return $s._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(DO){return null}}}]),n}(oc);sc.FACEBOOK_SIGN_IN_METHOD="facebook.com",sc.PROVIDER_ID="facebook.com";var cc=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return m(n,null,[{key:"credential",value:function(e,t){return $s._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(DO){return null}}}]),n}(oc);cc.GOOGLE_SIGN_IN_METHOD="google.com",cc.PROVIDER_ID="google.com";var lc=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"github.com")}return m(n,null,[{key:"credential",value:function(e){return $s._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(DO){return null}}}]),n}(oc);lc.GITHUB_SIGN_IN_METHOD="github.com",lc.PROVIDER_ID="github.com";var fc=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return m(n,[{key:"_getIdTokenResponse",value:function(e){return Gs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gs(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(_s),hc=function(e){g(n,e);var t=x(n);function n(e){return h(this,n),Yo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return m(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=fc.fromJSON(e);return Yo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return fc._create(r,n)}catch(VF){return null}}}]),n}(ac),dc=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"twitter.com")}return m(n,null,[{key:"credential",value:function(e,t){return $s._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(DO){return null}}}]),n}(oc);function pc(e,t){return vc.apply(this,arguments)}function vc(){return(vc=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hu(t,"POST","/v1/accounts:signUp",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}dc.TWITTER_SIGN_IN_METHOD="twitter.com",dc.PROVIDER_ID="twitter.com";var mc=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return m(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Zi(Ji().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Vu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=yc(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Zi(Ji().mark((function t(n,r,i){var a;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=yc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function yc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function gc(){return gc=Zi(Ji().mark((function e(t){var n,r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gs(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new mc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,pc(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,mc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}var kc=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o,u;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return m(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ji);function bc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw kc._fromErrorAndOperation(e,n,t,r);throw n}))}function wc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function xc(e,t){return _c.apply(this,arguments)}function _c(){return _c=Zi(Ji().mark((function e(t,n){var r,i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yi(t),e.next=3,Ec(!0,r,n);case 3:return e.t0=ku,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=wc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function Ic(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=Zi(Ji().mark((function e(t,n){var r,i,a=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Tu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",mc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ec(e,t,n){return Tc.apply(this,arguments)}function Tc(){return(Tc=Zi(Ji().mark((function e(t,n,r){var i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(n);case 2:i=wc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Yo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cc(e,t){return Nc.apply(this,arguments)}function Nc(){return Nc=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Tu(t,bc(i,a,n,t),r);case 6:return Yo((o=e.sent).idToken,i,"internal-error"),Yo(u=Eu(o.idToken),i,"internal-error"),s=u.sub,Yo(t.uid===s,i,"user-mismatch"),e.abrupt("return",mc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Wo(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Nc.apply(this,arguments)}function Ac(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=Zi(Ji().mark((function e(t,n){var r,i,a,o,u=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,bc(t,i,n);case 4:return a=e.sent,e.next=7,mc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Dc(e,t){return Oc.apply(this,arguments)}function Oc(){return(Oc=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ac(gs(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(e,t){return Lc.apply(this,arguments)}function Lc(){return(Lc=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yi(t),e.next=3,Ec(!1,r,n.providerId);case 3:return e.abrupt("return",Ic(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(e,t){return jc.apply(this,arguments)}function jc(){return(jc=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cc(Yi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(e,t){return Uc.apply(this,arguments)}function Uc(){return(Uc=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hu(t,"POST","/v1/accounts:signInWithCustomToken",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vc(){return(Vc=Zi(Ji().mark((function e(t,n){var r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gs(t),e.next=3,Fc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,mc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bc=function(){function e(t,n){h(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return m(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?zc._fromServerResponse(e,t):"totpInfo"in t?qc._fromServerResponse(e,t):Wo(e,"internal-error")}}]),e}(),zc=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return m(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Bc),qc=function(e){g(n,e);var t=x(n);function n(e){return h(this,n),t.call(this,"totp",e)}return m(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Bc);function Kc(e,t,n){var r;Yo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Yo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Yo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Yo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Wc(){return Wc=Zi(Ji().mark((function e(t,n,r){var i,a,o,u;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=gs(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,ps(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&Kc(a,u,r),e.next=9,Ms(a,u);case 9:e.next=14;break;case 11:return r&&Kc(a,o,r),e.next=14,Ms(a,o).catch(function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,ps(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Kc(a,n,r),e.next=8,Ms(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function Hc(){return(Hc=Zi(Ji().mark((function e(t,n,r){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Is(Yi(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gc(){return(Gc=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cs(Yi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qc(e,t){return $c.apply(this,arguments)}function $c(){return($c=Zi(Ji().mark((function e(t,n){var r,i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yi(t),e.next=3,Is(r,{oobCode:n});case 3:i=e.sent,Yo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Yo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Yo(i.mfaInfo,r,"internal-error");case 13:Yo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Bc._fromServerResponse(gs(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(){return(Yc=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qc(Yi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jc(e,t,n){return Xc.apply(this,arguments)}function Xc(){return Xc=Zi(Ji().mark((function e(t,n,r){var i,a,o,u,s,c,l;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=gs(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,ps(a,o,"signUpPassword");case 5:s=e.sent,u=pc(a,s),e.next=10;break;case 9:u=pc(a,o).catch(function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,ps(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",pc(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,mc._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}function Zc(){return Zc=Zi(Ji().mark((function e(t,n,r){var i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Yo(t.handleCodeInApp,a,"argument-error"),t&&Kc(a,e,t)},a=gs(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,ps(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,Fs(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,Fs(a,o).catch(function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,ps(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,Fs(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}function el(){return(el=Zi(Ji().mark((function e(t,n,r){var i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yi(t),Yo((a=ic.credentialWithLink(n,r||Zo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Dc(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tl(e,t){return nl.apply(this,arguments)}function nl(){return(nl=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(t,"POST","/v1/accounts:createAuthUri",uu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rl(){return(rl=Zi(Ji().mark((function e(t,n){var r,i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eu()?Zo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,tl(Yi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function il(){return(il=Zi(Ji().mark((function e(t,n){var r,i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Kc(r.auth,a,n),e.next=8,Rs(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function al(){return(al=Zi(Ji().mark((function e(t,n,r){var i,a,o,u;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Kc(i.auth,o,r),e.next=8,Vs(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ol(e,t){return ul.apply(this,arguments)}function ul(){return(ul=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sl(){return(sl=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s,c;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Yi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Tu(a,ol(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cl(e,t,n){return ll.apply(this,arguments)}function ll(){return(ll=Zi(Ji().mark((function e(t,n,r){var i,a,o,u;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Tu(t,Es(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fl=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),hl=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i)).username=a,o}return m(n)}(fl),dl=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"facebook.com",r)}return m(n)}(fl),pl=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return m(n)}(hl),vl=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"google.com",r)}return m(n)}(fl),ml=function(e){g(n,e);var t=x(n);function n(e,r,i){return h(this,n),t.call(this,e,"twitter.com",r,i)}return m(n)}(hl);function yl(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Eu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new fl(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new dl(a,i);case"github.com":return new pl(a,i);case"google.com":return new vl(a,i);case"twitter.com":return new ml(a,i,e.screenName||null);case"custom":case"anonymous":return new fl(a,null);default:return new fl(a,r,i)}}(n)}var gl=function(){function e(t,n,r){h(this,e),this.type=t,this.credential=n,this.auth=r}return m(e,[{key:"toJSON",value:function(){return{multiFactorSession:Xe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),kl=function(){function e(t,n,r){h(this,e),this.session=t,this.hints=n,this.signInResolver=r}return m(e,[{key:"resolveSignIn",value:function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=gs(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Bc._fromServerResponse(r,e)}));Yo(i.mfaPendingCredential,r,"internal-error");var o=gl._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Zi(Ji().mark((function e(t){var a,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,mc._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Yo(n.user,r,"internal-error"),e.abrupt("return",mc._forOperation(n.user,n.operationType,u));case 17:Wo(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function bl(e,t){return su(e,"POST","/v2/accounts/mfaEnrollment:start",uu(e,t))}function wl(e,t){return su(e,"POST","/v2/accounts/mfaEnrollment:finalize",uu(e,t))}var xl=function(){function e(t){var n=this;h(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Bc._fromServerResponse(t.auth,e)})))}))}return m(e,[{key:"getSession",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=gl,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Zi(Ji().mark((function e(t,n){var r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Tu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Tu(this.user,su(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",uu(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),_l=new WeakMap;var Il="__sak",Sl=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return m(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Il,"1"),this.storage.removeItem(Il),Promise.resolve(!0)):Promise.resolve(!1)}catch(DO){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var El=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Pi();return $u(e)||ts(e)}()&&function(){try{return!(!window||window===window.top)}catch(VF){return!1}}(),e.fallbackToPolling=ns(),e._shouldAllowMigration=!0,e}return m(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Li()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Zi(Ji().mark((function e(t,r){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Co(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zi(Ji().mark((function e(t){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Co(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Co(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Sl);El.type="LOCAL";var Tl=El,Cl=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return m(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Sl);Cl.type="SESSION";var Nl=Cl;function Al(e){return Promise.all(e.map(function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Pl=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return m(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Zi(Ji().mark((function e(t){var n,r,i,a,o,u,s,c;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Al(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Dl(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Pl.receivers=[];var Ol=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return m(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Zi(Ji().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Dl("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Rl(){return window}function Ll(e){Rl().location.href=e}function Ml(){return"undefined"!==typeof Rl().WorkerGlobalScope&&"function"===typeof Rl().importScripts}function jl(){return Fl.apply(this,arguments)}function Fl(){return(Fl=Zi(Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ul(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Vl="firebaseLocalStorageDb",Bl="firebaseLocalStorage",zl="fbase_key",ql=function(){function e(t){h(this,e),this.request=t}return m(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Kl(e,t){return e.transaction([Bl],t?"readwrite":"readonly").objectStore(Bl)}function Wl(){var e=indexedDB.deleteDatabase(Vl);return new ql(e).toPromise()}function Hl(){var e=indexedDB.open(Vl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Bl,{keyPath:zl})}catch(VF){n(VF)}})),e.addEventListener("success",Zi(Ji().mark((function n(){var r;return Ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Bl)){n.next=12;break}return r.close(),n.next=5,Wl();case 5:return n.t0=t,n.next=8,Hl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Gl(e,t,n){return Ql.apply(this,arguments)}function Ql(){return Ql=Zi(Ji().mark((function e(t,n,r){var i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Kl(t,!0).put((Xe(i={},zl,n),Xe(i,"value",r),i)),e.abrupt("return",new ql(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function $l(e,t){return Yl.apply(this,arguments)}function Yl(){return Yl=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kl(t,!1).get(n),e.next=3,new ql(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function Jl(e,t){var n=Kl(e,!0).delete(t);return new ql(n).toPromise()}var Xl=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return m(e,[{key:"_openDb",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Hl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ml()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Zi(Ji().mark((function e(){var t=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Pl._getInstance(Ml()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Zi(Ji().mark((function e(n,r){var i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Zi(Ji().mark((function e(){var t,n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ol(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ul()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Zi(Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Hl();case 5:return t=e.sent,e.next=8,Gl(t,Il,"1");case 8:return e.next=10,Jl(t,Il);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Zi(Ji().mark((function e(t,n){var r=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Gl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return $l(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zi(Ji().mark((function e(t){var n=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Jl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Zi(Ji().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Kl(e,!1).getAll();return new ql(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=E(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Zi(Ji().mark((function t(){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Xl.type="LOCAL";var Zl=Xl;function ef(e,t){return su(e,"POST","/v2/accounts/mfaSignIn:start",uu(e,t))}function tf(e,t){return su(e,"POST","/v2/accounts/mfaSignIn:finalize",uu(e,t))}var nf=1e12,rf=function(){function e(t){h(this,e),this.auth=t,this.counter=nf,this._widgets=new Map}return m(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new af(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||nf;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||nf;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||nf,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),af=function(){function e(t,n,r){var i=this;h(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Yo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return m(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(VF){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(VF){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var of=hs("rcb"),uf=new nu(3e4,6e4),sf=function(){function e(){var t;h(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Rl().grecaptcha)||void 0===t?void 0:t.render)}return m(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Yo(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&ss(Rl().grecaptcha)?Promise.resolve(Rl().grecaptcha):new Promise((function(r,i){var a=Rl().setTimeout((function(){i(Ho(e,"network-request-failed"))}),uf.get());Rl()[of]=function(){Rl().clearTimeout(a),delete Rl()[of];var o=Rl().grecaptcha;if(o&&ss(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ho(e,"internal-error"))},fs("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Ki({onload:of,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ho(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Rl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var cf=function(){function e(){h(this,e)}return m(e,[{key:"load",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new rf(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),lf="recaptcha",ff={theme:"light",type:"image"},hf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ff),r=arguments.length>2?arguments[2]:void 0;h(this,e),this.parameters=n,this.type=lf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gs(r),this.isInvisible="invisible"===this.parameters.size,Yo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Yo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cf:new sf,this.validateStartingState()}return m(e,[{key:"verify",value:function(){var e=Zi(Ji().mark((function e(){var t,n,r,i=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(VF){return Promise.reject(VF)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Yo(!this.parameters.sitekey,this.auth,"argument-error"),Yo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Yo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Rl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Yo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Zi(Ji().mark((function e(){var t,n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Zi(Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yo(eu()&&!Ml(),this.auth,"internal-error"),e.next=3,df();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,is(this.auth);case 8:Yo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Yo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function df(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var pf=function(){function e(t,n){h(this,e),this.verificationId=t,this.onConfirmation=n}return m(e,[{key:"confirm",value:function(e){var t=nc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function vf(){return(vf=Zi(Ji().mark((function e(t,n,r){var i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gs(t),e.next=3,kf(i,n,Yi(r));case 3:return a=e.sent,e.abrupt("return",new pf(a,(function(e){return Dc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mf(e,t,n){return yf.apply(this,arguments)}function yf(){return(yf=Zi(Ji().mark((function e(t,n,r){var i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yi(t),e.next=3,Ec(!1,i,"phone");case 3:return e.next=5,kf(i.auth,n,Yi(r));case 5:return a=e.sent,e.abrupt("return",new pf(a,(function(e){return Rc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gf(){return(gf=Zi(Ji().mark((function e(t,n,r){var i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yi(t),e.next=3,kf(i.auth,n,Yi(r));case 3:return a=e.sent,e.abrupt("return",new pf(a,(function(e){return Mc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kf(e,t,n){return bf.apply(this,arguments)}function bf(){return bf=Zi(Ji().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Yo("string"===typeof a,t,"argument-error"),Yo(r.type===lf,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Yo("enroll"===u.type,t,"internal-error"),e.next=13,bl(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Yo("signin"===u.type,t,"internal-error"),Yo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ef(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ys(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),bf.apply(this,arguments)}function wf(){return(wf=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ic(Yi(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xf=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=gs(t)}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return kf(this.auth,e,Yi(t))}}],[{key:"credential",value:function(e,t){return nc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?nc._fromTokenResponse(n,r):null}}]),e}();function _f(e,t){return t?zu(t):(Yo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xf.PROVIDER_ID="phone",xf.PHONE_SIGN_IN_METHOD="phone";var If=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return Gs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Gs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Gs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(_s);function Sf(e){return Ac(e.auth,new If(e),e.bypassAuthState)}function Ef(e){var t=e.auth,n=e.user;return Yo(n,t,"internal-error"),Cc(n,new If(e),e.bypassAuthState)}function Tf(e){return Cf.apply(this,arguments)}function Cf(){return(Cf=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Yo(r=t.user,n,"internal-error"),e.abrupt("return",Ic(r,new If(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return m(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Zi(Ji().mark((function t(n,r){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Zi(Ji().mark((function e(t){var n,r,i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sf;case"linkViaPopup":case"linkViaRedirect":return Tf;case"reauthViaPopup":case"reauthViaRedirect":return Ef;default:Wo(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Af=new nu(2e3,1e4);function Pf(e,t,n){return Df.apply(this,arguments)}function Df(){return(Df=Zi(Ji().mark((function e(t,n,r){var i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gs(t),Qo(t,n,ac),a=_f(i,r),o=new Mf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Of(){return(Of=Zi(Ji().mark((function e(t,n,r){var i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qo((i=Yi(t)).auth,n,ac),a=_f(i.auth,r),o=new Mf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rf(e,t,n){return Lf.apply(this,arguments)}function Lf(){return(Lf=Zi(Ji().mark((function e(t,n,r){var i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qo((i=Yi(t)).auth,n,ac),a=_f(i.auth,r),o=new Mf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mf=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o){var u;return h(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=w(u),u}return m(n,[{key:"executeNotNull",value:function(){var e=Zi(Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Yo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Zi(Ji().mark((function e(){var t,n=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xo(1===this.filter.length,"Popup operations only handle one event"),t=Dl(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ho(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ho(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ho(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Af.get())}()}}]),n}(Nf);Mf.currentPopupAction=null;var jf="pendingRedirect",Ff=new Map,Uf=function(e){g(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return m(n,[{key:"execute",value:function(){var e=Zi(Ji().mark((function e(){var t,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ff.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Vf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Co(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ff.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ff.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Zi(Ji().mark((function e(t){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Co(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Co(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Nf);function Vf(e,t){return Bf.apply(this,arguments)}function Bf(){return(Bf=Zi(Ji().mark((function e(t,n){var r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hf(n),i=Wf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zf(e,t){return qf.apply(this,arguments)}function qf(){return(qf=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wf(t)._set(Hf(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kf(e,t){Ff.set(e._key(),t)}function Wf(e){return zu(e._redirectPersistence)}function Hf(e){return Wu(jf,e.config.apiKey,e.name)}function Gf(e,t,n){return function(e,t,n){return Qf.apply(this,arguments)}(e,t,n)}function Qf(){return(Qf=Zi(Ji().mark((function e(t,n,r){var i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gs(t),Qo(t,n,ac),e.next=4,i._initializationPromise;case 4:return a=_f(i,r),e.next=7,zf(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $f(e,t,n){return function(e,t,n){return Yf.apply(this,arguments)}(e,t,n)}function Yf(){return(Yf=Zi(Ji().mark((function e(t,n,r){var i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qo((i=Yi(t)).auth,n,ac),e.next=4,i.auth._initializationPromise;case 4:return a=_f(i.auth,r),e.next=7,zf(a,i.auth);case 7:return e.next=9,rh(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jf(e,t,n){return function(e,t,n){return Xf.apply(this,arguments)}(e,t,n)}function Xf(){return(Xf=Zi(Ji().mark((function e(t,n,r){var i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qo((i=Yi(t)).auth,n,ac),e.next=4,i.auth._initializationPromise;case 4:return a=_f(i.auth,r),e.next=7,Ec(!1,i,n.providerId);case 7:return e.next=9,zf(a,i.auth);case 9:return e.next=11,rh(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zf(e,t){return eh.apply(this,arguments)}function eh(){return(eh=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gs(t)._initializationPromise;case 2:return e.abrupt("return",th(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return nh=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=gs(t),a=_f(i,n),o=new Uf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(e){return ih.apply(this,arguments)}function ih(){return(ih=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dl("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ah=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return m(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!uh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ho(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(oh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function oh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function uh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function sh(e){return ch.apply(this,arguments)}function ch(){return ch=Zi(Ji().mark((function e(t){var n,r=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",su(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}var lh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fh=/^https?/;function hh(){return(hh=Zi(Ji().mark((function e(t){var n,r,i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,sh(t);case 4:n=e.sent,r=n.authorizedDomains,i=E(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!dh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Wo(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function dh(e){var t=Zo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!fh.test(r))return!1;if(lh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ph=new nu(3e4,6e4);function vh(){var e=Rl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=f(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var mh=null;function yh(e){return mh=mh||function(e){return new Promise((function(t,n){var r,i,a;function o(){vh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){vh(),n(Ho(e,"network-request-failed"))},timeout:ph.get()})}if(null===(i=null===(r=Rl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Rl().gapi)||void 0===a?void 0:a.load)){var u=hs("iframefcb");return Rl()[u]=function(){gapi.load?o():n(Ho(e,"network-request-failed"))},fs("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw mh=null,e}))}(e),mh}var gh=new nu(5e3,15e3),kh="__/auth/iframe",bh="emulator/auth/iframe",wh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _h(e){var t=e.config;Yo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ru(t,bh):"https://".concat(e.config.authDomain,"/").concat(kh),r={apiKey:t.apiKey,appName:e.name,v:Qa},i=xh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ki(r).slice(1))}function Ih(e){return Sh.apply(this,arguments)}function Sh(){return Sh=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yh(t);case 2:return n=e.sent,Yo(r=Rl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_h(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wh,dontclear:!0},(function(e){return new Promise(function(){var n=Zi(Ji().mark((function n(r,i){var a,o,u;return Ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Rl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ho(t,"network-request-failed"),o=Rl().setTimeout((function(){i(a)}),gh.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}var Eh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Th=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return m(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(VF){}}}]),e}();function Ch(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Eh),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Pi().toLowerCase();n&&(u=Yu(l)?"_blank":n),Qu(l)&&(t=t||"http://localhost",s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return ts(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Th(null);var h=window.open(t||"",u,f);Yo(h,e,"popup-blocked");try{h.focus()}catch(VF){}return new Th(h)}var Nh="__/auth/handler",Ah="emulator/auth/handler",Ph=encodeURIComponent("fac");function Dh(e,t,n,r,i,a){return Oh.apply(this,arguments)}function Oh(){return(Oh=Zi(Ji().mark((function e(t,n,r,i,a,o){var u,s,l,f,h,d,p,v,m,y,g,k,b;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yo(t.config.authDomain,t,"auth-domain-config-required"),Yo(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Qa,eventId:a},n instanceof ac)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",Bi(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,l=Object.entries(o||{});s<l.length;s++)f=c(l[s],2),h=f[0],d=f[1],u[h]=d;for(n instanceof oc&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(Ph,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Rh(t),"?").concat(Ki(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rh(e){var t=e.config;return t.emulator?ru(t,Ah):"https://".concat(t.authDomain,"/").concat(Nh)}var Lh="webStorageSupport",Mh=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nl,this._completeRedirectFn=th,this._overrideRedirectResult=Kf}return m(e,[{key:"_openPopup",value:function(){var e=Zi(Ji().mark((function e(t,n,r,i){var a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Dh(t,n,r,Zo(),i);case 3:return o=e.sent,e.abrupt("return",Ch(t,o,Dl()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Zi(Ji().mark((function e(t,n,r,i){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Dh(t,n,r,Zo(),i);case 4:return Ll(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Xo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ih(t);case 2:return n=e.sent,r=new ah(t),n.register("authEvent",(function(e){return Yo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Lh,{type:Lh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Lh];void 0!==i&&t(!!i),Wo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return hh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ns()||$u()||ts()}}]),e}(),jh=Mh,Fh=function(){function e(t){h(this,e),this.factorId=t}return m(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Jo("unexpected MultiFactorSessionType")}}}]),e}(),Uh=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return m(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return su(e,"POST","/v2/accounts/mfaEnrollment:finalize",uu(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return su(e,"POST","/v2/accounts/mfaSignIn:finalize",uu(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Fh),Vh=function(){function e(){h(this,e)}return m(e,null,[{key:"assertion",value:function(e){return Uh._fromCredential(e)}}]),e}();Vh.FACTOR_ID="phone";var Bh=function(){function e(){h(this,e)}return m(e,null,[{key:"assertionForEnrollment",value:function(e,t){return zh._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return zh._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yo("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},su(i,"POST","/v2/accounts/mfaEnrollment:start",uu(i,a));case 4:return r=e.sent,e.abrupt("return",qh._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Bh.FACTOR_ID="totp";var zh=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return m(n,[{key:"_finalizeEnroll",value:function(){var e=Zi(Ji().mark((function e(t,n,r){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yo("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",wl(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yo(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",tf(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Fh),qh=function(){function e(t,n,r,i,a,o,u){h(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return m(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Kh(e)||Kh(t))&&(r=!0),r&&(Kh(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Kh(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Kh(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Wh="@firebase/auth",Hh="0.23.2",Gh=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return m(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Yo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Qh;!function(e){var t;null===(t=Ci())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function $h(){return window}Qh="Browser",Ba(new ea("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Yo(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Qh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rs(Qh)},l=new ys(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ba(new ea("auth-internal",(function(e){return function(e){return new Gh(e)}(gs(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),eo(Wh,Hh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Qh)),eo(Wh,Hh,"esm2017");var Yh=2e3;function Jh(e,t,n){return Xh.apply(this,arguments)}function Xh(){return Xh=Zi(Ji().mark((function e(t,n,r){var i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$h(),o=a.BuildInfo,Xo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,id(n.sessionId);case 4:return u=e.sent,s={},ts()?s.ibi=o.packageName:Xu()?s.apn=o.packageName:Wo(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Dh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function Zh(){return(Zh=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$h(),r=n.BuildInfo,i={},ts()?i.iosBundleId=r.packageName:Xu()?i.androidPackageName=r.packageName:Wo(t,"operation-not-supported-in-this-environment"),e.next=5,sh(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ed(e){var t=$h().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function td(e,t,n){return nd.apply(this,arguments)}function nd(){return nd=Zi(Ji().mark((function e(t,n,r){var i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$h(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ho(t,"redirect-cancelled-by-user"))}),Yh))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Xu()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),nd.apply(this,arguments)}function rd(e){var t,n,r,i,a,o,u,s,c,l,f=$h();Yo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Yo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Yo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Yo("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Yo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function id(e){return ad.apply(this,arguments)}function ad(){return ad=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=od(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(e){if(Xo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var ud=20,sd=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return m(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Co(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ah);function cd(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:pd(),postBody:null,tenantId:e.tenantId,error:Ho(e,"no-auth-event")}}function ld(e,t){return vd()._set(md(e),t)}function fd(e){return hd.apply(this,arguments)}function hd(){return(hd=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vd()._get(md(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,vd()._remove(md(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dd(e,t){var n,r,i=function(e){var t=yd(e),n=t.link?decodeURIComponent(t.link):void 0,r=yd(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return yd(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=yd(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(VF){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ho(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function pd(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<ud;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function vd(){return zu(Tl)}function md(e){return Wu("authEvent",e.config.apiKey,e.name)}function yd(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=S(e.split("?"));t[0];return Wi(t.slice(1).join("?"))}var gd=function(){function e(){h(this,e),this._redirectPersistence=Nl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=th,this._overrideRedirectResult=Kf}return m(e,[{key:"_initialize",value:function(){var e=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new sd(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Wo(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Zi(Ji().mark((function e(t,n,r,i){var a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rd(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ff.clear(),e.next=10,this._originValidation(t);case 10:return o=cd(t,r,i),e.next=13,ld(t,o);case 13:return e.next=15,Jh(t,o,n);case 15:return u=e.sent,e.next=18,ed(u);case 18:return s=e.sent,e.abrupt("return",td(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Zh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=$h(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Zi(Ji().mark((function n(){return Ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fd(e);case 2:t.onEvent(bd());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Zi(Ji().mark((function n(r){var i,a;return Ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,fd(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=dd(i,r.url)),t.onEvent(a||bd());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");$h().handleOpenURL=function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(VF){console.error(VF)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),kd=gd;function bd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ho("no-auth-event")}}var wd=1e3;function xd(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function _d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return!("file:"!==xd()&&"ionic:"!==xd()&&"capacitor:"!==xd()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Id(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return Li()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/Edge\/\d+/.test(e)}(e)}function Sd(){try{var e=self.localStorage,t=Dl();if(e)return e.setItem(t,"1"),e.removeItem(t),!Id()||Mi()}catch(VF){return Ed()&&Mi()}return!1}function Ed(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Td(){return("http:"===xd()||"https:"===xd()||Oi()||_d())&&!(Ri()||Di())&&Sd()&&!Ed()}function Cd(){return _d()&&"undefined"!==typeof document}function Nd(){return Ad.apply(this,arguments)}function Ad(){return(Ad=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),wd);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pd={LOCAL:"local",NONE:"none",SESSION:"session"},Dd=Yo,Od="persistence";function Rd(e,t){Dd(Object.values(Pd).includes(t),e,"invalid-persistence-type"),Ri()?Dd(t!==Pd.SESSION,e,"unsupported-persistence-type"):Di()?Dd(t===Pd.NONE,e,"unsupported-persistence-type"):Ed()?Dd(t===Pd.NONE||t===Pd.LOCAL&&Mi(),e,"unsupported-persistence-type"):Dd(t===Pd.NONE||Sd(),e,"unsupported-persistence-type")}function Ld(e){return Md.apply(this,arguments)}function Md(){return(Md=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=jd(),r=Wu(Od,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(VF){return null}}var Fd=Yo,Ud=function(){function e(){h(this,e),this.browserResolver=zu(jh),this.cordovaResolver=zu(kd),this.underlyingResolver=null,this._redirectPersistence=Nl,this._completeRedirectFn=th,this._overrideRedirectResult=Kf}return m(e,[{key:"_initialize",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Zi(Ji().mark((function e(t,n,r,i){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Zi(Ji().mark((function e(t,n,r,i){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Cd()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Fd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Zi(Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Nd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vd(e){return e.unwrap()}function Bd(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Hd(e,function(e,t){var n,r=Yi(e),i=t;return Yo(t.customData.operationType,r,"argument-error"),Yo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),kl._fromError(r,i)}(e,t));else if(r){var i=zd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function zd(e){var t=(e instanceof ji?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ji)&&"temporaryProof"in t&&"phoneNumber"in t)return xf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Po.PASSWORD)return null;switch(r){case Po.GOOGLE:n=cc;break;case Po.FACEBOOK:n=sc;break;case Po.GITHUB:n=lc;break;case Po.TWITTER:n=dc;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?fc._create(r,u):$s._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new uc(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ji?n.credentialFromError(e):n.credentialFromResult(e)}function qd(e,t){return t.catch((function(t){throw t instanceof ji&&Bd(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,zd(t)),additionalUserInfo:yl(e),user:Gd.getOrCreate(r)}}))}function Kd(e,t){return Wd.apply(this,arguments)}function Wd(){return(Wd=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return qd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hd=function(){function e(t,n){h(this,e),this.resolver=n,this.auth=t.wrapped()}return m(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return qd(Vd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Gd=function(){function e(t){h(this,e),this._delegate=t,this.multiFactor=function(e){var t=Yi(e);return _l.has(t)||_l.set(t,xl._fromUser(t)),_l.get(t)}(t)}return m(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qd(this.auth,Rc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kd(this.auth,mf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qd(this.auth,Rf(this._delegate,t,Ud)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(gs(this.auth));case 2:return e.abrupt("return",Jf(this._delegate,t,Ud));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qd(this.auth,Mc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Kd(this.auth,function(e,t,n){return gf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return qd(this.auth,function(e,t,n){return Of.apply(this,arguments)}(this._delegate,e,Ud))}},{key:"reauthenticateWithRedirect",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(gs(this.auth));case 2:return e.abrupt("return",$f(this._delegate,t,Ud));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return il.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return cl(Yi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return cl(Yi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return wf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return sl.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return al.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Gd.USER_MAP=new WeakMap;var Qd=Yo,$d=function(){function e(t,n){if(h(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Qd(r,"invalid-api-key",{appName:t.name}),Qd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ud:void 0;this._delegate=n.initialize({options:{persistence:Jd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Uo),this.linkUnderlyingAuth()}return m(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Gd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){bs(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Gc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Qc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Hc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qd(this._delegate,Jc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return rl.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=rc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Zi(Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qd(Td(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Zf(this._delegate,Ud);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",qd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){gs(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Yd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Yd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Zc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Wc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rd(this._delegate,t),e.t0=t,e.next=e.t0===Pd.SESSION?4:e.t0===Pd.LOCAL?6:e.t0===Pd.NONE?11:13;break;case 4:return n=Nl,e.abrupt("break",14);case 6:return e.next=8,zu(Zl)._isAvailable();case 8:return r=e.sent,n=r?Zl:Tl,e.abrupt("break",14);case 11:return n=Ku,e.abrupt("break",14);case 13:return e.abrupt("return",Wo("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return qd(this._delegate,function(e){return gc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return qd(this._delegate,Dc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return qd(this._delegate,function(e,t){return Vc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return qd(this._delegate,function(e,t,n){return Dc(Yi(e),ic.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return qd(this._delegate,function(e,t,n){return el.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Kd(this._delegate,function(e,t,n){return vf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qd(Td(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",qd(this._delegate,Pf(this._delegate,t,Ud)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qd(Td(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ld(this._delegate);case 3:return e.abrupt("return",Gf(this._delegate,t,Ud));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Yc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Yd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Gd.getOrCreate(e))},error:t,complete:n}}function Jd(e,t){var n=function(e,t){var n=jd();if(!n)return[];var r=Wu(Od,e,t);switch(n.getItem(r)){case Pd.NONE:return[Ku];case Pd.LOCAL:return[Zl,Nl];case Pd.SESSION:return[Nl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Zl)||n.push(Zl),"undefined"!==typeof window)for(var r=0,i=[Tl,Nl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ku)||n.push(Ku),n}$d.Persistence=Pd;var Xd=function(){function e(){h(this,e),this.providerId="phone",this._delegate=new xf(Vd(To.auth()))}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return xf.credential(e,t)}}]),e}();Xd.PHONE_SIGN_IN_METHOD=xf.PHONE_SIGN_IN_METHOD,Xd.PROVIDER_ID=xf.PROVIDER_ID;var Zd,ep=Yo,tp=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:To.app();h(this,e),ep(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new hf(t,n,i.auth()),this.type=this._delegate.type}return m(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Zd=To).INTERNAL.registerComponent(new ea("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new $d(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Do,PASSWORD_RESET:Oo,RECOVER_EMAIL:Ro,REVERT_SECOND_FACTOR_ADDITION:Lo,VERIFY_AND_CHANGE_EMAIL:Mo,VERIFY_EMAIL:jo}},EmailAuthProvider:ic,FacebookAuthProvider:sc,GithubAuthProvider:lc,GoogleAuthProvider:cc,OAuthProvider:uc,SAMLAuthProvider:hc,PhoneAuthProvider:Xd,PhoneMultiFactorGenerator:Vh,RecaptchaVerifier:tp,TwitterAuthProvider:dc,Auth:$d,AuthCredential:_s,Error:ji}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Zd.registerVersion("@firebase/auth-compat","0.4.2");var np,rp,ip=function(e,t){return t.some((function(t){return e instanceof t}))};var ap=new WeakMap,op=new WeakMap,up=new WeakMap,sp=new WeakMap,cp=new WeakMap;var lp={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return op.get(e);if("objectStoreNames"===t)return e.objectStoreNames||up.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dp(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function fp(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(rp||(rp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(pp(this),n),dp(ap.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dp(e.apply(pp(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[pp(this),t].concat(r));return up.set(a,t.sort?t.sort():[t]),dp(a)}}function hp(e){return"function"===typeof e?fp(e):(e instanceof IDBTransaction&&function(e){if(!op.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));op.set(e,t)}}(e),ip(e,np||(np=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,lp):e)}function dp(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(dp(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ap.set(t,e)})).catch((function(){})),cp.set(t,e),t}(e);if(sp.has(e))return sp.get(e);var t=hp(e);return t!==e&&(sp.set(e,t),cp.set(t,e)),t}var pp=function(e){return cp.get(e)};var vp,mp=["get","getKey","getAll","getAllKeys","count"],yp=["put","add","delete","clear"],gp=new Map;function kp(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(gp.get(t))return gp.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=yp.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||mp.includes(n))){var a=function(){var e=Zi(Ji().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return gp.set(t,a),a}}}!function(e){lp=e(lp)}((function(e){return et(et({},e),{},{get:function(t,n,r){return kp(t,n)||e.get(t,n,r)},has:function(t,n){return!!kp(t,n)||e.has(t,n)}})}));var bp="@firebase/installations",wp="0.6.4",xp=1e4,_p="w:".concat(wp),Ip="FIS_v2",Sp="https://firebaseinstallations.googleapis.com/v1",Ep=36e5,Tp=(Xe(vp={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Xe(vp,"not-registered","Firebase Installation is not registered."),Xe(vp,"installation-not-found","Firebase Installation not found."),Xe(vp,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Xe(vp,"app-offline","Could not process request. Application offline."),Xe(vp,"delete-pending-registration","Can't delete installation while there is a pending registration request."),vp),Cp=new Fi("installations","Installations",Tp);function Np(e){return e instanceof ji&&e.code.includes("request-failed")}function Ap(e){var t=e.projectId;return"".concat(Sp,"/projects/").concat(t,"/installations")}function Pp(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Dp(e,t){return Op.apply(this,arguments)}function Op(){return(Op=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",Cp.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rp(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Lp(e,t){var n=t.refreshToken,r=Rp(e);return r.append("Authorization",function(e){return"".concat(Ip," ").concat(e)}(n)),r}function Mp(e){return jp.apply(this,arguments)}function jp(){return jp=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}function Fp(e,t){return Up.apply(this,arguments)}function Up(){return(Up=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d,p;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=Ap(r),u=Rp(r),!(s=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,s.getHeartbeatsHeader();case 8:(c=e.sent)&&u.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:Ip,appId:r.appId,sdkVersion:_p},f={method:"POST",headers:u,body:JSON.stringify(l)},e.next=14,Mp((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:Pp(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,Dp("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vp(e){return new Promise((function(t){setTimeout(t,e)}))}var Bp=/^[cdef][\w-]{21}$/,zp="";function qp(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,f(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Bp.test(t)?t:zp}catch(DO){return zp}}function Kp(e){return"".concat(e.appName,"!").concat(e.appId)}var Wp=new Map;function Hp(e,t){var n=Kp(e);Gp(n,t),function(e,t){var n=$p();n&&n.postMessage({key:e,fid:t});Yp()}(n,t)}function Gp(e,t){var n=Wp.get(e);if(n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Qp=null;function $p(){return!Qp&&"BroadcastChannel"in self&&((Qp=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Gp(e.data.key,e.data.fid)}),Qp}function Yp(){0===Wp.size&&Qp&&(Qp.close(),Qp=null)}var Jp="firebase-installations-database",Xp=1,Zp="firebase-installations-store",ev=null;function tv(){return ev||(ev=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=dp(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(dp(u.result),e.oldVersion,e.newVersion,dp(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(Jp,Xp,{upgrade:function(e,t){if(0===t)e.createObjectStore(Zp)}})),ev}function nv(e,t){return rv.apply(this,arguments)}function rv(){return rv=Zi(Ji().mark((function e(t,n){var r,i,a,o,u;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kp(t),e.next=3,tv();case 3:return i=e.sent,a=i.transaction(Zp,"readwrite"),o=a.objectStore(Zp),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return u&&u.fid===n.fid||Hp(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(e){return av.apply(this,arguments)}function av(){return av=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kp(t),e.next=3,tv();case 3:return r=e.sent,i=r.transaction(Zp,"readwrite"),e.next=7,i.objectStore(Zp).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function ov(e,t){return uv.apply(this,arguments)}function uv(){return uv=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kp(t),e.next=3,tv();case 3:return i=e.sent,a=i.transaction(Zp,"readwrite"),o=a.objectStore(Zp),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,a.done;case 19:return!s||u&&u.fid===s.fid||Hp(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)}))),uv.apply(this,arguments)}function sv(e){return cv.apply(this,arguments)}function cv(){return(cv=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ov(t.appConfig,(function(e){var r=lv(e),i=fv(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==zp){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lv(e){return mv(e||{fid:qp(),registrationStatus:0})}function fv(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Cp.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return hv.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:dv(e)}:{installationEntry:t}}function hv(){return(hv=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fp(t,n);case 3:return r=e.sent,e.abrupt("return",nv(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Np(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,iv(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,nv(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function dv(e){return pv.apply(this,arguments)}function pv(){return(pv=Zi(Ji().mark((function e(t){var n,r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vv(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Vp(100);case 6:return e.next=8,vv(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,sv(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vv(e){return ov(e,(function(e){if(!e)throw Cp.create("installation-not-found");return mv(e)}))}function mv(e){return 1===(t=e).registrationStatus&&t.registrationTime+xp<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function yv(e,t){return gv.apply(this,arguments)}function gv(){return(gv=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=kv(r,n),o=Lp(r,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(s=e.sent)&&o.append("x-firebase-client",s);case 9:return c={installation:{sdkVersion:_p,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,Mp((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=Pp(h),e.abrupt("return",d);case 22:return e.next=24,Dp("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kv(e,t){var n=t.fid;return"".concat(Ap(e),"/").concat(n,"/authTokens:generate")}function bv(e){return wv.apply(this,arguments)}function wv(){return wv=Zi(Ji().mark((function e(t){var n,r,i,a,o=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,ov(t.appConfig,(function(e){if(!Tv(e))throw Cp.create("not-registered");var i=e.authToken;if(!n&&Cv(i))return e;if(1===i.requestStatus)return r=xv(t,n),e;if(!navigator.onLine)throw Cp.create("app-offline");var a=Nv(e);return r=Sv(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function xv(e,t){return _v.apply(this,arguments)}function _v(){return(_v=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iv(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Vp(100);case 6:return e.next=8,Iv(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",bv(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iv(e){return ov(e,(function(e){if(!Tv(e))throw Cp.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+xp<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Sv(e,t){return Ev.apply(this,arguments)}function Ev(){return(Ev=Zi(Ji().mark((function e(t,n){var r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yv(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,nv(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!Np(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,iv(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,nv(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Tv(e){return void 0!==e&&2===e.registrationStatus}function Cv(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ep}(e)}function Nv(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Av(){return(Av=Zi(Ji().mark((function e(t){var n,r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,sv(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):bv(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pv(){return Pv=Zi(Ji().mark((function e(t){var n,r,i,a=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Dv(r);case 4:return e.next=6,bv(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Dv(e){return Ov.apply(this,arguments)}function Ov(){return(Ov=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sv(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rv(e){return Cp.create("missing-app-config-values",{valueName:e})}var Lv="installations",Mv=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Rv("App Configuration");if(!e.name)throw Rv("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Rv(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:za(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},jv=function(e){var t=za(e.getProvider("app").getImmediate(),Lv).getImmediate(),n={getId:function(){return function(e){return Av.apply(this,arguments)}(t)},getToken:function(e){return function(e){return Pv.apply(this,arguments)}(t,e)}};return n};Ba(new ea(Lv,Mv,"PUBLIC")),Ba(new ea("installations-internal",jv,"PRIVATE")),eo(bp,wp),eo(bp,wp,"esm2017");var Fv,Uv,Vv=function(e,t){return t.some((function(t){return e instanceof t}))};var Bv=new WeakMap,zv=new WeakMap,qv=new WeakMap,Kv=new WeakMap,Wv=new WeakMap;var Hv={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return zv.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qv.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $v(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Gv(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Yv(this),n),$v(Bv.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $v(e.apply(Yv(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Yv(this),t].concat(r));return qv.set(a,t.sort?t.sort():[t]),$v(a)}}function Qv(e){return"function"===typeof e?Gv(e):(e instanceof IDBTransaction&&function(e){if(!zv.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));zv.set(e,t)}}(e),Vv(e,Fv||(Fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Hv):e)}function $v(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t($v(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Bv.set(t,e)})).catch((function(){})),Wv.set(t,e),t}(e);if(Kv.has(e))return Kv.get(e);var t=Qv(e);return t!==e&&(Kv.set(e,t),Wv.set(t,e)),t}var Yv=function(e){return Wv.get(e)};function Jv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=$v(u);return i&&u.addEventListener("upgradeneeded",(function(e){i($v(u.result),e.oldVersion,e.newVersion,$v(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}function Xv(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).blocked,n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(function(){return t()})),$v(n).then((function(){}))}var Zv,em=["get","getKey","getAll","getAllKeys","count"],tm=["put","add","delete","clear"],nm=new Map;function rm(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(nm.get(t))return nm.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=tm.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||em.includes(n))){var a=function(){var e=Zi(Ji().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return nm.set(t,a),a}}}!function(e){Hv=e(Hv)}((function(e){return et(et({},e),{},{get:function(t,n,r){return rm(t,n)||e.get(t,n,r)},has:function(t,n){return!!rm(t,n)||e.has(t,n)}})}));var im,am,om="/firebase-messaging-sw.js",um="/firebase-cloud-messaging-push-scope",sm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cm="https://fcmregistrations.googleapis.com/v1",lm="google.c.a.c_id",fm="google.c.a.c_l",hm="google.c.a.ts",dm="google.c.a.e";function pm(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,f(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vm(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(im||(im={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(am||(am={}));var mm="fcm_token_details_db",ym=5,gm="fcm_token_object_Store";function km(e){return bm.apply(this,arguments)}function bm(){return bm=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(mm)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,Jv(mm,ym,{upgrade:function(){var e=Zi(Ji().mark((function e(n,r,a,o){var u,s,c,l,f,h;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(gm)){e.next=4;break}return e.abrupt("return");case 4:return s=o.objectStore(gm),e.next=7,s.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,s.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:l.fcmToken,createTime:null!==(u=l.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:pm(l.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:pm(f.auth),p256dh:pm(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:pm(f.vapidKey)}}:4===r&&(i={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:pm(h.auth),p256dh:pm(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:pm(h.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,Xv(mm);case 14:return e.next=16,Xv("fcm_vapid_details_db");case 16:return e.next=18,Xv("undefined");case 18:return e.abrupt("return",wm(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function wm(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var xm="firebase-messaging-database",_m=1,Im="firebase-messaging-store",Sm=null;function Em(){return Sm||(Sm=Jv(xm,_m,{upgrade:function(e,t){if(0===t)e.createObjectStore(Im)}})),Sm}function Tm(e){return Cm.apply(this,arguments)}function Cm(){return Cm=Zi(Ji().mark((function e(t){var n,r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Om(t),e.next=3,Em();case 3:return r=e.sent,e.next=6,r.transaction(Im).objectStore(Im).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,km(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,Nm(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)}))),Cm.apply(this,arguments)}function Nm(e,t){return Am.apply(this,arguments)}function Am(){return Am=Zi(Ji().mark((function e(t,n){var r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Om(t),e.next=3,Em();case 3:return i=e.sent,a=i.transaction(Im,"readwrite"),e.next=7,a.objectStore(Im).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Pm(e){return Dm.apply(this,arguments)}function Dm(){return Dm=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Om(t),e.next=3,Em();case 3:return r=e.sent,i=r.transaction(Im,"readwrite"),e.next=7,i.objectStore(Im).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Dm.apply(this,arguments)}function Om(e){return e.appConfig.appId}var Rm=(Xe(Zv={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Xe(Zv,"only-available-in-window","This method is available in a Window context."),Xe(Zv,"only-available-in-sw","This method is available in a service worker context."),Xe(Zv,"permission-default","The notification permission was not granted and dismissed instead."),Xe(Zv,"permission-blocked","The notification permission was not granted and blocked instead."),Xe(Zv,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Xe(Zv,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Xe(Zv,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Xe(Zv,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Xe(Zv,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Xe(Zv,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Xe(Zv,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Xe(Zv,"token-update-no-token","FCM returned no token when updating the user to push."),Xe(Zv,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Xe(Zv,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Xe(Zv,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Xe(Zv,"invalid-vapid-key","The public VAPID key must be a string."),Xe(Zv,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),Zv),Lm=new Fi("messaging","Messaging",Rm);function Mm(e,t){return jm.apply(this,arguments)}function jm(){return(jm=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qm(t);case 2:return r=e.sent,i=Wm(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(zm(t.appConfig),a);case 8:return u=e.sent,e.next=11,u.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Lm.create("token-subscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw s=o.error.message,Lm.create("token-subscribe-failed",{errorInfo:s});case 20:if(o.token){e.next=22;break}throw Lm.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function Fm(e,t){return Um.apply(this,arguments)}function Um(){return(Um=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qm(t);case 2:return r=e.sent,i=Wm(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(zm(t.appConfig),"/").concat(n.token),a);case 8:return u=e.sent,e.next=11,u.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Lm.create("token-update-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw s=o.error.message,Lm.create("token-update-failed",{errorInfo:s});case 20:if(o.token){e.next=22;break}throw Lm.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function Vm(e,t){return Bm.apply(this,arguments)}function Bm(){return(Bm=Zi(Ji().mark((function e(t,n){var r,i,a,o,u;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qm(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(zm(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw u=o.error.message,Lm.create("token-unsubscribe-failed",{errorInfo:u});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),Lm.create("token-unsubscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function zm(e){var t=e.projectId;return"".concat(cm,"/projects/").concat(t,"/registrations")}function qm(e){return Km.apply(this,arguments)}function Km(){return(Km=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wm(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==sm&&(a.web.applicationPubKey=i),a}var Hm=6048e5;function Gm(e){return Qm.apply(this,arguments)}function Qm(){return(Qm=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ty(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:pm(n.getKey("auth")),p256dh:pm(n.getKey("p256dh"))},e.next=6,Tm(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",Zm(t.firebaseDependencies,r));case 11:if(ry(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,Vm(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",Zm(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+Hm)){e.next=27;break}return e.abrupt("return",Jm(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function $m(e){return Ym.apply(this,arguments)}function Ym(){return(Ym=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tm(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,Vm(t.firebaseDependencies,n.token);case 6:return e.next=8,Pm(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jm(e,t){return Xm.apply(this,arguments)}function Xm(){return(Xm=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fm(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,Nm(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,$m(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Zm(e,t){return ey.apply(this,arguments)}function ey(){return(ey=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mm(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,Nm(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ty(e,t){return ny.apply(this,arguments)}function ny(){return(ny=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vm(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ry(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function iy(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var a=t.notification.icon;a&&(e.notification.icon=a)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var u=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;u&&(e.fcmOptions.link=u);var s=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;s&&(e.fcmOptions.analyticsLabel=s)}(t,e),t}function ay(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function oy(e){return Lm.create("missing-app-config-values",{valueName:e})}ay("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ay("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var uy=function(){function e(t,n,r){h(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw oy("App Configuration Object");if(!e.name)throw oy("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw oy(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return m(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function sy(e){return cy.apply(this,arguments)}function cy(){return(cy=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(om,{scope:um});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch((function(){})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Lm.create("failed-service-worker-registration",{browserErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ly(e,t){return fy.apply(this,arguments)}function fy(){return(fy=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||t.swRegistration){e.next=3;break}return e.next=3,sy(t);case 3:if(n||!t.swRegistration){e.next=5;break}return e.abrupt("return");case 5:if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw Lm.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hy(e,t){return dy.apply(this,arguments)}function dy(){return(dy=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=sm);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function py(e,t){return vy.apply(this,arguments)}function vy(){return vy=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Lm.create("only-available-in-window");case 2:if("default"!==Notification.permission){e.next=5;break}return e.next=5,Notification.requestPermission();case 5:if("granted"===Notification.permission){e.next=7;break}throw Lm.create("permission-blocked");case 7:return e.next=9,hy(t,null===n||void 0===n?void 0:n.vapidKey);case 9:return e.next=11,ly(t,null===n||void 0===n?void 0:n.serviceWorkerRegistration);case 11:return e.abrupt("return",Gm(t));case 12:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}function my(e,t,n){return yy.apply(this,arguments)}function yy(){return(yy=Zi(Ji().mark((function e(t,n,r){var i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gy(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(i,{message_id:r[lm],message_name:r[fm],message_time:r[hm],message_device_time:Math.floor(Date.now()/1e3)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gy(e){switch(e){case am.NOTIFICATION_CLICKED:return"notification_open";case am.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ky(){return(ky=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===am.PUSH_RECEIVED&&("function"===typeof t.onMessageHandler?t.onMessageHandler(iy(r)):t.onMessageHandler.next(iy(r))),i=r.data,"object"!==typeof(a=i)||!a||!(lm in a)||"1"!==i[dm]){e.next=8;break}return e.next=8,my(t,r.messageType,i);case 8:case"end":return e.stop()}var a}),e)})))).apply(this,arguments)}var by,wy="@firebase/messaging",xy="0.12.4",_y=function(e){var t=new uy(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(function(e){return function(e,t){return ky.apply(this,arguments)}(t,e)})),t},Iy=function(e){var t=e.getProvider("messaging").getImmediate(),n={getToken:function(e){return py(t,e)}};return n};function Sy(){return(Sy=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Lm.create("only-available-in-window");case 2:if(t.swRegistration){e.next=5;break}return e.next=5,sy(t);case 5:return e.abrupt("return",$m(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ey(e,t){return Ty.apply(this,arguments)}function Ty(){return Ty=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Yi(t),e.abrupt("return",py(t,n));case 2:case"end":return e.stop()}}),e)}))),Ty.apply(this,arguments)}function Cy(e){return function(e){return Sy.apply(this,arguments)}(e=Yi(e))}function Ny(e,t){return function(e,t){if(!navigator)throw Lm.create("only-available-in-window");return e.onMessageHandler=t,function(){e.onMessageHandler=null}}(e=Yi(e),t)}Ba(new ea("messaging",_y,"PUBLIC")),Ba(new ea("messaging-internal",Iy,"PRIVATE")),eo(wy,xy),eo(wy,xy,"esm2017");var Ay,Py,Dy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Oy="https://fcmregistrations.googleapis.com/v1",Ry="FCM_MSG",Ly="google.c.a.c_id",My=3,jy=1;function Fy(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,f(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Uy(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Ay||(Ay={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Py||(Py={}));var Vy="fcm_token_details_db",By=5,zy="fcm_token_object_Store";function qy(e){return Ky.apply(this,arguments)}function Ky(){return Ky=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(Vy)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,Jv(Vy,By,{upgrade:function(){var e=Zi(Ji().mark((function e(n,r,a,o){var u,s,c,l,f,h;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(zy)){e.next=4;break}return e.abrupt("return");case 4:return s=o.objectStore(zy),e.next=7,s.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,s.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:l.fcmToken,createTime:null!==(u=l.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:Fy(l.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Fy(f.auth),p256dh:Fy(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Fy(f.vapidKey)}}:4===r&&(i={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Fy(h.auth),p256dh:Fy(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Fy(h.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,Xv(Vy);case 14:return e.next=16,Xv("fcm_vapid_details_db");case 16:return e.next=18,Xv("undefined");case 18:return e.abrupt("return",Wy(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),Ky.apply(this,arguments)}function Wy(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Hy="firebase-messaging-database",Gy=1,Qy="firebase-messaging-store",$y=null;function Yy(){return $y||($y=Jv(Hy,Gy,{upgrade:function(e,t){if(0===t)e.createObjectStore(Qy)}})),$y}function Jy(e){return Xy.apply(this,arguments)}function Xy(){return Xy=Zi(Ji().mark((function e(t){var n,r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rg(t),e.next=3,Yy();case 3:return r=e.sent,e.next=6,r.transaction(Qy).objectStore(Qy).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,qy(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,Zy(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}function Zy(e,t){return eg.apply(this,arguments)}function eg(){return eg=Zi(Ji().mark((function e(t,n){var r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rg(t),e.next=3,Yy();case 3:return i=e.sent,a=i.transaction(Qy,"readwrite"),e.next=7,a.objectStore(Qy).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),eg.apply(this,arguments)}function tg(e){return ng.apply(this,arguments)}function ng(){return ng=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rg(t),e.next=3,Yy();case 3:return r=e.sent,i=r.transaction(Qy,"readwrite"),e.next=7,i.objectStore(Qy).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),ng.apply(this,arguments)}function rg(e){return e.appConfig.appId}var ig=(Xe(by={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Xe(by,"only-available-in-window","This method is available in a Window context."),Xe(by,"only-available-in-sw","This method is available in a service worker context."),Xe(by,"permission-default","The notification permission was not granted and dismissed instead."),Xe(by,"permission-blocked","The notification permission was not granted and blocked instead."),Xe(by,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Xe(by,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Xe(by,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Xe(by,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Xe(by,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Xe(by,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Xe(by,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Xe(by,"token-update-no-token","FCM returned no token when updating the user to push."),Xe(by,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Xe(by,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Xe(by,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Xe(by,"invalid-vapid-key","The public VAPID key must be a string."),Xe(by,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),by),ag=new Fi("messaging","Messaging",ig);function og(e,t){return ug.apply(this,arguments)}function ug(){return(ug=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dg(t);case 2:return r=e.sent,i=vg(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(hg(t.appConfig),a);case 8:return u=e.sent,e.next=11,u.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),ag.create("token-subscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw s=o.error.message,ag.create("token-subscribe-failed",{errorInfo:s});case 20:if(o.token){e.next=22;break}throw ag.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function sg(e,t){return cg.apply(this,arguments)}function cg(){return(cg=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dg(t);case 2:return r=e.sent,i=vg(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(hg(t.appConfig),"/").concat(n.token),a);case 8:return u=e.sent,e.next=11,u.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),ag.create("token-update-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw s=o.error.message,ag.create("token-update-failed",{errorInfo:s});case 20:if(o.token){e.next=22;break}throw ag.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function lg(e,t){return fg.apply(this,arguments)}function fg(){return(fg=Zi(Ji().mark((function e(t,n){var r,i,a,o,u;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dg(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(hg(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw u=o.error.message,ag.create("token-unsubscribe-failed",{errorInfo:u});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),ag.create("token-unsubscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function hg(e){var t=e.projectId;return"".concat(Oy,"/projects/").concat(t,"/registrations")}function dg(e){return pg.apply(this,arguments)}function pg(){return(pg=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vg(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==Dy&&(a.web.applicationPubKey=i),a}var mg=6048e5;function yg(e){return gg.apply(this,arguments)}function gg(){return(gg=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sg(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:Fy(n.getKey("auth")),p256dh:Fy(n.getKey("p256dh"))},e.next=6,Jy(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",_g(t.firebaseDependencies,r));case 11:if(Tg(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,lg(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",_g(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+mg)){e.next=27;break}return e.abrupt("return",wg(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function kg(e){return bg.apply(this,arguments)}function bg(){return(bg=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jy(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,lg(t.firebaseDependencies,n.token);case 6:return e.next=8,tg(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wg(e,t){return xg.apply(this,arguments)}function xg(){return(xg=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sg(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,Zy(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,kg(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function _g(e,t){return Ig.apply(this,arguments)}function Ig(){return(Ig=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,og(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,Zy(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sg(e,t){return Eg.apply(this,arguments)}function Eg(){return(Eg=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Uy(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tg(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function Cg(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var a=t.notification.icon;a&&(e.notification.icon=a)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var u=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;u&&(e.fcmOptions.link=u);var s=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;s&&(e.fcmOptions.analyticsLabel=s)}(t,e),t}function Ng(e){return new Promise((function(t){setTimeout(t,e)}))}function Ag(e,t){return Pg.apply(this,arguments)}function Pg(){return(Pg=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Dg,e.t1=n,e.next=4,t.firebaseDependencies.installations.getId();case 4:e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2),Og(t,r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dg(e,t){var n,r,i={};return e.from&&(i.project_number=e.from),e.fcmMessageId&&(i.message_id=e.fcmMessageId),i.instance_id=t,e.notification?i.message_type=Ay.DISPLAY_NOTIFICATION.toString():i.message_type=Ay.DATA_MESSAGE.toString(),i.sdk_platform=My.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(i.collapse_key=e.collapse_key),i.event=jy.toString(),(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)&&(i.analytics_label=null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label),i}function Og(e,t){var n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}function Rg(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Lg(){return Lg=Zi(Ji().mark((function e(t,n){var r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.newSubscription){e.next=5;break}return e.next=4,kg(n);case 4:return e.abrupt("return");case 5:return e.next=7,Jy(n.firebaseDependencies);case 7:return a=e.sent,e.next=10,kg(n);case 10:return n.vapidKey=null!==(i=null===(r=null===a||void 0===a?void 0:a.subscriptionOptions)||void 0===r?void 0:r.vapidKey)&&void 0!==i?i:Dy,e.next=13,yg(n);case 13:case"end":return e.stop()}}),e)}))),Lg.apply(this,arguments)}function Mg(){return(Mg=Zi(Ji().mark((function e(t,n){var r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ug(t)){e.next=3;break}return e.abrupt("return");case 3:if(!n.deliveryMetricsExportedToBigQueryEnabled){e.next=6;break}return e.next=6,Ag(n,r);case 6:return e.next=8,Kg();case 8:if(!zg(i=e.sent)){e.next=11;break}return e.abrupt("return",qg(i,r));case 11:if(!r.notification){e.next=14;break}return e.next=14,Wg(Fg(r));case 14:if(n){e.next=16;break}return e.abrupt("return");case 16:if(!n.onBackgroundMessageHandler){e.next=24;break}if(a=Cg(r),"function"!==typeof n.onBackgroundMessageHandler){e.next=23;break}return e.next=21,n.onBackgroundMessageHandler(a);case 21:e.next=24;break;case 23:n.onBackgroundMessageHandler.next(a);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jg(){return jg=Zi(Ji().mark((function e(t){var n,r,i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(r=null===(n=t.notification)||void 0===n?void 0:n.data)||void 0===r?void 0:r[Ry]){e.next=5;break}return e.abrupt("return");case 5:if(!t.action){e.next=7;break}return e.abrupt("return");case 7:if(t.stopImmediatePropagation(),t.notification.close(),a=Hg(i)){e.next=12;break}return e.abrupt("return");case 12:if(o=new URL(a,self.location.href),u=new URL(self.location.origin),o.host===u.host){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,Vg(o);case 18:if(s=e.sent){e.next=27;break}return e.next=22,self.clients.openWindow(a);case 22:return s=e.sent,e.next=25,Ng(3e3);case 25:e.next=30;break;case 27:return e.next=29,s.focus();case 29:s=e.sent;case 30:if(s){e.next=32;break}return e.abrupt("return");case 32:return i.messageType=Py.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,e.abrupt("return",s.postMessage(i));case 35:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Fg(e){var t=Object.assign({},e.notification);return t.data=Xe({},Ry,e),t}function Ug(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}function Vg(e){return Bg.apply(this,arguments)}function Bg(){return(Bg=Zi(Ji().mark((function e(t){var n,r,i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kg();case 2:n=e.sent,r=E(n),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=13;break}if(a=i.value,o=new URL(a.url,self.location.href),t.host!==o.host){e.next=11;break}return e.abrupt("return",a);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[4,15,18,21]])})))).apply(this,arguments)}function zg(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}function qg(e,t){t.isFirebaseMessaging=!0,t.messageType=Py.PUSH_RECEIVED;var n,r=E(e);try{for(r.s();!(n=r.n()).done;){n.value.postMessage(t)}}catch(i){r.e(i)}finally{r.f()}}function Kg(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Wg(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports ".concat(r," actions. The remaining actions will not be displayed.")),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function Hg(e){var t,n,r,i,a=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;return a||("object"===typeof(i=e.data)&&i&&Ly in i?self.location.origin:null)}function Gg(e){return ag.create("missing-app-config-values",{valueName:e})}Rg("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Rg("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Qg=function(){function e(t,n,r){h(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw Gg("App Configuration Object");if(!e.name)throw Gg("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw Gg(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return m(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}(),$g=function(e){var t=new Qg(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",(function(e){e.waitUntil(function(e,t){return Mg.apply(this,arguments)}(e,t))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(function(e,t){return Lg.apply(this,arguments)}(e,t))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(function(e){return jg.apply(this,arguments)}(e))})),t};function Yg(e,t){return function(e,t){if(void 0!==self.document)throw ag.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,function(){e.onBackgroundMessageHandler=null}}(e=Yi(e),t)}Ba(new ea("messaging-sw",$g,"PUBLIC"));var Jg=function(){function e(t,n){h(this,e),this.app=t,this._delegate=n,this.app=t,this._delegate=n}return m(e,[{key:"getToken",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ey(this._delegate,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteToken",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cy(this._delegate));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMessage",value:function(e){return Ny(this._delegate,e)}},{key:"onBackgroundMessage",value:function(e){return Yg(this._delegate,e)}}]),e}(),Xg=function(e){return self&&"ServiceWorkerGlobalScope"in self?new Jg(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new Jg(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate())},Zg={isSupported:function(){return self&&"ServiceWorkerGlobalScope"in self?Mi()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!==typeof window&&Mi()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};To.INTERNAL.registerComponent(new ea("messaging-compat",Xg,"PUBLIC").setServiceProps(Zg)),To.registerVersion("@firebase/messaging-compat","0.2.4");var ek,tk="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},nk={},rk=rk||{},ik=tk||self;function ak(){}function ok(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function uk(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var sk="closure_uid_"+(1e9*Math.random()>>>0),ck=0;function lk(e,t,n){return e.call.apply(e.bind,arguments)}function fk(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function hk(e,t,n){return(hk=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lk:fk).apply(null,arguments)}function dk(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function pk(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function vk(){this.s=this.s,this.o=this.o}vk.prototype.s=!1,vk.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,sk)&&e[sk]||(e[sk]=++ck))},vk.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var mk=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function yk(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function gk(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ok(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function kk(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}kk.prototype.h=function(){this.defaultPrevented=!0};var bk=function(){if(!ik.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ik.addEventListener("test",ak,t),ik.removeEventListener("test",ak,t)}catch(n){}return e}();function wk(e){return/^[\s\xa0]*$/.test(e)}var xk=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function _k(e,t){return e<t?-1:e>t?1:0}function Ik(){var e=ik.navigator;return e&&(e=e.userAgent)?e:""}function Sk(e){return-1!=Ik().indexOf(e)}function Ek(e){return Ek[" "](e),e}function Tk(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}Ek[" "]=ak;var Ck,Nk=Sk("Opera"),Ak=Sk("Trident")||Sk("MSIE"),Pk=Sk("Edge"),Dk=Pk||Ak,Ok=Sk("Gecko")&&!(-1!=Ik().toLowerCase().indexOf("webkit")&&!Sk("Edge"))&&!(Sk("Trident")||Sk("MSIE"))&&!Sk("Edge"),Rk=-1!=Ik().toLowerCase().indexOf("webkit")&&!Sk("Edge");function Lk(){var e=ik.document;return e?e.documentMode:void 0}e:{var Mk="",jk=function(){var e=Ik();return Ok?/rv:([^\);]+)(\)|;)/.exec(e):Pk?/Edge\/([\d\.]+)/.exec(e):Ak?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rk?/WebKit\/(\S+)/.exec(e):Nk?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(jk&&(Mk=jk?jk[1]:""),Ak){var Fk=Lk();if(null!=Fk&&Fk>parseFloat(Mk)){Ck=String(Fk);break e}}Ck=Mk}var Uk,Vk={};if(ik.document&&Ak){var Bk=Lk();Uk=Bk||(parseInt(Ck,10)||void 0)}else Uk=void 0;var zk=Uk;function qk(e,t){if(kk.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ok){e:{try{Ek(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Kk[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qk.$.h.call(this)}}pk(qk,kk);var Kk={2:"touch",3:"pen",4:"mouse"};qk.prototype.h=function(){qk.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Wk="closure_listenable_"+(1e6*Math.random()|0),Hk=0;function Gk(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Hk,this.fa=this.ia=!1}function Qk(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function $k(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Yk(e){var t={};for(var n in e)t[n]=e[n];return t}var Jk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xk(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Jk.length;a++)n=Jk[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Zk(e){this.src=e,this.g={},this.h=0}function eb(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=mk(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Qk(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function tb(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Zk.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=tb(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Gk(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var nb="closure_lm_"+(1e6*Math.random()|0),rb={};function ib(e,t,n,r,i){if(r&&r.once)return ob(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ib(e,t[a],n,r,i);return null}return n=db(n),e&&e[Wk]?e.O(t,n,uk(r)?!!r.capture:!!r,i):ab(e,t,n,!1,r,i)}function ab(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=uk(i)?!!i.capture:!!i,u=fb(e);if(u||(e[nb]=u=new Zk(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=lb;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bk||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(cb(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ob(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ob(e,t[a],n,r,i);return null}return n=db(n),e&&e[Wk]?e.P(t,n,uk(r)?!!r.capture:!!r,i):ab(e,t,n,!0,r,i)}function ub(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ub(e,t[a],n,r,i);else r=uk(r)?!!r.capture:!!r,n=db(n),e&&e[Wk]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=tb(a=e.g[t],n,r,i))&&(Qk(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=fb(e))&&(t=e.g[t.toString()],e=-1,t&&(e=tb(t,n,r,i)),(n=-1<e?t[e]:null)&&sb(n))}function sb(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Wk])eb(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(cb(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fb(t))?(eb(n,e),0==n.h&&(n.src=null,t[nb]=null)):Qk(e)}}}function cb(e){return e in rb?rb[e]:rb[e]="on"+e}function lb(e,t){if(e.fa)e=!0;else{t=new qk(t,this);var n=e.listener,r=e.la||e.src;e.ia&&sb(e),e=n.call(r,t)}return e}function fb(e){return(e=e[nb])instanceof Zk?e:null}var hb="__closure_events_fn_"+(1e9*Math.random()>>>0);function db(e){return"function"===typeof e?e:(e[hb]||(e[hb]=function(t){return e.handleEvent(t)}),e[hb])}function pb(){vk.call(this),this.i=new Zk(this),this.S=this,this.J=null}function vb(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new kk(t,e);else if(t instanceof kk)t.target=t.target||e;else{var i=t;Xk(t=new kk(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=mb(o,r,!0,t)&&i}if(i=mb(o=t.g=e,r,!0,t)&&i,i=mb(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=mb(o=t.g=n[a],r,!1,t)&&i}function mb(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&eb(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}pk(pb,vk),pb.prototype[Wk]=!0,pb.prototype.removeEventListener=function(e,t,n,r){ub(this,e,t,n,r)},pb.prototype.N=function(){if(pb.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qk(n[r]);delete t.g[e],t.h--}}this.J=null},pb.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pb.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var yb=ik.JSON.stringify;function gb(){var e=Eb,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var kb,bb=function(){function e(){h(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=wb.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),wb=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new xb}),(function(e){return e.reset()})),xb=function(){function e(){h(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function _b(e){ik.setTimeout((function(){throw e}),0)}function Ib(e,t){kb||function(){var e=ik.Promise.resolve(void 0);kb=function(){e.then(Tb)}}(),Sb||(kb(),Sb=!0),Eb.add(e,t)}var Sb=!1,Eb=new bb;function Tb(){for(var e;e=gb();){try{e.h.call(e.g)}catch(n){_b(n)}var t=wb;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Sb=!1}function Cb(e,t){pb.call(this),this.h=e||1,this.g=t||ik,this.j=hk(this.qb,this),this.l=Date.now()}function Nb(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ab(e,t,n){if("function"===typeof e)n&&(e=hk(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=hk(e.handleEvent,e)}return 2147483647<Number(t)?-1:ik.setTimeout(e,t||0)}function Pb(e){e.g=Ab((function(){e.g=null,e.i&&(e.i=!1,Pb(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}pk(Cb,pb),(ek=Cb.prototype).ga=!1,ek.T=null,ek.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vb(this,"tick"),this.ga&&(Nb(this),this.start()))}},ek.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ek.N=function(){Cb.$.N.call(this),Nb(this),delete this.g};var Db=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Pb(this)}},{key:"N",value:function(){Co(k(n.prototype),"N",this).call(this),this.g&&(ik.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(vk);function Ob(e){vk.call(this),this.h=e,this.g={}}pk(Ob,vk);var Rb=[];function Lb(e,t,n,r){Array.isArray(n)||(n&&(Rb[0]=n.toString()),n=Rb);for(var i=0;i<n.length;i++){var a=ib(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Mb(e){$k(e.g,(function(e,t){this.g.hasOwnProperty(t)&&sb(e)}),e),e.g={}}function jb(){this.g=!0}function Fb(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return yb(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ob.prototype.N=function(){Ob.$.N.call(this),Mb(this)},Ob.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jb.prototype.Ea=function(){this.g=!1},jb.prototype.info=function(){};var Ub={},Vb=null;function Bb(){return Vb=Vb||new pb}function zb(e){kk.call(this,Ub.Ta,e)}function qb(e){var t=Bb();vb(t,new zb(t))}function Kb(e,t){kk.call(this,Ub.STAT_EVENT,e),this.stat=t}function Wb(e){var t=Bb();vb(t,new Kb(t,e))}function Hb(e,t){kk.call(this,Ub.Ua,e),this.size=t}function Gb(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ik.setTimeout((function(){e()}),t)}Ub.Ta="serverreachability",pk(zb,kk),Ub.STAT_EVENT="statevent",pk(Kb,kk),Ub.Ua="timingevent",pk(Hb,kk);var Qb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$b={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yb(){}function Jb(e){return e.h||(e.h=e.i())}function Xb(){}Yb.prototype.h=null;var Zb,ew={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tw(){kk.call(this,"d")}function nw(){kk.call(this,"c")}function rw(){}function iw(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ob(this),this.P=ow,e=Dk?125:void 0,this.V=new Cb(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new aw}function aw(){this.i=null,this.g="",this.h=!1}pk(tw,kk),pk(nw,kk),pk(rw,Yb),rw.prototype.g=function(){return new XMLHttpRequest},rw.prototype.i=function(){return{}},Zb=new rw;var ow=45e3,uw={},sw={};function cw(e,t,n){e.L=1,e.v=Cw(_w(t)),e.s=n,e.S=!0,lw(e,null)}function lw(e,t){e.G=Date.now(),pw(e),e.A=_w(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Bw(n.i,"t",r),e.C=0,n=e.l.I,e.h=new aw,e.g=zx(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Db(hk(e.Pa,e,e.g),e.O)),Lb(e.U,e.g,"readystatechange",e.nb),t=e.I?Yk(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),qb(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function fw(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function hw(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=dw(e,n))==sw){4==t&&(e.o=4,Wb(14),i=!1),Fb(e.j,e.m,null,"[Incomplete Response]");break}if(r==uw){e.o=4,Wb(15),Fb(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Fb(e.j,e.m,r,null),kw(e,r)}fw(e)&&r!=sw&&r!=uw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Wb(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rx(t),t.L=!0,Wb(11))):(Fb(e.j,e.m,n,"[Invalid Chunked Response]"),gw(e),yw(e))}function dw(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?sw:(n=Number(t.substring(n,r)),isNaN(n)?uw:(r+=1)+n>t.length?sw:(t=t.substr(r,n),e.C=r+n,t))}function pw(e){e.Y=Date.now()+e.P,vw(e,e.P)}function vw(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Gb(hk(e.lb,e),t)}function mw(e){e.B&&(ik.clearTimeout(e.B),e.B=null)}function yw(e){0==e.l.H||e.J||jx(e.l,e)}function gw(e){mw(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,Nb(e.V),Mb(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function kw(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||$w(n.h,e)))if(!e.K&&$w(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Mx(n),Ex(n)}Ox(n),Wb(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=Gb(hk(n.ib,n),6e3));if(1>=Qw(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else Ux(n,11)}else if((e.K||n.g==e)&&Mx(n),!wk(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var u=a[4];null!=u&&(n.Ga=u,n.j.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Yw(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Tw(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Bx(r,r.I?r.oa:null,r.Y),d.K){Jw(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(mw(p),pw(p)),r.g=d}else Dx(r);0<n.i.length&&Cx(n)}else"stop"!=a[0]&&"close"!=a[0]||Ux(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ux(n,7):Sx(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}qb()}catch(a){}}function bw(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ok(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ok(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ok(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ek=iw.prototype).setTimeout=function(e){this.P=e},ek.nb=function(e){e=e.target;var t=this.M;t&&3==kx(e)?t.l():this.Pa(e)},ek.Pa=function(e){try{if(e==this.g)e:{var t=kx(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Dk||this.g&&(this.h.h||this.g.ja()||bx(this.g)))){this.J||4!=t||7==n||qb(),mw(this);var r=this.g.da();this.aa=r;t:if(fw(this)){var i=bx(this.g);e="";var a=i.length,o=4==kx(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){gw(this),yw(this);var u="";break t}this.h.i=new ik.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wk(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Wb(12),gw(this),yw(this);break e}Fb(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kw(this,r)}this.S?(hw(this,t,u),Dk&&this.i&&3==t&&(Lb(this.U,this.V,"tick",this.mb),this.V.start())):(Fb(this.j,this.m,u,null),kw(this,u)),4==t&&gw(this),this.i&&!this.J&&(4==t?jx(this.l,this):(this.i=!1,pw(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Wb(12)):(this.o=0,Wb(13)),gw(this),yw(this)}}}catch(t){}},ek.mb=function(){if(this.g){var e=kx(this.g),t=this.g.ja();this.C<t.length&&(mw(this),hw(this,e,t),this.i&&4!=e&&pw(this))}},ek.cancel=function(){this.J=!0,gw(this)},ek.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(qb(),Wb(17)),gw(this),this.o=2,yw(this)):vw(this,this.Y-e)};var ww=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xw(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof xw){this.h=void 0!==t?t:e.h,Iw(this,e.j),this.s=e.s,this.g=e.g,Sw(this,e.m),this.l=e.l,t=e.i;var n=new jw;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ew(this,n),this.o=e.o}else e&&(n=String(e).match(ww))?(this.h=!!t,Iw(this,n[1]||"",!0),this.s=Nw(n[2]||""),this.g=Nw(n[3]||"",!0),Sw(this,n[4]),this.l=Nw(n[5]||"",!0),Ew(this,n[6]||"",!0),this.o=Nw(n[7]||"")):(this.h=!!t,this.i=new jw(null,this.h))}function _w(e){return new xw(e)}function Iw(e,t,n){e.j=n?Nw(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Sw(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ew(e,t,n){t instanceof jw?(e.i=t,function(e,t){t&&!e.j&&(Fw(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Uw(this,t),Bw(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Aw(t,Lw)),e.i=new jw(t,e.h))}function Tw(e,t,n){e.i.set(t,n)}function Cw(e){return Tw(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Nw(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Aw(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pw),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pw(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xw.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Aw(t,Dw,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Aw(t,Dw,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Aw(n,"/"==n.charAt(0)?Rw:Ow,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Aw(n,Mw)),e.join("")};var Dw=/[#\/\?@]/g,Ow=/[#\?:]/g,Rw=/[#\?]/g,Lw=/[#\?@]/g,Mw=/#/g;function jw(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Fw(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Uw(e,t){Fw(e),t=zw(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Vw(e,t){return Fw(e),t=zw(e,t),e.g.has(t)}function Bw(e,t,n){Uw(e,t),0<n.length&&(e.i=null,e.g.set(zw(e,t),yk(n)),e.h+=n.length)}function zw(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ek=jw.prototype).add=function(e,t){Fw(this),this.i=null,e=zw(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ek.forEach=function(e,t){Fw(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ek.sa=function(){Fw(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ek.Z=function(e){Fw(this);var t=[];if("string"===typeof e)Vw(this,e)&&(t=t.concat(this.g.get(zw(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ek.set=function(e,t){return Fw(this),this.i=null,Vw(this,e=zw(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ek.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ek.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var qw=m((function e(t,n){h(this,e),this.h=t,this.g=n}));function Kw(e){this.l=e||Hw,ik.PerformanceNavigationTiming?e=0<(e=ik.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ik.g&&ik.g.Ka&&ik.g.Ka()&&ik.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ww,Hw=10;function Gw(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qw(e){return e.h?1:e.g?e.g.size:0}function $w(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Yw(e,t){e.g?e.g.add(t):e.h=t}function Jw(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xw(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=E(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return yk(e.i)}function Zw(){}function ex(){this.g=new Zw}function tx(e,t,n){var r=n||"";try{bw(e,(function(e,n){var i=e;uk(e)&&(i=yb(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(VF){throw t.push(r+"type="+encodeURIComponent("_badmap")),VF}}function nx(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function rx(e){this.l=e.fc||null,this.j=e.ob||!1}function ix(e,t){pb.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ax,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kw.prototype.cancel=function(){if(this.i=Xw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=E(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Zw.prototype.stringify=function(e){return ik.JSON.stringify(e,void 0)},Zw.prototype.parse=function(e){return ik.JSON.parse(e,void 0)},pk(rx,Yb),rx.prototype.g=function(){return new ix(this.l,this.j)},rx.prototype.i=(Ww={},function(){return Ww}),pk(ix,pb);var ax=0;function ox(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ux(e){e.readyState=4,e.l=null,e.j=null,e.A=null,sx(e)}function sx(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ek=ix.prototype).open=function(e,t){if(this.readyState!=ax)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,sx(this)},ek.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ik).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ek.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ux(this)),this.readyState=ax},ek.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sx(this)),this.g&&(this.readyState=3,sx(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ik.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ox(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ek.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ux(this):sx(this),3==this.readyState&&ox(this)}},ek.Za=function(e){this.g&&(this.response=this.responseText=e,ux(this))},ek.Ya=function(e){this.g&&(this.response=e,ux(this))},ek.ka=function(){this.g&&ux(this)},ek.setRequestHeader=function(e,t){this.v.append(e,t)},ek.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ek.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ix.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var cx=ik.JSON.parse;function lx(e){pb.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fx,this.L=this.M=!1}pk(lx,pb);var fx="",hx=/^https?$/i,dx=["POST","PUT"];function px(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vx(e),yx(e)}function vx(e){e.F||(e.F=!0,vb(e,"complete"),vb(e,"error"))}function mx(e){if(e.h&&"undefined"!=typeof rk&&(!e.C[1]||4!=kx(e)||2!=e.da()))if(e.v&&4==kx(e))Ab(e.La,0,e);else if(vb(e,"readystatechange"),4==kx(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(ww)[1]||null;if(!a&&ik.self&&ik.self.location){var o=ik.self.location.protocol;a=o.substr(0,o.length-1)}i=!hx.test(a?a.toLowerCase():"")}t=i}if(t)vb(e,"complete"),vb(e,"success");else{e.m=6;try{var u=2<kx(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.da()+"]",vx(e)}}finally{yx(e)}}}function yx(e,t){if(e.g){gx(e);var n=e.g,r=e.C[0]?ak:null;e.g=null,e.C=null,t||vb(e,"ready");try{n.onreadystatechange=r}catch(VF){}}}function gx(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ik.clearTimeout(e.A),e.A=null)}function kx(e){return e.g?e.g.readyState:0}function bx(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case fx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(S_){return null}}function wx(e){var t="";return $k(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function xx(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wx(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Tw(e,t,n))}function _x(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ix(e){this.Ga=0,this.i=[],this.j=new jb,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_x("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_x("baseRetryDelayMs",5e3,e),this.hb=_x("retryDelaySeedMs",1e4,e),this.eb=_x("forwardChannelMaxRetries",2,e),this.xa=_x("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new Kw(e&&e.concurrentRequestLimit),this.Ja=new ex,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Sx(e){if(Tx(e),3==e.H){var t=e.W++,n=_w(e.G);Tw(n,"SID",e.J),Tw(n,"RID",t),Tw(n,"TYPE","terminate"),Ax(e,n),(t=new iw(e,e.j,t,void 0)).L=2,t.v=Cw(_w(n)),n=!1,ik.navigator&&ik.navigator.sendBeacon&&(n=ik.navigator.sendBeacon(t.v.toString(),"")),!n&&ik.Image&&((new Image).src=t.v,n=!0),n||(t.g=zx(t.l,null),t.g.ha(t.v)),t.G=Date.now(),pw(t)}Vx(e)}function Ex(e){e.g&&(Rx(e),e.g.cancel(),e.g=null)}function Tx(e){Ex(e),e.u&&(ik.clearTimeout(e.u),e.u=null),Mx(e),e.h.cancel(),e.m&&("number"===typeof e.m&&ik.clearTimeout(e.m),e.m=null)}function Cx(e){Gw(e.h)||e.m||(e.m=!0,Ib(e.Na,e),e.C=0)}function Nx(e,t){var n;n=t?t.m:e.W++;var r=_w(e.G);Tw(r,"SID",e.J),Tw(r,"RID",n),Tw(r,"AID",e.V),Ax(e,r),e.o&&e.s&&xx(r,e.o,e.s),n=new iw(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=Px(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Yw(e.h,n),cw(n,r,t)}function Ax(e,t){e.ma&&$k(e.ma,(function(e,n){Tw(t,n,e)})),e.l&&bw({},(function(e,n){Tw(t,n,e)}))}function Px(e,t,n){n=Math.min(e.i.length,n);var r=e.l?hk(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{tx(l,o,"req"+c+"_")}catch(M_){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function Dx(e){e.g||e.u||(e.ba=1,Ib(e.Ma,e),e.A=0)}function Ox(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Gb(hk(e.Ma,e),Fx(e,e.A)),e.A++,!0)}function Rx(e){null!=e.B&&(ik.clearTimeout(e.B),e.B=null)}function Lx(e){e.g=new iw(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=_w(e.wa);Tw(t,"RID","rpc"),Tw(t,"SID",e.J),Tw(t,"CI",e.M?"0":"1"),Tw(t,"AID",e.V),Tw(t,"TYPE","xmlhttp"),Ax(e,t),e.o&&e.s&&xx(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=Cw(_w(t)),n.s=null,n.S=!0,lw(n,e)}function Mx(e){null!=e.v&&(ik.clearTimeout(e.v),e.v=null)}function jx(e,t){var n=null;if(e.g==t){Mx(e),Rx(e),e.g=null;var r=2}else{if(!$w(e.h,t))return;n=t.F,Jw(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;vb(r=Bb(),new Hb(r,n)),Cx(e)}else Dx(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(Qw(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Gb(hk(e.Na,e,t),Fx(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ox(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ux(e,5);break;case 4:Ux(e,10);break;case 3:Ux(e,6);break;default:Ux(e,2)}}function Fx(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function Ux(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=hk(e.pb,e);n||(n=new xw("//www.google.com/images/cleardot.gif"),ik.location&&"http"==ik.location.protocol||Iw(n,"https"),Cw(n)),function(e,t){var n=new jb;if(ik.Image){var r=new Image;r.onload=dk(nx,n,r,"TestLoadImage: loaded",!0,t),r.onerror=dk(nx,n,r,"TestLoadImage: error",!1,t),r.onabort=dk(nx,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=dk(nx,n,r,"TestLoadImage: timeout",!1,t),ik.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Wb(2);e.H=0,e.l&&e.l.za(t),Vx(e),Tx(e)}function Vx(e){if(e.H=0,e.pa=[],e.l){var t=Xw(e.h);0==t.length&&0==e.i.length||(gk(e.pa,t),gk(e.pa,e.i),e.h.i.length=0,yk(e.i),e.i.length=0),e.l.ya()}}function Bx(e,t,n){var r=n instanceof xw?_w(n):new xw(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Sw(r,r.m);else{var i=ik.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new xw(null,void 0);r&&Iw(a,r),t&&(a.g=t),i&&Sw(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Tw(r,n,t),Tw(r,"VER",e.qa),Ax(e,r),r}function zx(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new lx(new rx({ob:!0})):new lx(e.va)).Oa(e.I),t}function qx(){}function Kx(){if(Ak&&!(10<=Number(zk)))throw Error("Environmental error: no available transport.")}function Wx(e,t){pb.call(this),this.g=new Ix(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!wk(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!wk(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Qx(this)}function Hx(e){tw.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Gx(){nw.call(this),this.status=1}function Qx(e){this.g=e}function $x(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Yx(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Jx(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(ek=lx.prototype).Oa=function(e){this.M=e},ek.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zb.g(),this.C=this.u?Jb(this.u):Jb(Zb),this.g.onreadystatechange=hk(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void px(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=E(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ik.FormData&&e instanceof ik.FormData,!(0<=mk(dx,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=E(n);try{for(l.s();!(s=l.n()).done;){var f=c(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gx(this),0<this.B&&((this.L=function(e){return Ak&&Tk(Vk,9,(function(){for(var e=0,t=xk(String(Ck)).split("."),n=xk("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=_k(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||_k(0==a[2].length,0==o[2].length)||_k(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hk(this.ua,this)):this.A=Ab(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){px(this,u)}},ek.ua=function(){"undefined"!=typeof rk&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vb(this,"timeout"),this.abort(8))},ek.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,vb(this,"complete"),vb(this,"abort"),yx(this))},ek.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yx(this,!0)),lx.$.N.call(this)},ek.La=function(){this.s||(this.G||this.v||this.l?mx(this):this.kb())},ek.kb=function(){mx(this)},ek.da=function(){try{return 2<kx(this)?this.g.status:-1}catch(Ww){return-1}},ek.ja=function(){try{return this.g?this.g.responseText:""}catch(Ww){return""}},ek.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cx(t)}},ek.Ia=function(){return this.m},ek.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ek=Ix.prototype).qa=8,ek.H=1,ek.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new iw(this,this.j,e,void 0),n=this.s;if(this.U&&(n?Xk(n=Yk(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Px(this,t,r),Tw(i=_w(this.G),"RID",e),Tw(i,"CVER",22),this.F&&Tw(i,"X-HTTP-Session-Id",this.F),Ax(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(wx(n)))+"&"+r:this.o&&xx(i,this.o,n)),Yw(this.h,t),this.bb&&Tw(i,"TYPE","init"),this.P?(Tw(i,"$req",r),Tw(i,"SID","null"),t.ba=!0,cw(t,i,null)):cw(t,i,r),this.H=2}}else 3==this.H&&(e?Nx(this,e):0==this.i.length||Gw(this.h)||Nx(this))},ek.Ma=function(){if(this.u=null,Lx(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=Gb(hk(this.jb,this),e)}},ek.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Wb(10),Ex(this),Lx(this))},ek.ib=function(){null!=this.v&&(this.v=null,Ex(this),Ox(this),Wb(19))},ek.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Wb(2)):(this.j.info("Failed to ping google.com"),Wb(1))},(ek=qx.prototype).Ba=function(){},ek.Aa=function(){},ek.za=function(){},ek.ya=function(){},ek.Va=function(){},Kx.prototype.g=function(e,t){return new Wx(e,t)},pk(Wx,pb),Wx.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Wb(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=Bx(e,null,e.Y),Cx(e)},Wx.prototype.close=function(){Sx(this.g)},Wx.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=yb(e),e=n);t.i.push(new qw(t.fb++,e)),3==t.H&&Cx(t)},Wx.prototype.N=function(){this.g.l=null,delete this.j,Sx(this.g),delete this.g,Wx.$.N.call(this)},pk(Hx,tw),pk(Gx,nw),pk(Qx,qx),Qx.prototype.Ba=function(){vb(this.g,"a")},Qx.prototype.Aa=function(e){vb(this.g,new Hx(e))},Qx.prototype.za=function(e){vb(this.g,new Gx)},Qx.prototype.ya=function(){vb(this.g,"b")},pk($x,(function(){this.blockSize=-1})),$x.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$x.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Yx(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Yx(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Yx(this,r),i=0;break}}this.h=i,this.i+=t},$x.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Xx={};function Zx(e){return-128<=e&&128>e?Tk(Xx,e,(function(e){return new Jx([0|e],0>e?-1:0)})):new Jx([0|e],0>e?-1:0)}function e_(e){if(isNaN(e)||!isFinite(e))return n_;if(0>e)return u_(e_(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=t_;return new Jx(t,0)}var t_=4294967296,n_=Zx(0),r_=Zx(1),i_=Zx(16777216);function a_(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function o_(e){return-1==e.h}function u_(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Jx(n,~e.h).add(r_)}function s_(e,t){return e.add(u_(t))}function c_(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function l_(e,t){this.g=e,this.h=t}function f_(e,t){if(a_(t))throw Error("division by zero");if(a_(e))return new l_(n_,n_);if(o_(e))return t=f_(u_(e),t),new l_(u_(t.g),u_(t.h));if(o_(t))return t=f_(e,u_(t)),new l_(u_(t.g),t.h);if(30<e.g.length){if(o_(e)||o_(t))throw Error("slowDivide_ only works with positive integers.");for(var n=r_,r=t;0>=r.X(e);)n=h_(n),r=h_(r);var i=d_(n,1),a=d_(r,1);for(r=d_(r,2),n=d_(n,2);!a_(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=d_(r,1),n=d_(n,1)}return t=s_(e,i.R(t)),new l_(i,t)}for(i=n_;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=e_(n)).R(t);o_(o)||0<o.X(e);)o=(a=e_(n-=r)).R(t);a_(a)&&(a=r_),i=i.add(a),e=s_(e,o)}return new l_(i,e)}function h_(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Jx(n,e.h)}function d_(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Jx(i,e.h)}(ek=Jx.prototype).ea=function(){if(o_(this))return-u_(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:t_+r)*t,t*=t_}return e},ek.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(a_(this))return"0";if(o_(this))return"-"+u_(this).toString(e);for(var t=e_(Math.pow(e,6)),n=this,r="";;){var i=f_(n,t).g,a=((0<(n=s_(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(a_(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},ek.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ek.X=function(e){return o_(e=s_(this,e))?-1:a_(e)?0:1},ek.abs=function(){return o_(this)?u_(this):this},ek.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Jx(n,-2147483648&n[n.length-1]?-1:0)},ek.R=function(e){if(a_(this)||a_(e))return n_;if(o_(this))return o_(e)?u_(this).R(u_(e)):u_(u_(this).R(e));if(o_(e))return u_(this.R(u_(e)));if(0>this.X(i_)&&0>e.X(i_))return e_(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,c_(n,2*r+2*i),n[2*r+2*i+1]+=a*s,c_(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,c_(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,c_(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Jx(n,0)},ek.gb=function(e){return f_(this,e).h},ek.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Jx(n,this.h&e.h)},ek.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Jx(n,this.h|e.h)},ek.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Jx(n,this.h^e.h)},Kx.prototype.createWebChannel=Kx.prototype.g,Wx.prototype.send=Wx.prototype.u,Wx.prototype.open=Wx.prototype.m,Wx.prototype.close=Wx.prototype.close,Qb.NO_ERROR=0,Qb.TIMEOUT=8,Qb.HTTP_ERROR=6,$b.COMPLETE="complete",Xb.EventType=ew,ew.OPEN="a",ew.CLOSE="b",ew.ERROR="c",ew.MESSAGE="d",pb.prototype.listen=pb.prototype.O,lx.prototype.listenOnce=lx.prototype.P,lx.prototype.getLastError=lx.prototype.Sa,lx.prototype.getLastErrorCode=lx.prototype.Ia,lx.prototype.getStatus=lx.prototype.da,lx.prototype.getResponseJson=lx.prototype.Wa,lx.prototype.getResponseText=lx.prototype.ja,lx.prototype.send=lx.prototype.ha,lx.prototype.setWithCredentials=lx.prototype.Oa,$x.prototype.digest=$x.prototype.l,$x.prototype.reset=$x.prototype.reset,$x.prototype.update=$x.prototype.j,Jx.prototype.add=Jx.prototype.add,Jx.prototype.multiply=Jx.prototype.R,Jx.prototype.modulo=Jx.prototype.gb,Jx.prototype.compare=Jx.prototype.X,Jx.prototype.toNumber=Jx.prototype.ea,Jx.prototype.toString=Jx.prototype.toString,Jx.prototype.getBits=Jx.prototype.D,Jx.fromNumber=e_,Jx.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return u_(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=e_(Math.pow(n,8)),i=n_,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=e_(Math.pow(n,o)),i=i.R(o).add(e_(u))):i=(i=i.R(r)).add(e_(u))}return i};var p_=nk.createWebChannelTransport=function(){return new Kx},v_=nk.getStatEventTarget=function(){return Bb()},m_=nk.ErrorCode=Qb,y_=nk.EventType=$b,g_=nk.Event=Ub,k_=nk.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},b_=nk.FetchXmlHttpFactory=rx,w_=nk.WebChannel=Xb,x_=nk.XhrIo=lx,__=nk.Md5=$x,I_=nk.Integer=Jx,S_="@firebase/firestore",E_=function(){function e(t){h(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();E_.UNAUTHENTICATED=new E_(null),E_.GOOGLE_CREDENTIALS=new E_("google-credentials-uid"),E_.FIRST_PARTY=new E_("first-party-uid"),E_.MOCK_USER=new E_("mock-user");var T_="9.22.0",C_=new fa("@firebase/firestore");function N_(){return C_.logLevel}function A_(e){if(C_.logLevel<=ia.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(O_);C_.debug.apply(C_,["Firestore (".concat(T_,"): ").concat(e)].concat(f(i)))}}function P_(e){if(C_.logLevel<=ia.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(O_);C_.error.apply(C_,["Firestore (".concat(T_,"): ").concat(e)].concat(f(i)))}}function D_(e){if(C_.logLevel<=ia.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(O_);C_.warn.apply(C_,["Firestore (".concat(T_,"): ").concat(e)].concat(f(i)))}}function O_(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function R_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(T_,") INTERNAL ASSERTION FAILED: ")+e;throw P_(t),new Error(t)}function L_(e,t){e||R_()}function M_(e,t){return e}var j_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F_=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}(ji),U_=m((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),V_=m((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),B_=function(){function e(){h(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(E_.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),z_=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),q_=function(){function e(t){h(this,e),this.t=t,this.currentUser=E_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new U_;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new U_,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){A_("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(A_("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new U_)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(A_("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(L_("string"==typeof n.accessToken),new V_(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return L_(null===e||"string"==typeof e),new E_(e)}}]),e}(),K_=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=E_.FIRST_PARTY,this.g=new Map}return m(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),W_=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new K_(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(E_.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),H_=m((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),G_=function(){function e(t){h(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&A_("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,A_("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){A_("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):A_("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(L_("string"==typeof t.token),e.T=t.token,new H_(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Q_(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var $_=function(){function e(){h(this,e)}return m(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Q_(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Y_(e,t){return e<t?-1:e>t?1:0}function J_(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function X_(e){return e+"\0"}var Z_=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new F_(j_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F_(j_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new F_(j_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F_(j_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Y_(this.nanoseconds,e.nanoseconds):Y_(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),eI=function(){function e(t){h(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Z_(0,0))}},{key:"max",value:function(){return new e(new Z_(253402300799,999999999))}}]),e}(),tI=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&R_(),void 0===r?r=t.length-n:r>t.length-n&&R_(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),nI=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new F_(j_.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,f(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tI),rI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,iI=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return rI.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new F_(j_.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new F_(j_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new F_(j_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new F_(j_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tI),aI=function(){function e(t){h(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===nI.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(nI.fromString(t))}},{key:"fromName",value:function(t){return new e(nI.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(nI.emptyPath())}},{key:"comparator",value:function(e,t){return nI.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new nI(t.slice()))}}]),e}(),oI=m((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function uI(e){return e.fields.find((function(e){return 2===e.kind}))}function sI(e){return e.fields.filter((function(e){return 2!==e.kind}))}oI.UNKNOWN_ID=-1;var cI=m((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var lI=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return m(e,null,[{key:"empty",value:function(){return new e(0,dI.min())}}]),e}();function fI(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=eI.fromTimestamp(1e9===r?new Z_(n+1,0):new Z_(n,r));return new dI(i,aI.empty(),t)}function hI(e){return new dI(e.readTime,e.key,-1)}var dI=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(eI.min(),aI.empty(),-1)}},{key:"max",value:function(){return new e(eI.max(),aI.empty(),-1)}}]),e}();function pI(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=aI.comparator(e.documentKey,t.documentKey))?n:Y_(e.largestBatchId,t.largestBatchId)}var vI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mI=function(){function e(){h(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function yI(e){return gI.apply(this,arguments)}function gI(){return(gI=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===j_.FAILED_PRECONDITION&&t.message===vI){e.next=2;break}throw t;case 2:A_("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kI=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&R_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=E(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),bI=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new U_,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new _I(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=CI(e.target.error);r.v.reject(new _I(t,n))}}return m(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(A_("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new SI(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new _I(n,t)}}}]),e}(),wI=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(Pi())&&P_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return m(e,[{key:"$",value:function(){var e=Zi(Ji().mark((function e(t){var n=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return A_("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new _I(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new F_(j_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new F_(j_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new _I(t,n))},i.onupgradeneeded=function(e){A_("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){A_("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Zi(Ji().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Ji().mark((function e(){var n,u,s,l;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=bI.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),kI.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.R;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,A_("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return A_("SimpleDb","Removing database:",e),EI(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Mi())return!1;if(e.C())return!0;var t=Pi(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),xI=function(){function e(t){h(this,e),this.L=t,this.q=!1,this.U=null}return m(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return EI(this.L.delete())}}]),e}(),_I=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,j_.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return m(n)}(F_);function II(e){return"IndexedDbTransactionError"===e.name}var SI=function(){function e(t){h(this,e),this.store=t}return m(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(A_("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(A_("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),EI(n)}},{key:"add",value:function(e){return A_("SimpleDb","ADD",this.store.name,e,e),EI(this.store.add(e))}},{key:"get",value:function(e){var t=this;return EI(this.store.get(e)).next((function(n){return void 0===n&&(n=null),A_("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return A_("SimpleDb","DELETE",this.store.name,e),EI(this.store.delete(e))}},{key:"count",value:function(){return A_("SimpleDb","COUNT",this.store.name),EI(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new kI((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new kI((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){A_("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new kI((function(n,r){t.onerror=function(e){var t=CI(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new kI((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new xI(i),o=t(i.primaryKey,i.value,a);if(o instanceof kI){var u=o.catch((function(e){return a.done(),kI.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return kI.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function EI(e){return new kI((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=CI(e.target.error);n(t)}}))}var TI=!1;function CI(e){var t=wI.S(Pi());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new F_("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return TI||(TI=!0,setTimeout((function(){throw r}),0)),r}}return e}var NI=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return m(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;A_("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=A_,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!II(e.t4)){e.next=17;break}A_("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,yI(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),AI=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return m(e,[{key:"nt",value:function(){var e=Zi(Ji().mark((function e(){var t,n=this,r=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return kI.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return A_("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return A_("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=hI(t);pI(r,n)>0&&(n=r)})),new dI(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),PI=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function DI(e){return null==e}function OI(e){return 0===e&&1/e==-1/0}function RI(e){return"number"==typeof e&&Number.isInteger(e)&&!OI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function LI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=jI(t)),t=MI(e.get(n),t);return jI(t)}function MI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function jI(e){return e+"\x01\x01"}function FI(e){var t=e.length;if(L_(t>=2),2===t)return L_("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),nI.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&R_(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:R_()}a=o+2}return new nI(r)}PI.ct=-1;var UI=["userId","batchId"];function VI(e,t){return[e,LI(t)]}function BI(e,t,n){return[e,LI(t),n]}var zI={},qI=["prefixPath","collectionGroup","readTime","documentId"],KI=["prefixPath","collectionGroup","documentId"],WI=["collectionGroup","readTime","prefixPath","documentId"],HI=["canonicalId","targetId"],GI=["targetId","path"],QI=["path","targetId"],$I=["collectionId","parent"],YI=["indexId","uid"],JI=["uid","sequenceNumber"],XI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ZI=["indexId","uid","orderedDocumentKey"],eS=["userId","collectionPath","documentId"],tS=["userId","collectionPath","largestBatchId"],nS=["userId","collectionGroup","largestBatchId"],rS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),iS=[].concat(f(rS),["documentOverlays"]),aS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oS=aS,uS=[].concat(oS,["indexConfiguration","indexState","indexEntries"]),sS=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return m(n)}(mI);function cS(e,t){var n=M_(e);return wI.M(n.ht,t)}function lS(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fS(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var dS=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||vS.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,vS.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vS.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new pS(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new pS(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new pS(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new pS(this.root,e,this.comparator,!0)}}]),e}(),pS=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),vS=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw R_();if(this.right.isRed())throw R_();var e=this.left.check();if(e!==this.right.check())throw R_();return e+(this.isRed()?0:1)}}]),e}();vS.EMPTY=null,vS.RED=!0,vS.BLACK=!1,vS.EMPTY=new(function(){function e(){h(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw R_()}},{key:"value",get:function(){throw R_()}},{key:"color",get:function(){throw R_()}},{key:"left",get:function(){throw R_()}},{key:"right",get:function(){throw R_()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new vS(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var mS=function(){function e(t){h(this,e),this.comparator=t,this.data=new dS(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new yS(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new yS(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),yS=function(){function e(t){h(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function gS(e){return e.hasNext()?e.getNext():void 0}var kS=function(){function e(t){h(this,e),this.fields=t,t.sort(iI.comparator)}return m(e,[{key:"unionWith",value:function(t){var n,r=new mS(iI.comparator),i=E(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=E(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=E(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return J_(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),bS=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return m(n)}(I(Error));var wS=function(e){function t(e){h(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Y_(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bS("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();wS.EMPTY_BYTE_STRING=new wS("");var xS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _S(e){if(L_(!!e),"string"==typeof e){var t=0,n=xS.exec(e);if(L_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:IS(e.seconds),nanos:IS(e.nanos)}}function IS(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function SS(e){return"string"==typeof e?wS.fromBase64String(e):wS.fromUint8Array(e)}function ES(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function TS(e){var t=e.mapValue.fields.__previous_value__;return ES(t)?TS(t):t}function CS(e){var t=_S(e.mapValue.fields.__local_write_time__.timestampValue);return new Z_(t.seconds,t.nanos)}var NS=m((function e(t,n,r,i,a,o,u,s,c){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),AS=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),PS={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},DS={nullValue:"NULL_VALUE"};function OS(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ES(e)?4:GS(e)?9007199254740991:10:R_()}function RS(e,t){if(e===t)return!0;var n=OS(e);if(n!==OS(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return CS(e).isEqual(CS(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=_S(e.timestampValue),r=_S(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return SS(e.bytesValue).isEqual(SS(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return IS(e.geoPointValue.latitude)===IS(t.geoPointValue.latitude)&&IS(e.geoPointValue.longitude)===IS(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return IS(e.integerValue)===IS(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=IS(e.doubleValue),r=IS(t.doubleValue);return n===r?OI(n)===OI(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return J_(e.arrayValue.values||[],t.arrayValue.values||[],RS);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(lS(n)!==lS(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!RS(n[i],r[i])))return!1;return!0}(e,t);default:return R_()}}function LS(e,t){return void 0!==(e.values||[]).find((function(e){return RS(e,t)}))}function MS(e,t){if(e===t)return 0;var n=OS(e),r=OS(t);if(n!==r)return Y_(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y_(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=IS(e.integerValue||e.doubleValue),r=IS(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return jS(e.timestampValue,t.timestampValue);case 4:return jS(CS(e),CS(t));case 5:return Y_(e.stringValue,t.stringValue);case 6:return function(e,t){var n=SS(e),r=SS(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Y_(n[i],r[i]);if(0!==a)return a}return Y_(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Y_(IS(e.latitude),IS(t.latitude));return 0!==n?n:Y_(IS(e.longitude),IS(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=MS(n[i],r[i]);if(a)return a}return Y_(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===PS.mapValue&&t===PS.mapValue)return 0;if(e===PS.mapValue)return 1;if(t===PS.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Y_(r[o],a[o]);if(0!==u)return u;var s=MS(n[r[o]],i[a[o]]);if(0!==s)return s}return Y_(r.length,a.length)}(e.mapValue,t.mapValue);default:throw R_()}}function jS(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Y_(e,t);var n=_S(e),r=_S(t),i=Y_(n.seconds,r.seconds);return 0!==i?i:Y_(n.nanos,r.nanos)}function FS(e){return US(e)}function US(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=_S(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?SS(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,aI.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=E(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=US(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=E(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(US(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):R_();var t,n}function VS(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function BS(e){return!!e&&"integerValue"in e}function zS(e){return!!e&&"arrayValue"in e}function qS(e){return!!e&&"nullValue"in e}function KS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function WS(e){return!!e&&"mapValue"in e}function HS(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return fS(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=HS(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=HS(e.arrayValue.values[r]);return n}return Object.assign({},e)}function GS(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function QS(e){return"nullValue"in e?DS:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?VS(AS.empty(),aI.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:R_()}function $S(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?VS(AS.empty(),aI.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?PS:R_()}function YS(e,t){var n=MS(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function JS(e,t){var n=MS(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var XS=function(){function e(t){h(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!WS(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=HS(t)}},{key:"setAll",value:function(e){var t=this,n=iI.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=HS(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());WS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return RS(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];WS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){fS(t,(function(t,n){return e[t]=n}));var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(HS(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ZS(e){var t=[];return fS(e.fields,(function(e,n){var r=new iI([e]);if(WS(n)){var i=ZS(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=E(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new kS(t)}var eE=function(){function e(t,n,r,i,a,o,u){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(eI.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=XS.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=XS.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=eI.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,eI.min(),eI.min(),eI.min(),XS.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,eI.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,eI.min(),eI.min(),XS.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,eI.min(),eI.min(),XS.empty(),2)}}]),e}(),tE=m((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function nE(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?aI.comparator(aI.fromName(o.referenceValue),n.key):MS(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function rE(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!RS(e.position[n],t.position[n]))return!1;return!0}var iE=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function aE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var oE=m((function e(){h(this,e)})),uE=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(MS(t,this.value)):null!==t&&OS(this.value)===OS(t)&&this.matchesComparison(MS(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R_()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new yE(e,t,r):"array-contains"===t?new wE(e,r):"in"===t?new xE(e,r):"not-in"===t?new _E(e,r):"array-contains-any"===t?new IE(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new gE(e,n):new kE(e,n)}}]),n}(oE),sE=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return m(n,[{key:"matches",value:function(e){return cE(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=E(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(oE);function cE(e){return"and"===e.op}function lE(e){return"or"===e.op}function fE(e){return hE(e)&&cE(e)}function hE(e){var t,n=E(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof sE)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function dE(e){if(e instanceof uE)return e.field.canonicalString()+e.op.toString()+FS(e.value);if(fE(e))return e.filters.map((function(e){return dE(e)})).join(",");var t=e.filters.map((function(e){return dE(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function pE(e,t){return e instanceof uE?function(e,t){return t instanceof uE&&e.op===t.op&&e.field.isEqual(t.field)&&RS(e.value,t.value)}(e,t):e instanceof sE?function(e,t){return t instanceof sE&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&pE(n,t.filters[r])}),!0)}(e,t):void R_()}function vE(e,t){var n=e.filters.concat(t);return sE.create(n,e.op)}function mE(e){return e instanceof uE?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(FS(e.value))}(e):e instanceof sE?function(e){return e.op.toString()+" {"+e.getFilters().map(mE).join(" ,")+"}"}(e):"Filter"}var yE=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=aI.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=aI.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(uE),gE=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=bE("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uE),kE=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=bE("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uE);function bE(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return aI.fromName(e.referenceValue)}))}var wE=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return zS(t)&&LS(t.arrayValue,this.value)}}]),n}(uE),xE=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&LS(this.value.arrayValue,t)}}]),n}(uE),_E=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(LS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!LS(this.value.arrayValue,t)}}]),n}(uE),IE=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!zS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return LS(t.value.arrayValue,e)}))}}]),n}(uE),SE=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.dt=null}));function EE(e){return new SE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function TE(e){var t=M_(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return dE(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),DI(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return FS(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return FS(e)})).join(",")),t.dt=n}return t.dt}function CE(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!aE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!pE(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rE(e.startAt,t.startAt)&&rE(e.endAt,t.endAt)}function NE(e){return aI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function AE(e,t){return e.filters.filter((function(e){return e instanceof uE&&e.field.isEqual(t)}))}function PE(e,t,n){var r,i=DS,a=!0,o=E(AE(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=DS,c=!0;switch(u.op){case"<":case"<=":s=QS(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=DS}YS({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];YS({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function DE(e,t,n){var r,i=PS,a=!0,o=E(AE(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=PS,c=!0;switch(u.op){case">=":case">":s=$S(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=PS}JS({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];JS({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var OE=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}));function RE(e,t,n,r,i,a,o,u){return new OE(e,t,n,r,i,a,o,u)}function LE(e){return new OE(e)}function ME(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function jE(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function FE(e){var t,n=E(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function UE(e){return null!==e.collectionGroup}function VE(e){var t=M_(e);if(null===t.wt){t.wt=[];var n=FE(t),r=jE(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new iE(n)),t.wt.push(new iE(iI.keyField(),"asc"));else{var i,a=!1,o=E(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new iE(iI.keyField(),s))}}}return t.wt}function BE(e){var t=M_(e);if(!t._t)if("F"===t.limitType)t._t=EE(t.path,t.collectionGroup,VE(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=E(VE(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new iE(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new tE(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new tE(t.startAt.position,t.startAt.inclusive):null;t._t=EE(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function zE(e,t){t.getFirstInequalityField(),FE(e);var n=e.filters.concat([t]);return new OE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function qE(e,t,n){return new OE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function KE(e,t){return CE(BE(e),BE(t))&&e.limitType===t.limitType}function WE(e){return"".concat(TE(BE(e)),"|lt:").concat(e.limitType)}function HE(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return mE(e)})).join(", "),"]")),DI(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return FS(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return FS(e)})).join(",")),"Target(".concat(t,")")}(BE(e)),"; limitType=").concat(e.limitType,")")}function GE(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):aI.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=E(VE(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=E(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=nE(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,VE(e),t))&&!(e.endAt&&!function(e,t,n){var r=nE(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,VE(e),t))}(e,t)}function QE(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $E(e){return function(t,n){var r,i=!1,a=E(VE(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=YE(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function YE(e,t,n){var r=e.field.isKeyField()?aI.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?MS(r,i):R_()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return R_()}}var JE=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){fS(this.inner,(function(t,n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return hS(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),XE=new dS(aI.comparator);function ZE(){return XE}var eT=new dS(aI.comparator);function tT(){for(var e=eT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function nT(e){var t=eT;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function rT(){return aT()}function iT(){return aT()}function aT(){return new JE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var oT=new dS(aI.comparator),uT=new mS(aI.comparator);function sT(){for(var e=uT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var cT=new mS(Y_);function lT(){return cT}function fT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:OI(t)?"-0":t}}function hT(e){return{integerValue:""+e}}function dT(e,t){return RI(t)?hT(t):fT(e,t)}var pT=m((function e(){h(this,e),this._=void 0}));function vT(e,t,n){return e instanceof gT?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ES(t)&&(t=TS(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof kT?bT(e,t):e instanceof wT?xT(e,t):function(e,t){var n=yT(e,t),r=IT(n)+IT(e.gt);return BS(n)&&BS(e.gt)?hT(r):fT(e.serializer,r)}(e,t)}function mT(e,t,n){return e instanceof kT?bT(e,t):e instanceof wT?xT(e,t):n}function yT(e,t){return e instanceof _T?BS(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var gT=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(pT),kT=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(pT);function bT(e,t){var n,r=ST(t),i=E(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return RS(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var wT=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(pT);function xT(e,t){var n,r=ST(t),i=E(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!RS(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var _T=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return m(n)}(pT);function IT(e){return IS(e.integerValue||e.doubleValue)}function ST(e){return zS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ET=m((function e(t,n){h(this,e),this.field=t,this.transform=n}));var TT=m((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),CT=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function NT(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var AT=m((function e(){h(this,e)}));function PT(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qT(e.key,CT.none()):new MT(e.key,e.data,CT.none());var n,r=e.data,i=XS.empty(),a=new mS(iI.comparator),o=E(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new jT(e.key,i,new kS(a.toArray()),CT.none())}function DT(e,t,n){e instanceof MT?function(e,t,n){var r=e.value.clone(),i=UT(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof jT?function(e,t,n){if(NT(e.precondition,t)){var r=UT(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(FT(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function OT(e,t,n,r){return e instanceof MT?function(e,t,n,r){if(!NT(e.precondition,t))return n;var i=e.value.clone(),a=VT(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof jT?function(e,t,n,r){if(!NT(e.precondition,t))return n;var i=VT(e.fieldTransforms,r,t),a=t.data;return a.setAll(FT(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return NT(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function RT(e,t){var n,r=null,i=E(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=yT(a.transform,o||null);null!=u&&(null===r&&(r=XS.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function LT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&J_(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof kT&&t instanceof kT||e instanceof wT&&t instanceof wT?J_(e.elements,t.elements,RS):e instanceof _T&&t instanceof _T?RS(e.gt,t.gt):e instanceof gT&&t instanceof gT}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var MT=function(e){g(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(AT),jT=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return m(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(AT);function FT(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function UT(e,t,n){var r=new Map;L_(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,mT(o,u,n[i]))}return r}function VT(e,t,n){var r,i=new Map,a=E(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,vT(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var BT,zT,qT=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(AT),KT=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(AT),WT=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&DT(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=E(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=OT(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=E(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=OT(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=iT();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=PT(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(eI.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),sT())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&J_(this.mutations,e.mutations,(function(e,t){return LT(e,t)}))&&J_(this.baseMutations,e.baseMutations,(function(e,t){return LT(e,t)}))}}]),e}(),HT=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){L_(t.mutations.length===r.length);for(var i=oT,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),GT=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),QT=m((function e(t,n){h(this,e),this.count=t,this.unchangedNames=n}));function $T(e){switch(e){default:return R_();case j_.CANCELLED:case j_.UNKNOWN:case j_.DEADLINE_EXCEEDED:case j_.RESOURCE_EXHAUSTED:case j_.INTERNAL:case j_.UNAVAILABLE:case j_.UNAUTHENTICATED:return!1;case j_.INVALID_ARGUMENT:case j_.NOT_FOUND:case j_.ALREADY_EXISTS:case j_.PERMISSION_DENIED:case j_.FAILED_PRECONDITION:case j_.ABORTED:case j_.OUT_OF_RANGE:case j_.UNIMPLEMENTED:case j_.DATA_LOSS:return!0}}function YT(e){if(void 0===e)return P_("GRPC error has no .code"),j_.UNKNOWN;switch(e){case BT.OK:return j_.OK;case BT.CANCELLED:return j_.CANCELLED;case BT.UNKNOWN:return j_.UNKNOWN;case BT.DEADLINE_EXCEEDED:return j_.DEADLINE_EXCEEDED;case BT.RESOURCE_EXHAUSTED:return j_.RESOURCE_EXHAUSTED;case BT.INTERNAL:return j_.INTERNAL;case BT.UNAVAILABLE:return j_.UNAVAILABLE;case BT.UNAUTHENTICATED:return j_.UNAUTHENTICATED;case BT.INVALID_ARGUMENT:return j_.INVALID_ARGUMENT;case BT.NOT_FOUND:return j_.NOT_FOUND;case BT.ALREADY_EXISTS:return j_.ALREADY_EXISTS;case BT.PERMISSION_DENIED:return j_.PERMISSION_DENIED;case BT.FAILED_PRECONDITION:return j_.FAILED_PRECONDITION;case BT.ABORTED:return j_.ABORTED;case BT.OUT_OF_RANGE:return j_.OUT_OF_RANGE;case BT.UNIMPLEMENTED:return j_.UNIMPLEMENTED;case BT.DATA_LOSS:return j_.DATA_LOSS;default:return R_()}}(zT=BT||(BT={}))[zT.OK=0]="OK",zT[zT.CANCELLED=1]="CANCELLED",zT[zT.UNKNOWN=2]="UNKNOWN",zT[zT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zT[zT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zT[zT.NOT_FOUND=5]="NOT_FOUND",zT[zT.ALREADY_EXISTS=6]="ALREADY_EXISTS",zT[zT.PERMISSION_DENIED=7]="PERMISSION_DENIED",zT[zT.UNAUTHENTICATED=16]="UNAUTHENTICATED",zT[zT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zT[zT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zT[zT.ABORTED=10]="ABORTED",zT[zT.OUT_OF_RANGE=11]="OUT_OF_RANGE",zT[zT.UNIMPLEMENTED=12]="UNIMPLEMENTED",zT[zT.INTERNAL=13]="INTERNAL",zT[zT.UNAVAILABLE=14]="UNAVAILABLE",zT[zT.DATA_LOSS=15]="DATA_LOSS";var JT=function(){function e(){h(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return m(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return XT}},{key:"getOrCreateInstance",value:function(){return null===XT&&(XT=new e),XT}}]),e}(),XT=null;function ZT(){return new TextEncoder}var eC=new I_([4294967295,4294967295],0);function tC(e){var t=ZT().encode(e),n=new __;return n.update(t),new Uint8Array(n.digest())}function nC(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new I_([n,r],0),new I_([i,a],0)]}var rC=function(){function e(t,n,r){if(h(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new iC("Invalid padding: ".concat(n));if(r<0)throw new iC("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new iC("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new iC("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=I_.fromNumber(this.It)}return m(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(I_.fromNumber(n)));return 1===r.compare(eC)&&(r=new I_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=c(nC(tC(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=c(nC(tC(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),iC=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return m(n)}(I(Error)),aC=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,oC.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(eI.min(),i,new dS(Y_),ZE(),sT())}}]),e}(),oC=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,sT(),sT(),sT())}}]),e}(),uC=m((function e(t,n,r,i){h(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),sC=m((function e(t,n){h(this,e),this.targetId=t,this.Vt=n})),cC=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wS.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),lC=function(){function e(){h(this,e),this.St=0,this.Dt=dC(),this.Ct=wS.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return m(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=sT(),t=sT(),n=sT();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:R_()}})),new oC(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=dC()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),fC=function(){function e(t){h(this,e),this.Gt=t,this.Qt=new Map,this.jt=ZE(),this.zt=hC(),this.Wt=new dS(Y_)}return m(e,[{key:"Ht",value:function(e){var t,n=E(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(u){n.e(u)}finally{n.f()}var i,a=E(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:R_()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(NE(a))if(0===r){var o=new aI(a.path);this.Yt(n,o,eE.newNoDocument(o,eI.min()))}else L_(1===r);else{var u=this.ie(n);if(u!==r){var s=this.re(e,u);if(0!==s){this.ee(n);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=JT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,u,s,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(s=null===(u=null==l?void 0:l.bits)||void 0===u?void 0:u.padding)&&void 0!==s?s:0}),c}(s,u,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,u=r.bits,s=u.bitmap,c=void 0===s?"":s,l=u.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=SS(c).toUint8Array()}catch(e){if(e instanceof bS)return D_("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new rC(a,f,d)}catch(e){return D_(e instanceof iC?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&NE(a.target)){var o=new aI(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,eE.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=sT();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new aC(e,n,this.Wt,this.jt,r);return this.jt=ZE(),this.zt=hC(),this.Wt=new dS(Y_),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new lC,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new mS(Y_),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||A_("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new lC),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function hC(){return new dS(aI.comparator)}function dC(){return new dS(aI.comparator)}var pC={asc:"ASCENDING",desc:"DESCENDING"},vC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mC={and:"AND",or:"OR"},yC=m((function e(t,n){h(this,e),this.databaseId=t,this.useProto3Json=n}));function gC(e,t){return e.useProto3Json||DI(t)?t:{value:t}}function kC(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function bC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wC(e,t){return kC(e,t.toTimestamp())}function xC(e){return L_(!!e),eI.fromTimestamp(function(e){var t=_S(e);return new Z_(t.seconds,t.nanos)}(e))}function _C(e,t){return function(e){return new nI(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function IC(e){var t=nI.fromString(e);return L_(GC(t)),t}function SC(e,t){return _C(e.databaseId,t.path)}function EC(e,t){var n=IC(t);if(n.get(1)!==e.databaseId.projectId)throw new F_(j_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F_(j_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new aI(AC(n))}function TC(e,t){return _C(e.databaseId,t)}function CC(e){var t=IC(e);return 4===t.length?nI.emptyPath():AC(t)}function NC(e){return new nI(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function AC(e){return L_(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function PC(e,t,n){return{name:SC(e,t),fields:n.value.mapValue.fields}}function DC(e,t,n){var r=EC(e,t.name),i=xC(t.updateTime),a=t.createTime?xC(t.createTime):eI.min(),o=new XS({mapValue:{fields:t.fields}}),u=eE.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function OC(e,t){return"found"in t?function(e,t){L_(!!t.found),t.found.name,t.found.updateTime;var n=EC(e,t.found.name),r=xC(t.found.updateTime),i=t.found.createTime?xC(t.found.createTime):eI.min(),a=new XS({mapValue:{fields:t.found.fields}});return eE.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){L_(!!t.missing),L_(!!t.readTime);var n=EC(e,t.missing),r=xC(t.readTime);return eE.newNoDocument(n,r)}(e,t):R_()}function RC(e,t){var n;if(t instanceof MT)n={update:PC(e,t.key,t.value)};else if(t instanceof qT)n={delete:SC(e,t.key)};else if(t instanceof jT)n={update:PC(e,t.key,t.data),updateMask:HC(t.fieldMask)};else{if(!(t instanceof KT))return R_();n={verify:SC(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof gT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof kT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _T)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw R_()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wC(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:R_()}(e,t.precondition)),n}function LC(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?CT.updateTime(xC(e.updateTime)):void 0!==e.exists?CT.exists(e.exists):CT.none()}(t.currentDocument):CT.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)L_("REQUEST_TIME"===t.setToServerValue),n=new gT;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new kT(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new wT(i)}else"increment"in t?n=new _T(e,t.increment):R_();var a=iI.fromServerFormat(t.fieldPath);return new ET(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=EC(e,t.update.name),a=new XS({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new kS(t.map((function(e){return iI.fromServerFormat(e)})))}(t.updateMask);return new jT(i,a,o,n,r)}return new MT(i,a,n,r)}if(t.delete){var u=EC(e,t.delete);return new qT(u,n)}if(t.verify){var s=EC(e,t.verify);return new KT(s,n)}return R_()}function MC(e,t){return{documents:[TC(e,t.path)]}}function jC(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=TC(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=TC(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return WC(sE.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:qC(e.field),direction:VC(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=gC(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function FC(e){var t=CC(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){L_(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=UC(e);return t instanceof sE&&fE(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new iE(KC(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return DI(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new tE(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new tE(n,t)}(n.endAt)),RE(t,i,u,o,s,"F",c,l)}function UC(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=KC(e.unaryFilter.field);return uE.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=KC(e.unaryFilter.field);return uE.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=KC(e.unaryFilter.field);return uE.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=KC(e.unaryFilter.field);return uE.create(i,"!=",{nullValue:"NULL_VALUE"});default:return R_()}}(e):void 0!==e.fieldFilter?function(e){return uE.create(KC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R_()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return sE.create(e.compositeFilter.filters.map((function(e){return UC(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return R_()}}(e.compositeFilter.op))}(e):R_()}function VC(e){return pC[e]}function BC(e){return vC[e]}function zC(e){return mC[e]}function qC(e){return{fieldPath:e.canonicalString()}}function KC(e){return iI.fromServerFormat(e.fieldPath)}function WC(e){return e instanceof uE?function(e){if("=="===e.op){if(KS(e.value))return{unaryFilter:{field:qC(e.field),op:"IS_NAN"}};if(qS(e.value))return{unaryFilter:{field:qC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(KS(e.value))return{unaryFilter:{field:qC(e.field),op:"IS_NOT_NAN"}};if(qS(e.value))return{unaryFilter:{field:qC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qC(e.field),op:BC(e.op),value:e.value}}}(e):e instanceof sE?function(e){var t=e.getFilters().map((function(e){return WC(e)}));return 1===t.length?t[0]:{compositeFilter:{op:zC(e.op),filters:t}}}(e):R_()}function HC(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function GC(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var QC=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:eI.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:eI.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wS.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),$C=m((function e(t){h(this,e),this.fe=t}));function YC(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:JC(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:SC(e,t.key),fields:t.data.value.mapValue.fields,updateTime:kC(e,t.version.toTimestamp()),createTime:kC(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:XC(t.version)};else{if(!t.isUnknownDocument())return R_();r.unknownDocument={path:n.path.toArray(),version:XC(t.version)}}return r}function JC(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function XC(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ZC(e){var t=new Z_(e.seconds,e.nanoseconds);return eI.fromTimestamp(t)}function eN(e,t){for(var n=(t.baseMutations||[]).map((function(t){return LC(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return LC(e.fe,t)})),u=Z_.fromMillis(t.localWriteTimeMs);return new WT(t.batchId,u,n,o)}function tN(e){var t,n,r=ZC(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ZC(e.lastLimboFreeSnapshotVersion):eI.min();return void 0!==e.query.documents?(L_(1===(n=e.query).documents.length),t=BE(LE(CC(n.documents[0])))):t=function(e){return BE(FC(e))}(e.query),new QC(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,wS.fromBase64String(e.resumeToken))}function nN(e,t){var n,r=XC(t.snapshotVersion),i=XC(t.lastLimboFreeSnapshotVersion);n=NE(t.target)?MC(e.fe,t.target):jC(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:TE(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function rN(e){var t=FC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qE(t,t.limit,"L"):t}function iN(e,t){return new GT(t.largestBatchId,LC(e.fe,t.overlayMutation))}function aN(e,t){var n=t.path.lastSegment();return[e,LI(t.path.popLast()),n]}function oN(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:XC(r.readTime),documentKey:LI(r.documentKey.path),largestBatchId:r.largestBatchId}}var uN=function(){function e(){h(this,e)}return m(e,[{key:"getBundleMetadata",value:function(e,t){return sN(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ZC(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return sN(e).put({bundleId:(n=t).id,createTime:XC(xC(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return cN(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:rN(t.bundledQuery),readTime:ZC(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return cN(e).put(function(e){return{name:e.name,readTime:XC(xC(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function sN(e){return cS(e,"bundles")}function cN(e){return cS(e,"namedQueries")}var lN=function(){function e(t,n){h(this,e),this.serializer=t,this.userId=n}return m(e,[{key:"getOverlay",value:function(e,t){var n=this;return fN(e).get(aN(this.userId,t)).next((function(e){return e?iN(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=rT();return kI.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new GT(t,a);i.push(r.we(e,o))})),kI.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(LI(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(fN(e).J("collectionPathOverlayIndex",i))})),kI.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=rT(),a=LI(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return fN(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=iN(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=rT(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fN(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=iN(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return fN(e).put(function(e,t,n){var r=c(aN(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:RC(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function fN(e){return cS(e,"documentOverlays")}var hN=function(){function e(){h(this,e)}return m(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(IS(e.integerValue));else if("doubleValue"in e){var n=IS(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),OI(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(SS(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?GS(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):R_()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),aI.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function dN(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function pN(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=dN(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}hN.Ve=new hN;var vN=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return m(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=pN(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=pN(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),mN=function(){function e(t){h(this,e),this.je=t}return m(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),yN=function(){function e(t){h(this,e),this.je=t}return m(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),gN=function(){function e(){h(this,e),this.je=new vN,this.ze=new mN(this.je),this.We=new yN(this.je)}return m(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),kN=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return m(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function bN(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=wN(e.arrayValue,t.arrayValue))?n:0!==(n=wN(e.directionalValue,t.directionalValue))?n:aI.comparator(e.documentKey,t.documentKey)}function wN(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var xN=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=E(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return m(e,[{key:"tn",value:function(e){L_(e.collectionGroup===this.collectionId);var t=uI(e);if(void 0!==t&&!this.en(t))return!1;for(var n=sI(e),r=0,i=0;r<n.length&&this.en(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ze){var a=n[r];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ye.length||!this.sn(this.Ye[i++],o))return!1}return!0}},{key:"en",value:function(e){var t,n=E(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function _N(e){var t,n;if(L_(e instanceof uE||e instanceof sE),e instanceof uE){if(e instanceof xE){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return uE.create(e.field,"==",t)})))||[];return sE.create(r,"or")}return e}var i=e.filters.map((function(e){return _N(e)}));return sE.create(i,e.op)}function IN(e){if(0===e.getFilters().length)return[];var t=CN(_N(e));return L_(TN(t)),SN(t)||EN(t)?[t]:t.getFilters()}function SN(e){return e instanceof uE}function EN(e){return e instanceof sE&&fE(e)}function TN(e){return SN(e)||EN(e)||function(e){if(e instanceof sE&&lE(e)){var t,n=E(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!SN(r)&&!EN(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function CN(e){if(L_(e instanceof uE||e instanceof sE),e instanceof uE)return e;if(1===e.filters.length)return CN(e.filters[0]);var t=e.filters.map((function(e){return CN(e)})),n=sE.create(t,e.op);return TN(n=PN(n))?n:(L_(n instanceof sE),L_(cE(n)),L_(n.filters.length>1),n.filters.reduce((function(e,t){return NN(e,t)})))}function NN(e,t){var n;return L_(e instanceof uE||e instanceof sE),L_(t instanceof uE||t instanceof sE),n=e instanceof uE?t instanceof uE?function(e,t){return sE.create([e,t],"and")}(e,t):AN(e,t):t instanceof uE?AN(t,e):function(e,t){if(L_(e.filters.length>0&&t.filters.length>0),cE(e)&&cE(t))return vE(e,t.getFilters());var n=lE(e)?e:t,r=lE(e)?t:e,i=n.filters.map((function(e){return NN(e,r)}));return sE.create(i,"or")}(e,t),PN(n)}function AN(e,t){if(cE(t))return vE(t,e.getFilters());var n=t.filters.map((function(t){return NN(e,t)}));return sE.create(n,"or")}function PN(e){if(L_(e instanceof uE||e instanceof sE),e instanceof uE)return e;var t=e.getFilters();if(1===t.length)return PN(t[0]);if(hE(e))return e;var n=t.map((function(e){return PN(e)})),r=[];return n.forEach((function(t){t instanceof uE?r.push(t):t instanceof sE&&(t.op===e.op?r.push.apply(r,f(t.filters)):r.push(t))})),1===r.length?r[0]:sE.create(r,e.op)}var DN=function(){function e(){h(this,e),this.rn=new ON}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),kI.resolve()}},{key:"getCollectionParents",value:function(e,t){return kI.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return kI.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return kI.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return kI.resolve(null)}},{key:"getIndexType",value:function(e,t){return kI.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return kI.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return kI.resolve(null)}},{key:"getMinOffset",value:function(e,t){return kI.resolve(dI.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return kI.resolve(dI.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return kI.resolve()}},{key:"updateIndexEntries",value:function(e,t){return kI.resolve()}}]),e}(),ON=function(){function e(){h(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new mS(nI.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new mS(nI.comparator)).toArray()}}]),e}(),RN=new Uint8Array(0),LN=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.on=new ON,this.un=new JE((function(e){return TE(e)}),(function(e,t){return CE(e,t)})),this.uid=t.uid||""}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:LI(i)};return MN(e).put(a)}return kI.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[X_(t),""],!1,!0);return MN(e).j(r).next((function(e){var r,i=E(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(FI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=FN(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=UN(e);return a.next((function(e){o.put(oN(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=FN(e),r=UN(e),i=jN(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=jN(e),i=!0,a=new Map;return kI.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=sT(),o=[];return kI.forEach(a,(function(i,a){var u;A_("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(TE(t)));var s=function(e,t){var n=uI(t);if(void 0===n)return null;var r,i=E(AE(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=E(sI(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=E(AE(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=E(sI(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?PE(e,o.fieldPath,e.startAt):DE(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new tE(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=E(sI(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?DE(e,o.fieldPath,e.endAt):PE(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new tE(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return kI.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=aI.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return kI.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:IN(sE.create(e.filters,"and")).map((function(t){return EE(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],h=function(){var s=t?u.dn(t[d/c]):RN,h=u.wn(e,s,n[d%c],r),p=u._n(e,s,i[d%c],a),v=o.map((function(t){return u.wn(e,s,t,!0)}));l.push.apply(l,f(u.createRange(h,p,v)))},d=0;d<s;++d)h();return l}},{key:"wn",value:function(e,t,n,r){var i=new kN(e,aI.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new kN(e,aI.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new xN(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=E(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return kI.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new mS(iI.comparator),r=!1,i=E(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=E(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=E(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new gN,i=E(sI(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.He(a.kind);hN.Ve._e(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new gN;return hN.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new gN;return hN.Ve._e(VS(this.databaseId,t),n.He(function(e){var t=sI(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new gN);var i,a=0,o=E(sI(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=E(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.yn(t,s.fieldPath)&&zS(c))r=this.pn(r,s,c);else{var h=f.He(s.kind);hN.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=f(e),a=[],o=E(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=E(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=new gN;h.seed(l.Qe()),hN.Ve._e(s,h.He(t.kind)),a.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof uE&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=FN(e),i=UN(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return kI.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new lI(t.sequenceNumber,new dI(ZC(t.readTime),new aI(FI(t.documentKey)),t.largestBatchId)):lI.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new cI(iI.fromServerFormat(n),r)}));return new oI(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Y_(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=FN(e),a=UN(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return kI.forEach(t,(function(t){return a.put(oN(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return kI.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?kI.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),kI.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?kI.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return jN(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return jN(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=jN(e),i=new mS(bN);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new kN(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new mS(bN),r=this.mn(t,e);if(null==r)return n;var i=uI(t);if(null!=i){var a=e.data.field(i.fieldPath);if(zS(a)){var o,u=E(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new kN(t.indexId,e.key,this.dn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new kN(t.indexId,e.key,RN,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;A_("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=gS(a),s=gS(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=gS(o)):l?(i(u),u=gS(a)):(u=gS(a),s=gS(o))}}(r,i,bN,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),kI.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return UN(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return bN(e,t)})).filter((function(e,t,n){return!t||0!==bN(e,n[t-1])}));var r=[];r.push(e);var i,a=E(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=bN(o,e),s=bN(o,t);if(0===u)r[0]=e.Je();else if(u>0&&s<0)r.push(o),r.push(o.Je());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,RN,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,RN,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return bN(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(VN)}},{key:"getMinOffset",value:function(e,t){var n=this;return kI.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||R_()}))})).next(VN)}}]),e}();function MN(e){return cS(e,"collectionParents")}function jN(e){return cS(e,"indexEntries")}function FN(e){return cS(e,"indexConfiguration")}function UN(e){return cS(e,"indexState")}function VN(e){L_(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;pI(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new dI(t.readTime,t.documentKey,n)}var BN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zN=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function qN(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){L_(1===u)})));var c,l=[],f=E(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=BI(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return kI.waitFor(a).next((function(){return l}))}function KN(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw R_();t=e.noDocument}return JSON.stringify(t).length}zN.DEFAULT_COLLECTION_PERCENTILE=10,zN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zN.DEFAULT=new zN(41943040,zN.DEFAULT_COLLECTION_PERCENTILE,zN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zN.DISABLED=new zN(-1,0,0);var WN=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return m(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return GN(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=QN(e),o=GN(e);return o.add({}).next((function(u){L_("number"==typeof u);var s,c=new WT(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return RC(e.fe,t)})),i=n.mutations.map((function(t){return RC(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new mS((function(e,t){return Y_(e.canonicalString(),t.canonicalString())})),d=E(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=BI(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,zI))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[u]=c.keys()})),kI.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return GN(e).get(t).next((function(e){return e?(L_(e.userId===n.userId),eN(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?kI.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return GN(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(L_(t.batchId>=r),a=eN(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return GN(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return GN(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return eN(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=VI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return QN(e).X({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=FI(l);if(s===n.userId&&t.path.isEqual(h))return GN(e).get(f).next((function(e){if(!e)throw R_();L_(e.userId===n.userId),a.push(eN(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new mS(Y_),i=[];return t.forEach((function(t){var a=VI(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=QN(e).X({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=FI(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),kI.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=VI(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new mS(Y_);return QN(e).X({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=FI(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.Dn(e,u)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(GN(e).get(t).next((function(e){if(null===e)throw R_();L_(e.userId===n.userId),r.push(eN(n.serializer,e))})))})),kI.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return qN(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),kI.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return kI.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return QN(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=FI(e[1]);i.push(a)}else r.done()})).next((function(){L_(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return HN(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return $N(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return L_(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function HN(e,t,n){var r=VI(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return QN(e).X({range:a,Y:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function GN(e){return cS(e,"mutations")}function QN(e){return cS(e,"documentMutations")}function $N(e){return cS(e,"mutationQueues")}var YN=function(){function e(t){h(this,e),this.Nn=t}return m(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),JN=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.serializer=n}return m(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new YN(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return eI.fromTimestamp(new Z_(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return XN(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return L_(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return XN(e).X((function(o,u){var s=tN(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return kI.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return XN(e).X((function(e,n){var r=tN(n);t(r)}))}},{key:"$n",value:function(e){return ZN(e).get("targetGlobalKey").next((function(e){return L_(null!==e),e}))}},{key:"On",value:function(e,t){return ZN(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return XN(e).put(nN(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=TE(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return XN(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=tN(n);CE(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=eA(e);return t.forEach((function(t){var o=LI(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),kI.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=eA(e);return kI.forEach(t,(function(t){var a=LI(t.path);return kI.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=eA(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=eA(e),i=sT();return r.X({range:n,Y:!0},(function(e,t,n){var r=FI(e[1]),a=new aI(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=LI(t.path),r=IDBKeyRange.bound([n],[X_(n)],!1,!0),i=0;return eA(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return XN(e).get(t).next((function(e){return e?tN(e):null}))}}]),e}();function XN(e){return cS(e,"targets")}function ZN(e){return cS(e,"targetGlobal")}function eA(e){return cS(e,"targetDocuments")}function tA(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Y_(r,o);return 0===s?Y_(i,u):s}var nA=function(){function e(t){h(this,e),this.Ln=t,this.buffer=new mS(tA),this.qn=0}return m(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();tA(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),rA=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return m(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;A_("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!II(e.t0)){e.next=12;break}A_("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,yI(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),iA=function(){function e(t,n){h(this,e),this.jn=t,this.params=n}return m(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return kI.resolve(PI.ct);var r=new nA(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(A_("LruGarbageCollector","Garbage collection skipped; disabled"),kI.resolve(BN)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(A_("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),BN):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(A_("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),N_()<=ia.DEBUG&&A_("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),kI.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function aA(e,t){return new iA(e,t)}var oA=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=aA(this,n)}return m(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return uA(e,n)}},{key:"removeReference",value:function(e,t,n){return uA(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return uA(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return $N(e).Z((function(r){return HN(e,r,t).next((function(e){return e&&(n=!0),kI.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,u){if(u<=t){var s=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,eI.min()),eA(e).delete([0,LI(o.path)])}))}));i.push(s)}})).next((function(){return kI.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return uA(e,t)}},{key:"Yn",value:function(e,t){var n,r=eA(e),i=PI.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==PI.ct&&t(new aI(FI(n)),i),i=s,n=u):i=PI.ct})).next((function(){i!==PI.ct&&t(new aI(FI(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function uA(e,t){return eA(e).put(function(e,t){return{targetId:0,path:LI(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var sA=function(){function e(){h(this,e),this.changes=new JE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,eE.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?kI.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),cA=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return dA(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return dA(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],JC(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=eE.newInvalidDocument(t);return dA(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(pA(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:eE.newInvalidDocument(t)};return dA(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(pA(t))},(function(e,i){r={document:n.ts(t,i),size:KN(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ZE();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=ZE(),i=new dS(aI.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,KN(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return kI.resolve();var r=new mS(mA);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(pA(r.first()),pA(r.last())),a=r.getIterator(),o=a.getNext();return dA(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=aI.fromSegments([].concat(f(t.prefixPath),[t.collectionGroup,t.documentId]));o&&mA(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(pA(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),JC(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dA(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=ZE(),o=E(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.ts(aI.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(GE(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ZE(),o=vA(t,n),u=vA(t,dI.max());return dA(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.ts(aI.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new fA(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return hA(e).get("remoteDocumentGlobalKey").next((function(e){return L_(!!e),e}))}},{key:"Zn",value:function(e,t){return hA(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=DC(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=aI.fromSegments(t.noDocument.path),i=ZC(t.noDocument.readTime);n=eE.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return R_();var a=aI.fromSegments(t.unknownDocument.path),o=ZC(t.unknownDocument.version);n=eE.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Z_(e[0],e[1]);return eI.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(eI.min()))return n}return eE.newInvalidDocument(e)}}]),e}();function lA(e){return new cA(e)}var fA=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new JE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new mS((function(e,t){return Y_(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.us.get(a);if(n.push(t.os.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=YC(t.os.serializer,o);i=i.add(a.path.popLast());var c=KN(s);r+=c-u.size,n.push(t.os.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=YC(t.os.serializer,o.convertToNoDocument(eI.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),kI.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(sA);function hA(e){return cS(e,"remoteDocumentGlobal")}function dA(e){return cS(e,"remoteDocumentsV14")}function pA(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function vA(e,t){var n=t.documentKey.path.toArray();return[e,JC(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function mA(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Y_(n[a],r[a]))return i;return(i=Y_(n.length,r.length))||((i=Y_(n[n.length-2],r[r.length-2]))||Y_(n[n.length-1],r[r.length-1]))}var yA=m((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),gA=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return m(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&OT(r.mutation,e,kS.empty(),Z_.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,sT()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sT(),i=rT();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=tT();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=rT();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,sT())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ZE(),a=aT(),o=aT();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof jT)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),OT(o.mutation,t,o.mutation.getFieldMask(),Z_.now())):a.set(t.key,kS.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new yA(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=aT(),i=new dS((function(e,t){return e-t})),a=sT();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=E(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||kS.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||sT()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=iT();c.forEach((function(e){if(!a.has(e)){var n=PT(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return kI.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return aI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):UE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):kI.resolve(rT()),u=-1,s=a;return o.next((function(t){return kI.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?kI.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,sT())})).next((function(e){return{batchId:u,changes:nT(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new aI(t)).next((function(e){var t=tT();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=tT();return this.indexManager.getCollectionParents(e,i).next((function(o){return kI.forEach(o,(function(o){var u=function(e,t){return new OE(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,eE.newInvalidDocument(r)))}));var n=tT();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&OT(a.mutation,i,kS.empty(),Z_.now()),GE(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),kA=function(){function e(t){h(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return kI.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:xC(n.createTime)}),kI.resolve()}},{key:"getNamedQuery",value:function(e,t){return kI.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:rN(e.bundledQuery),readTime:xC(e.readTime)}}(t)),kI.resolve()}}]),e}(),bA=function(){function e(){h(this,e),this.overlays=new dS(aI.comparator),this.ls=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return kI.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=rT();return kI.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),kI.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),kI.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=rT(),i=t.length+1,a=new aI(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return kI.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new dS((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=rT(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=rT(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return kI.resolve(s)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new GT(t,n));var a=this.ls.get(t);void 0===a&&(a=sT(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),wA=function(){function e(){h(this,e),this.fs=new mS(xA.ds),this.ws=new mS(xA._s)}return m(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new xA(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new xA(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new aI(new nI([])),r=new xA(n,e),i=new xA(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new aI(new nI([])),n=new xA(t,e),r=new xA(t,e+1),i=sT();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new xA(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),xA=function(){function e(t,n){h(this,e),this.key=t,this.As=n}return m(e,null,[{key:"ds",value:function(e,t){return aI.comparator(e.key,t.key)||Y_(e.As,t.As)}},{key:"_s",value:function(e,t){return Y_(e.As,t.As)||aI.comparator(e.key,t.key)}}]),e}(),_A=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new mS(xA.ds)}return m(e,[{key:"checkEmpty",value:function(e){return kI.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new WT(i,t,n,r);this.mutationQueue.push(a);var o,u=E(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Rs=this.Rs.add(new xA(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return kI.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return kI.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return kI.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return kI.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return kI.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new xA(t,0),i=new xA(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),kI.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new mS(Y_);return t.forEach((function(e){var t=new xA(e,0),i=new xA(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),kI.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;aI.isDocumentKey(i)||(i=i.child(""));var a=new xA(new aI(i),0),o=new mS(Y_);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),kI.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;L_(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return kI.forEach(t.mutations,(function(i){var a=new xA(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new xA(t,0),r=this.Rs.firstAfterOrEqual(n);return kI.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,kI.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),IA=function(){function e(t){h(this,e),this.Ds=t,this.docs=new dS(aI.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return kI.resolve(n?n.document.mutableCopy():eE.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ZE();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():eE.newInvalidDocument(e))})),kI.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=ZE(),a=t.path,o=new aI(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||pI(hI(l),n)<=0||(r.has(l.key)||GE(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return kI.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){R_()}},{key:"Cs",value:function(e,t){return kI.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new SA(this)}},{key:"getSize",value:function(e){return kI.resolve(this.size)}}]),e}(),SA=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).os=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),kI.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(sA),EA=function(){function e(t){h(this,e),this.persistence=t,this.xs=new JE((function(e){return TE(e)}),CE),this.lastRemoteSnapshotVersion=eI.min(),this.highestTargetId=0,this.Ns=0,this.ks=new wA,this.targetCount=0,this.Ms=YN.kn()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),kI.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return kI.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return kI.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),kI.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),kI.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new YN(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,kI.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),kI.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,kI.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),kI.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return kI.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return kI.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),kI.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),kI.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),kI.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return kI.resolve(n)}},{key:"containsKey",value:function(e,t){return kI.resolve(this.ks.containsKey(t))}}]),e}(),TA=function(){function e(t,n){var r=this;h(this,e),this.$s={},this.overlays={},this.Os=new PI(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new EA(this),this.indexManager=new DN,this.remoteDocumentCache=new IA((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new $C(n),this.qs=new kA(this.serializer)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new bA,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new _A(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;A_("MemoryPersistence","Starting transaction:",e);var i=new CA(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return kI.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),CA=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(mI),NA=function(){function e(t){h(this,e),this.persistence=t,this.Qs=new wA,this.js=null}return m(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw R_()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),kI.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),kI.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),kI.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kI.forEach(this.Ws,(function(r){var i=aI.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,eI.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return kI.or([function(){return kI.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),AA=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new bI("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UI,{unique:!0}),e.createObjectStore("documentMutations")}(e),PA(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=kI.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),PA(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:eI.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UI,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return kI.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:eS});t.createIndex("collectionPathOverlayIndex",tS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",nS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:qI});t.createIndex("documentKeyIndex",KI),t.createIndex("collectionGroupIndex",WI)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:YI}).createIndex("sequenceNumberIndex",JI,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:XI}).createIndex("documentKeyIndex",ZI,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=KN(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return kI.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return kI.forEach(r,(function(r){L_(r.userId===n.userId);var i=eN(t.serializer,r);return qN(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new nI(n),o=function(e){return[0,LI(e)]}(a);r.push(t.get(o).next((function(n){return n?kI.resolve():function(n){return t.put({targetId:0,path:LI(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return kI.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:$I});var n=t.store("collectionParents"),r=new ON,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:LI(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new nI(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],FI(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=tN(r),a=nN(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new aI(nI.fromString(i.document.name).popFirst(5)):i.noDocument?aI.fromSegments(i.noDocument.path):i.unknownDocument?aI.fromSegments(i.unknownDocument.path):R_()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return kI.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=lA(this.serializer),a=new TA(NA.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:sT();eN(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),kI.forEach(r,(function(e,r){var o=new E_(r),u=lN.de(n.serializer,o),s=a.getIndexManager(o),c=WN.de(o,n.serializer,s,a.referenceDelegate);return new gA(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new sS(t,PI.ct),e).next()}))}))}}]),e}();function PA(e){e.createObjectStore("targetDocuments",{keyPath:GI}).createIndex("documentTargetsIndex",QI,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",HI,{unique:!0}),e.createObjectStore("targetGlobal")}var DA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",OA=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=u,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new F_(j_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oA(this,i),this.di=n+"main",this.serializer=new $C(s),this.wi=new wI(this.di,this.ui,new AA(this.serializer)),this.Bs=new JN(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lA(this.serializer),this.qs=new uN,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&P_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return m(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new F_(j_.FAILED_PRECONDITION,DA);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new PI(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=Zi(Ji().mark((function n(r){return Ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=Zi(Ji().mark((function t(n){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return LA(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(II(t))return A_("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return A_("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return RA(e).get("owner").next((function(e){return kI.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return LA(e).delete(this.clientId)}},{key:"bi",value:function(){var e=Zi(Ji().mark((function e(){var t,n,r,i,a=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=cS(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return kI.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=E(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?kI.resolve(!0):RA(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new F_(j_.FAILED_PRECONDITION,DA);return!1}}return!(!t.networkEnabled||!t.inForeground)||LA(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&A_("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Zi(Ji().mark((function e(){var t=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new sS(e,PI.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return LA(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return WN.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new LN(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return lN.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;A_("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ui)?uS:14===i?oS:13===i?aS:12===i?iS:11===i?rS:void R_();return this.wi.runTransaction(e,o,u,(function(i){return a=new sS(i,r.Os?r.Os.next():PI.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw P_("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new F_(j_.FAILED_PRECONDITION,vI);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return RA(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new F_(j_.FAILED_PRECONDITION,DA)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return RA(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=RA(e);return n.get("owner").next((function(e){return t.Ri(e)?(A_("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):kI.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(P_("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!Di()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return A_("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return P_("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){P_("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return wI.D()}}]),e}();function RA(e){return cS(e,"owner")}function LA(e){return cS(e,"clientMetadata")}function MA(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var jA=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return m(e,null,[{key:"Li",value:function(t,n){var r,i=sT(),a=sT(),o=E(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),FA=function(){function e(){h(this,e),this.qi=!1}return m(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(ME(t))return kI.resolve(null);var r=BE(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=qE(t,null,"F"),r=BE(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=sT.apply(void 0,f(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,qE(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return ME(t)||r.isEqual(eI.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(N_()<=ia.DEBUG&&A_("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),HE(t)),i.Wi(e,o,t,fI(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new mS($E(e));return t.forEach((function(t,r){GE(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return N_()<=ia.DEBUG&&A_("QueryEngine","Using full collection scan to execute query:",HE(t)),this.Ui.getDocumentsMatchingQuery(e,t,dI.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),UA=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new dS(Y_),this.Yi=new JE((function(e){return TE(e)}),CE),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return m(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gA(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function VA(e,t,n,r){return new UA(e,t,n,r)}function BA(e,t){return zA.apply(this,arguments)}function zA(){return(zA=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M_(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=sT(),s=E(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=E(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=E(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=E(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qA(e,t){var n=M_(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=kI.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);L_(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=sT(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function KA(e){var t=M_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function WA(e,t){var n=M_(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(wS.EMPTY_BYTE_STRING,eI.min()).withLastLimboFreeSnapshotVersion(eI.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var u=ZE(),s=sT();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(HA(e,a,t.documentUpdates).next((function(e){u=e.nr,s=e.sr}))),!r.isEqual(eI.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return kI.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function HA(e,t,n){var r=sT(),i=sT();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ZE();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(eI.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):A_("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function GA(e,t){var n=M_(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function QA(e,t){var n=M_(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,kI.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new QC(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function $A(e,t,n){return YA.apply(this,arguments)}function YA(){return(YA=Zi(Ji().mark((function e(t,n,r){var i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=M_(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),II(e.t1)){e.next=12;break}throw e.t1;case 12:A_("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function JA(e,t,n){var r=M_(e),i=eI.min(),a=sT();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=M_(e),i=r.Yi.get(n);return void 0!==i?kI.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,BE(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:eI.min(),n?a:sT())})).next((function(e){return eP(r,QE(t),e),{documents:e,ir:a}}))}))}function XA(e,t){var n=M_(e),r=M_(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function ZA(e,t){var n=M_(e),r=n.Xi.get(t)||eI.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,fI(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return eP(n,t,e),e}))}function eP(e,t,n){var r=e.Xi.get(t)||eI.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function tP(e,t,n,r){return nP.apply(this,arguments)}function nP(){return(nP=Zi(Ji().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=M_(t),o=sT(),u=ZE(),s=E(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,QA(a,function(e){return BE(LE(nI.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return HA(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rP(e,t){return iP.apply(this,arguments)}function iP(){return iP=Zi(Ji().mark((function e(t,n){var r,i,a,o=arguments;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:sT(),e.next=3,QA(t,BE(rN(n.bundledQuery)));case 3:return i=e.sent,a=M_(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=xC(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(wS.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),iP.apply(this,arguments)}function aP(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function oP(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function uP(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var sP=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return m(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new F_(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(P_("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),cP=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return m(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new F_(i.error.code,i.error.message))),a?new e(t,i.state,r):(P_("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),lP=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return m(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=lT(),o=0;i&&o<r.activeTargetIds.length;++o)i=RI(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(P_("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),fP=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return m(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(P_("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),hP=function(){function e(){h(this,e),this.activeTargetIds=lT()}return m(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),dP=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new dS(Y_),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=aP(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new hP),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return m(e,[{key:"start",value:function(){var e=Zi(Ji().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=E(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(aP(this.persistenceKey,i)))&&(o=lP.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(u=this.storage.getItem(this.vr))&&(s=this.br(u))&&this.Vr(s),c=E(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(uP(this.persistenceKey,e));if(n){var r=cP.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(uP(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return A_("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){A_("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){A_("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(A_("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void P_("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(Zi(Ji().mark((function e(){var r,i,a,o,u,s,c;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(u));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}s=function(e){var t=PI.ct;if(null!=e)try{var n=JSON.parse(e);L_("number"==typeof n),t=n}catch(e){P_("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==PI.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new sP(this.currentUser,e,t,n),i=oP(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=oP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=uP(this.persistenceKey,e),i=new cP(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return lP.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return sP.ar(new E_(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return cP.ar(r,t)}},{key:"br",value:function(e){return fP.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:A_("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Wr(o,u).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=lT();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),pP=function(){function e(){h(this,e),this.Hr=new hP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new hP,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),vP=function(){function e(){h(this,e)}return m(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),mP=function(){function e(){var t=this;h(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return m(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){A_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=E(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){A_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=E(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),yP=null;function gP(){return null===yP?yP=268435456+Math.round(2147483648*Math.random()):yP++,"0x"+yP.toString(16)}var kP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},bP=function(){function e(t){h(this,e),this.ro=t.ro,this.oo=t.oo}return m(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),wP="WebChannelConnection",xP=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return m(n,[{key:"Ao",value:function(e,t,n,r){var i=gP();return new Promise((function(a,o){var u=new x_;u.setWithCredentials(!0),u.listenOnce(y_.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case m_.NO_ERROR:var t=u.getResponseJson();A_(wP,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case m_.TIMEOUT:A_(wP,"RPC '".concat(e,"' ").concat(i," timed out")),o(new F_(j_.DEADLINE_EXCEEDED,"Request time out"));break;case m_.HTTP_ERROR:var n=u.getStatus();if(A_(wP,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(j_).indexOf(t)>=0?t:j_.UNKNOWN}(s.status);o(new F_(c,s.message))}else o(new F_(j_.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new F_(j_.UNAVAILABLE,"Connection failed."));break;default:R_()}}finally{A_(wP,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);A_(wP,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=gP(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=p_(),o=v_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new b_({})),this.Eo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");A_(wP,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new bP({ro:function(t){h?A_(wP,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(A_(wP,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),A_(wP,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,w_.EventType.OPEN,(function(){h||A_(wP,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,w_.EventType.CLOSE,(function(){h||(h=!0,A_(wP,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,w_.EventType.ERROR,(function(t){h||(h=!0,D_(wP,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new F_(j_.UNAVAILABLE,"The operation could not be completed")))})),p(l,w_.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];L_(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){A_(wP,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=BT[e];if(void 0!==t)return YT(t)}(u),c=o.message;void 0===s&&(s=j_.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.wo(new F_(s,c)),l.close()}else A_(wP,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,g_.STAT_EVENT,(function(t){t.stat===k_.PROXY?A_(wP,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===k_.NOPROXY&&A_(wP,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return m(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=gP(),o=this.To(e,t);A_("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.Eo(u,r,i),this.Ao(e,o,u,n).then((function(t){return A_("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw D_("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+T_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=kP[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function _P(){return"undefined"!=typeof window?window:null}function IP(){return"undefined"!=typeof document?document:null}function SP(e){return new yC(e,!0)}var EP=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&A_("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),TP=function(){function e(t,n,r,i,a,o,u,s){h(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new EP(t,n)}return m(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===j_.RESOURCE_EXHAUSTED?(P_(n.toString()),P_("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===j_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new F_(j_.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(Zi(Ji().mark((function t(){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return A_("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(A_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),CP=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return m(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:R_()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(L_(void 0===t||"string"==typeof t),wS.fromBase64String(t||"")):(L_(void 0===t||t instanceof Uint8Array),wS.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?j_.UNKNOWN:YT(e.code);return new F_(t,e.message||"")}(o);n=new cC(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=EC(e,s.document.name),l=xC(s.document.updateTime),f=s.document.createTime?xC(s.document.createTime):eI.min(),h=new XS({mapValue:{fields:s.document.fields}}),d=eE.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new uC(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=EC(e,m.document),g=m.readTime?xC(m.readTime):eI.min(),k=eE.newNoDocument(y,g),b=m.removedTargetIds||[];n=new uC([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=EC(e,w.document),_=w.removedTargetIds||[];n=new uC([],_,x,null)}else{if(!("filter"in t))return R_();t.filter;var I=t.filter;I.targetId;var S=I.count,E=void 0===S?0:S,T=I.unchangedNames,C=new QT(E,T),N=I.targetId;n=new sC(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return eI.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?eI.min():t.readTime?xC(t.readTime):eI.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=NC(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=NE(r)?{documents:MC(e,r)}:{query:jC(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=bC(e,t.resumeToken);var i=gC(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(eI.min())>0){n.readTime=kC(e,t.snapshotVersion.toTimestamp());var a=gC(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return R_()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=NC(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(TP),NP=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.ru=!1,s}return m(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,Co(k(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(L_(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(L_(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?xC(e.updateTime):xC(t);return n.isEqual(eI.min())&&(n=xC(t)),new TT(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=xC(e.commitTime);return this.listener.cu(n,t)}return L_(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=NC(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return RC(t.serializer,e)}))};this.Wo(n)}}]),n}(TP),AP=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return m(n,[{key:"fu",value:function(){if(this.lu)throw new F_(j_.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.connection.Io(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===j_.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new F_(j_.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.connection.vo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===j_.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new F_(j_.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return m((function e(){h(this,e)}))}());var PP=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return m(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(P_(t),this.mu=!1):A_("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),DP=m((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=qP(o),!e.t0){e.next=5;break}return A_("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=M_(t)).vu.add(4),e.next=4,LP(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,OP(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new PP(r,i)}));function OP(e){return RP.apply(this,arguments)}function RP(){return(RP=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qP(t)){e.next=18;break}n=E(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function LP(e){return MP.apply(this,arguments)}function MP(){return(MP=Zi(Ji().mark((function e(t){var n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=E(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function jP(e,t){var n=M_(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),zP(n)?BP(n):gD(n).Ko()&&UP(n,t))}function FP(e,t){var n=M_(e),r=gD(n);n.Au.delete(t),r.Ko()&&VP(n,t),0===n.Au.size&&(r.Ko()?r.jo():qP(n)&&n.bu.set("Unknown"))}function UP(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(eI.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gD(e).su(t)}function VP(e,t){e.Vu.qt(t),gD(e).iu(t)}function BP(e){e.Vu=new fC({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),gD(e).start(),e.bu.gu()}function zP(e){return qP(e)&&!gD(e).Uo()&&e.Au.size>0}function qP(e){return 0===M_(e).vu.size}function KP(e){e.Vu=void 0}function WP(e){return HP.apply(this,arguments)}function HP(){return(HP=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){UP(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GP(e,t){return QP.apply(this,arguments)}function QP(){return(QP=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:KP(t),zP(t)?(t.bu.Iu(n),BP(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $P(e,t,n){return YP.apply(this,arguments)}function YP(){return YP=Zi(Ji().mark((function e(t,n,r){var i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof cC&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Zi(Ji().mark((function e(t,n){var r,i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=E(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),A_("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,JP(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof uC?t.Vu.Ht(n):n instanceof sC?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(eI.min())){e.next=29;break}return e.prev=14,e.next=17,KA(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(wS.EMPTY_BYTE_STRING,r.snapshotVersion)),VP(e,t);var i=new QC(r.target,t,n,r.sequenceNumber);UP(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),A_("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,JP(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),YP.apply(this,arguments)}function JP(e,t,n){return XP.apply(this,arguments)}function XP(){return(XP=Zi(Ji().mark((function e(t,n,r){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(II(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,LP(t);case 5:t.bu.set("Offline"),r||(r=function(){return KA(t.localStore)}),t.asyncQueue.enqueueRetryable(Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A_("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,OP(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZP(e,t){return t().catch((function(n){return JP(e,n,t)}))}function eD(e){return tD.apply(this,arguments)}function tD(){return(tD=Zi(Ji().mark((function e(t){var n,r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=M_(t),r=kD(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!nD(n)){e.next=19;break}return e.prev=3,e.next=6,GA(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,rD(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,JP(n,e.t0);case 17:e.next=2;break;case 19:iD(n)&&aD(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function nD(e){return qP(e)&&e.Eu.length<10}function rD(e,t){e.Eu.push(t);var n=kD(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function iD(e){return qP(e)&&!kD(e).Uo()&&e.Eu.length>0}function aD(e){kD(e).start()}function oD(e){return uD.apply(this,arguments)}function uD(){return(uD=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kD(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sD(e){return cD.apply(this,arguments)}function cD(){return(cD=Zi(Ji().mark((function e(t){var n,r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kD(t),r=E(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lD(e,t,n){return fD.apply(this,arguments)}function fD(){return(fD=Zi(Ji().mark((function e(t,n,r){var i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=HT.from(i,n,r),e.next=3,ZP(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,eD(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hD(e,t){return dD.apply(this,arguments)}function dD(){return dD=Zi(Ji().mark((function e(t,n){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&kD(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$T(i=n.code)||i===j_.ABORTED){e.next=7;break}return r=t.Eu.shift(),kD(t).Qo(),e.next=5,ZP(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,eD(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:iD(t)&&aD(t);case 5:case"end":return e.stop()}}),e)}))),dD.apply(this,arguments)}function pD(e,t){return vD.apply(this,arguments)}function vD(){return(vD=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=M_(t)).asyncQueue.verifyOperationInProgress(),A_("RemoteStore","RemoteStore received new credentials"),i=qP(r),r.vu.add(3),e.next=6,LP(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,OP(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mD(e,t){return yD.apply(this,arguments)}function yD(){return(yD=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=M_(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,OP(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,LP(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gD(e){return e.Su||(e.Su=function(e,t,n){var r=M_(e);return r.fu(),new CP(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:WP.bind(null,e),ao:GP.bind(null,e),nu:$P.bind(null,e)}),e.Ru.push(function(){var t=Zi(Ji().mark((function t(n){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),zP(e)?BP(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:KP(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function kD(e){return e.Du||(e.Du=function(e,t,n){var r=M_(e);return r.fu(),new NP(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:oD.bind(null,e),ao:hD.bind(null,e),au:sD.bind(null,e),cu:lD.bind(null,e)}),e.Ru.push(function(){var t=Zi(Ji().mark((function t(n){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,eD(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(A_("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var bD=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new U_,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F_(j_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function wD(e,t){if(P_("AsyncQueue","".concat(t,": ").concat(e)),II(e))return new F_(j_.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var xD=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||aI.comparator(e.key,n.key)}:function(e,t){return aI.comparator(e.key,t.key)},this.keyedMap=tT(),this.sortedSet=new dS(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),_D=function(){function e(){h(this,e),this.Cu=new dS(aI.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):R_():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),ID=function(){function e(t,n,r,i,a,o,u,s,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&KE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,xD.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),SD=m((function e(){h(this,e),this.Nu=void 0,this.listeners=[]})),ED=m((function e(){h(this,e),this.queries=new JE((function(e){return WE(e)}),KE),this.onlineState="Unknown",this.ku=new Set}));function TD(e,t){return CD.apply(this,arguments)}function CD(){return(CD=Zi(Ji().mark((function e(t,n){var r,i,a,o,u;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=M_(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new SD),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=wD(e.t0,"Initialization of query '".concat(HE(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&OD(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function ND(e,t){return AD.apply(this,arguments)}function AD(){return(AD=Zi(Ji().mark((function e(t,n){var r,i,a,o,u;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=M_(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PD(e,t){var n,r=M_(e),i=!1,a=E(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=E(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&OD(r)}function DD(e,t,n){var r=M_(e),i=r.queries.get(t);if(i){var a,o=E(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function OD(e){e.ku.forEach((function(e){e.next()}))}var RD=function(){function e(t,n,r){h(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=E(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new ID(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=ID.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),LD=function(){function e(t,n){h(this,e),this.Gu=t,this.byteLength=n}return m(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),MD=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"rr",value:function(e){return EC(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?DC(this.serializer,e.document,!1):eE.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return xC(e)}}]),e}(),jD=function(){function e(t,n,r){h(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=FD(t)}return m(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=nI.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new MD(this.serializer),i=E(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.rr(a.metadata.name),s=E(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||sT()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Zi(Ji().mark((function e(){var t,n,r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tP(this.localStore,new MD(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=E(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,rP(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function FD(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var UD=m((function e(t){h(this,e),this.key=t})),VD=m((function e(t){h(this,e),this.key=t})),BD=function(){function e(t,n){h(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=sT(),this.mutatedKeys=sT(),this.tc=$E(t),this.ec=new xD(this.tc)}return m(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new _D,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=GE(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.tc(f,s)>0||c&&n.tc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:u,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R_()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],u=0===this.Zu.size&&this.current?1:0,s=u!==this.Xu;return this.Xu=u,0!==a.length||s?{snapshot:new ID(this.query,e.ec,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _D,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=sT(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new VD(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new UD(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=sT();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return ID.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),zD=m((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),qD=m((function e(t){h(this,e),this.key=t,this.fc=!1})),KD=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new JE((function(e){return WE(e)}),KE),this._c=new Map,this.mc=new Set,this.gc=new dS(aI.comparator),this.yc=new Map,this.Ic=new wA,this.Tc={},this.Ec=new Map,this.Ac=YN.Mn(),this.onlineState="Unknown",this.vc=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function WD(e,t){return HD.apply(this,arguments)}function HD(){return(HD=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=FO(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,QA(r.localStore,BE(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,GD(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&jP(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GD(e,t,n,r,i){return QD.apply(this,arguments)}function QD(){return QD=Zi(Ji().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=Zi(Ji().mark((function e(t,n,r,i){var a,o,u;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,JA(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(pO(t,n.targetId,u.cc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,JA(t.localStore,n,!0);case 3:return o=e.sent,u=new BD(n,o.ir),s=u.sc(o.documents),c=oC.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),pO(t,r,l.cc),f=new zD(n,r,u),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),QD.apply(this,arguments)}function $D(e,t){return YD.apply(this,arguments)}function YD(){return(YD=Zi(Ji().mark((function e(t,n){var r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=M_(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!KE(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,$A(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),FP(r.remoteStore,i.targetId),hO(r,i.targetId)})).catch(yI);case 9:e.next=14;break;case 11:return hO(r,i.targetId),e.next=14,$A(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JD(e,t,n){return XD.apply(this,arguments)}function XD(){return(XD=Zi(Ji().mark((function e(t,n,r){var i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UO(t),e.prev=1,e.next=4,function(e,t){var n,r,i=M_(e),a=Z_.now(),o=t.reduce((function(e,t){return e.add(t.key)}),sT());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=ZE(),s=sT();return i.Zi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=E(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=RT(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new jT(c.key,l,ZS(l.value.mapValue),CT.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:nT(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new dS(Y_)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,yO(i,a.changes);case 9:return e.next=11,eD(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=wD(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function ZD(e,t){return eO.apply(this,arguments)}function eO(){return(eO=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M_(t),e.prev=1,e.next=4,WA(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(L_(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?L_(n.fc):e.removedDocuments.size>0&&(L_(n.fc),n.fc=!1))})),e.next=8,yO(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,yI(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function tO(e,t,n){var r=M_(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=M_(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=E(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&OD(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function nO(e,t,n){return rO.apply(this,arguments)}function rO(){return(rO=Zi(Ji().mark((function e(t,n,r){var i,a,o,u,s,c;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=M_(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new dS(aI.comparator)).insert(o,eE.newNoDocument(o,eI.min())),s=sT().add(o),c=new aC(eI.min(),new Map,new dS(Y_),u,s),e.next=9,ZD(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),mO(i),e.next=16;break;case 14:return e.next=16,$A(i.localStore,n,!1).then((function(){return hO(i,n,r)})).catch(yI);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iO(e,t){return aO.apply(this,arguments)}function aO(){return(aO=Zi(Ji().mark((function e(t,n){var r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M_(t),i=n.batch.batchId,e.prev=1,e.next=4,qA(r.localStore,n);case 4:return a=e.sent,fO(r,i,null),lO(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,yO(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function oO(e,t,n){return uO.apply(this,arguments)}function uO(){return(uO=Zi(Ji().mark((function e(t,n,r){var i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=M_(t),e.prev=1,e.next=4,function(e,t){var n=M_(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return L_(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,fO(i,n,r),lO(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,yO(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function sO(e,t){return cO.apply(this,arguments)}function cO(){return(cO=Zi(Ji().mark((function e(t,n){var r,i,a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qP((r=M_(t)).remoteStore)||A_("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=M_(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=wD(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function lO(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function fO(e,t,n){var r=M_(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function hO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=E(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||dO(e,t)}))}function dO(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(FP(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),mO(e))}function pO(e,t,n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof UD?(e.Ic.addReference(a.key,t),vO(e,a)):a instanceof VD?(A_("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||dO(e,a.key)):R_()}}catch(o){i.e(o)}finally{i.f()}}function vO(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(A_("SyncEngine","New document in limbo: "+n),e.mc.add(r),mO(e))}function mO(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new aI(nI.fromString(t)),r=e.Ac.next();e.yc.set(r,new qD(n)),e.gc=e.gc.insert(n,r),jP(e.remoteStore,new QC(BE(LE(n.path)),r,"TargetPurposeLimboResolution",PI.ct))}}function yO(e,t,n){return gO.apply(this,arguments)}function gO(){return gO=Zi(Ji().mark((function e(t,n,r){var i,a,o,u;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=M_(t),a=[],o=[],u=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){u.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=jA.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.dc.nu(a),e.next=9,function(){var e=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M_(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return kI.forEach(n,(function(t){return kI.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return kI.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),II(e.t0)){e.next=10;break}throw e.t0;case 10:A_("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=E(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),gO.apply(this,arguments)}function kO(e,t){return bO.apply(this,arguments)}function bO(){return(bO=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=M_(t)).currentUser.isEqual(n)){e.next=11;break}return A_("SyncEngine","User change. New user:",n.toKey()),e.next=5,BA(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new F_(j_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,yO(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wO(e,t){var n=M_(e),r=n.yc.get(t);if(r&&r.fc)return sT().add(r.key);var i=sT(),a=n._c.get(t);if(!a)return i;var o,u=E(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.wc.get(s);i=i.unionWith(c.view.nc)}}catch(l){u.e(l)}finally{u.f()}return i}function xO(e,t){return _O.apply(this,arguments)}function _O(){return(_O=Zi(Ji().mark((function e(t,n){var r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M_(t),e.next=3,JA(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&pO(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IO(e,t){return SO.apply(this,arguments)}function SO(){return(SO=Zi(Ji().mark((function e(t,n){var r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M_(t),e.abrupt("return",ZA(r.localStore,n).then((function(e){return yO(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EO(e,t,n,r){return TO.apply(this,arguments)}function TO(){return(TO=Zi(Ji().mark((function e(t,n,r,i){var a,o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=M_(t),e.next=3,function(e,t){var n=M_(e),r=M_(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):kI.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,eD(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(fO(a,n,i||null),lO(a,n),function(e,t){M_(M_(e).mutationQueue).Cn(t)}(a.localStore,n)):R_();case 11:return e.next=13,yO(a,o);case 13:e.next=16;break;case 15:A_("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CO(e,t){return NO.apply(this,arguments)}function NO(){return(NO=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(FO(r=M_(t)),UO(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,AO(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,mD(r.remoteStore,!0);case 9:o=E(a);try{for(o.s();!(u=o.n()).done;)s=u.value,jP(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return hO(r,t),$A(r.localStore,t,!0)})),FP(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,AO(r,c);case 21:return function(e){var t=M_(e);t.yc.forEach((function(e,n){FP(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new dS(aI.comparator)}(r),r.vc=!1,e.next=25,mD(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AO(e,t,n){return PO.apply(this,arguments)}function PO(){return(PO=Zi(Ji().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=M_(t),a=[],o=[],u=E(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,QA(i.localStore,BE(f[0]));case 11:l=e.sent,h=E(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.wc.get(p),e.next=20,xO(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,XA(i.localStore,c);case 36:return y=e.sent,e.next=39,QA(i.localStore,y);case 39:return l=e.sent,e.next=42,GD(i,DO(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function DO(e){return RE(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function OO(e){var t=M_(e);return M_(M_(t.localStore).persistence).$i()}function RO(e,t,n,r){return LO.apply(this,arguments)}function LO(){return(LO=Zi(Ji().mark((function e(t,n,r,i){var a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=M_(t)).vc){e.next=3;break}return e.abrupt("return",void A_("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,ZA(a.localStore,QE(o[0]));case 10:return u=e.sent,s=aC.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,wS.EMPTY_BYTE_STRING),e.next=14,yO(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,$A(a.localStore,n,!0);case 17:return hO(a,n,i),e.abrupt("break",20);case 19:R_();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MO(e,t,n){return jO.apply(this,arguments)}function jO(){return(jO=Zi(Ji().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=FO(t)).vc){e.next=45;break}a=E(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i._c.has(u)){e.next=10;break}return A_("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,XA(i.localStore,u);case 12:return s=e.sent,e.next=15,QA(i.localStore,s);case 15:return c=e.sent,e.next=18,GD(i,DO(s),c.targetId,!1,c.resumeToken);case 18:jP(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=E(r),e.prev=30,h=Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,$A(i.localStore,t,!1).then((function(){FP(i.remoteStore,t),hO(i,t)})).catch(yI);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function FO(e){var t=M_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nO.bind(null,t),t.dc.nu=PD.bind(null,t.eventManager),t.dc.Pc=DD.bind(null,t.eventManager),t}function UO(e){var t=M_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oO.bind(null,t),t}function VO(e,t,n){var r=M_(e);(function(){var e=Zi(Ji().mark((function e(t,n,r){var i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=M_(e),r=xC(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(FD(i)),a=new jD(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,yO(t,s.Ju,void 0);case 31:return e.next=33,function(e,t){var n=M_(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(D_("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var BO=function(){function e(){h(this,e),this.synchronizeTabs=!1}return m(e,[{key:"initialize",value:function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=SP(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return VA(this.persistence,new FA,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new TA(NA.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new pP}},{key:"terminate",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zO=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return m(n,[{key:"initialize",value:function(){var e=Zi(Ji().mark((function e(t){var r=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Co(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,UO(this.Vc.syncEngine);case 6:return e.next=8,eD(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return VA(this.persistence,new FA,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new rA(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new AI(t,this.persistence);return new NI(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=MA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?zN.withCacheSize(this.cacheSizeBytes):zN.DEFAULT;return new OA(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,_P(),IP(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new pP}}]),n}(BO),qO=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return m(n,[{key:"initialize",value:function(){var e=Zi(Ji().mark((function e(t){var r,i=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Co(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof dP,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:EO.bind(null,r),zr:RO.bind(null,r),Wr:MO.bind(null,r),$i:OO.bind(null,r),Qr:IO.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CO(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=_P();if(!dP.D(t))throw new F_(j_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=MA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dP(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(zO),KO=function(){function e(){h(this,e)}return m(e,[{key:"initialize",value:function(){var e=Zi(Ji().mark((function e(t,n){var r=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return tO(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kO.bind(null,this.syncEngine),e.next=12,mD(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ED}},{key:"createDatastore",value:function(e){var t,n=SP(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new xP(t));return function(e,t,n,r){return new AP(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return tO(o.syncEngine,e,0)},a=mP.D()?new mP:new vP,new DP(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new KD(e,t,n,r,i,a);return o&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=M_(t),A_("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,LP(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function WO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Zi(Ji().mark((function r(){var i;return Ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var HO=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):P_("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),GO=function(){function e(t,n){var r=this;h(this,e),this.Cc=t,this.serializer=n,this.metadata=new U_,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return m(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=Zi(Ji().mark((function e(){var t,n,r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new LD(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=Zi(Ji().mark((function e(){var t,n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=Zi(Ji().mark((function e(){var t,n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),QO=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return m(e,[{key:"lookup",value:function(){var e=Zi(Ji().mark((function e(t){var n,r=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new F_(j_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Zi(Ji().mark((function e(t,n){var r,i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M_(t),i=NC(r.serializer)+"/documents",a={documents:n.map((function(e){return SC(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=OC(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());L_(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new qT(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Zi(Ji().mark((function e(){var t,n=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=aI.fromPath(t);n.mutations.push(new KT(r,n.precondition(r)))})),e.next=7,function(){var e=Zi(Ji().mark((function e(t,n){var r,i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M_(t),i=NC(r.serializer)+"/documents",a={writes:n.map((function(e){return RC(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw R_();t=eI.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new F_(j_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(eI.min())?CT.exists(!1):CT.updateTime(t):CT.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(eI.min()))throw new F_(j_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return CT.updateTime(t)}return CT.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),$O=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new EP(this.asyncQueue,"transaction_retry")}return m(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(Zi(Ji().mark((function t(){var n,r;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new QO(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!DI(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!$T(t)}return!1}}]),e}(),YO=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=E_.UNAUTHENTICATED,this.clientId=$_.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A_("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return A_("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return m(e,[{key:"getConfiguration",value:function(){var e=Zi(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new F_(j_.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new U_;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Zi(Ji().mark((function n(){var r;return Ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=wD(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function JO(e,t){return XO.apply(this,arguments)}function XO(){return XO=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),A_("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,BA(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),XO.apply(this,arguments)}function ZO(e,t){return eR.apply(this,arguments)}function eR(){return(eR=Zi(Ji().mark((function e(t,n){var r,i;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,nR(t);case 3:return r=e.sent,A_("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return pD(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return pD(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tR(e){return"FirebaseError"===e.name?e.code===j_.FAILED_PRECONDITION||e.code===j_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function nR(e){return rR.apply(this,arguments)}function rR(){return(rR=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return A_("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,JO(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),tR(n=e.t0)){e.next=13;break}throw n;case 13:return D_("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,JO(t,new BO);case 16:e.next=21;break;case 18:return A_("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,JO(t,new BO);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function iR(e){return aR.apply(this,arguments)}function aR(){return(aR=Zi(Ji().mark((function e(t){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return A_("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,ZO(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return A_("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,ZO(t,new KO);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oR(e){return nR(e).then((function(e){return e.persistence}))}function uR(e){return nR(e).then((function(e){return e.localStore}))}function sR(e){return iR(e).then((function(e){return e.remoteStore}))}function cR(e){return iR(e).then((function(e){return e.syncEngine}))}function lR(e){return iR(e).then((function(e){return e.datastore}))}function fR(e){return hR.apply(this,arguments)}function hR(){return(hR=Zi(Ji().mark((function e(t){var n,r;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=WD.bind(null,n.syncEngine),r.onUnlisten=$D.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new U_;return e.asyncQueue.enqueueAndForget(Zi(Ji().mark((function i(){return Ji().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new HO({next:function(a){t.enqueueAndForget((function(){return ND(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new F_(j_.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new F_(j_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new RD(LE(n.path),a,{includeMetadataChanges:!0,Ku:!0});return TD(e,o)},i.next=3,fR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function pR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new U_;return e.asyncQueue.enqueueAndForget(Zi(Ji().mark((function i(){return Ji().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new HO({next:function(n){t.enqueueAndForget((function(){return ND(e,o)})),n.fromCache&&"server"===r.source?i.reject(new F_(j_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new RD(n,a,{includeMetadataChanges:!0,Ku:!0});return TD(e,o)},i.next=3,fR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function vR(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var mR=new Map;function yR(e,t,n){if(!n)throw new F_(j_.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function gR(e,t,n,r){if(!0===t&&!0===r)throw new F_(j_.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function kR(e){if(!aI.isDocumentKey(e))throw new F_(j_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function bR(e){if(aI.isDocumentKey(e))throw new F_(j_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function wR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":R_()}function xR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F_(j_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=wR(e);throw new F_(j_.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function _R(e,t){if(t<=0)throw new F_(j_.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var IR=function(){function e(t){var n,r;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new F_(j_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new F_(j_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vR(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new F_(j_.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new F_(j_.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new F_(j_.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),SR=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IR({}),this._settingsFrozen=!1}return m(e,[{key:"app",get:function(){if(!this._app)throw new F_(j_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new F_(j_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IR(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new B_;switch(e.type){case"firstParty":return new W_(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new F_(j_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=mR.get(e);t&&(A_("ComponentProvider","Removing Datastore"),mR.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ER(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=xR(e,SR))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&D_("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=E_.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ii(JSON.stringify({alg:"none",type:"JWT"})),Ii(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new F_(j_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new E_(s)}e._authCredentials=new z_(new V_(o,u))}}var TR=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new NR(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),CR=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),NR=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,LE(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new TR(this.firestore,null,new aI(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(CR);function AR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yi(e),yR("collection","path",t),e instanceof SR){var a=nI.fromString.apply(nI,[t].concat(r));return bR(a),new NR(e,null,a)}if(!(e instanceof TR||e instanceof NR))throw new F_(j_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(nI.fromString.apply(nI,[t].concat(r)));return bR(o),new NR(e.firestore,null,o)}function PR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yi(e),1===arguments.length&&(t=$_.A()),yR("doc","path",t),e instanceof SR){var a=nI.fromString.apply(nI,[t].concat(r));return kR(a),new TR(e,null,new aI(a))}if(!(e instanceof TR||e instanceof NR))throw new F_(j_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(nI.fromString.apply(nI,[t].concat(r)));return kR(o),new TR(e.firestore,e instanceof NR?e.converter:null,new aI(o))}function DR(e,t){return e=Yi(e),t=Yi(t),(e instanceof TR||e instanceof NR)&&(t instanceof TR||t instanceof NR)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function OR(e,t){return e=Yi(e),t=Yi(t),e instanceof CR&&t instanceof CR&&e.firestore===t.firestore&&KE(e._query,t._query)&&e.converter===t.converter}var RR=function(){function e(){var t=this;h(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new EP(this,"async_queue_retry"),this.Xc=function(){var e=IP();e&&A_("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=IP();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return m(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=IP();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new U_;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=Zi(Ji().mark((function e(){var t=this;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),II(e.t0)){e.next=12;break}throw e.t0;case 12:A_("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw P_("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=bD.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&R_()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=Zi(Ji().mark((function e(){var t;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=E(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=E(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function LR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=E(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var MR=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new U_,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return m(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),jR=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new RR,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||UR(this),this._firestoreClient.terminate()}}]),n}(SR);function FR(e){return e._firestoreClient||UR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function UR(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new NS(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,vR(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new YO(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function VR(e,t,n){var r=new U_;return e.asyncQueue.enqueue(Zi(Ji().mark((function i(){var a;return Ji().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,JO(e,n);case 3:return i.next=5,ZO(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),tR(a=i.t0)){i.next=13;break}throw a;case 13:D_("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function BR(e){return function(e){return e.asyncQueue.enqueue(Zi(Ji().mark((function t(){var n,r;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oR(e);case 2:return n=t.sent,t.next=5,sR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=M_(e);return t.vu.delete(0),OP(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(FR(e=xR(e,jR)))}function zR(e){return function(e){return e.asyncQueue.enqueue(Zi(Ji().mark((function t(){var n,r;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oR(e);case 2:return n=t.sent,t.next=5,sR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=M_(t)).vu.add(0),e.next=4,LP(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(FR(e=xR(e,jR)))}function qR(e,t){var n=FR(e=xR(e,jR)),r=new MR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new GO(e,t)}(function(e,t){if(e instanceof Uint8Array)return WO(e,t);if(e instanceof ArrayBuffer)return WO(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?ZT().encode(e):e),t)}(n,SP(t));e.asyncQueue.enqueueAndForget(Zi(Ji().mark((function t(){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=VO,t.next=3,cR(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function KR(e,t){return function(e,t){return e.asyncQueue.enqueue(Zi(Ji().mark((function n(){return Ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=M_(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,uR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(FR(e=xR(e,jR)),t).then((function(t){return t?new CR(e,null,t.query):null}))}function WR(e){if(e._initialized||e._terminated)throw new F_(j_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var HR=function(){function e(t){h(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(wS.fromBase64String(t))}catch(t){throw new F_(j_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(wS.fromUint8Array(t))}}]),e}(),GR=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new F_(j_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new iI(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var QR=m((function e(t){h(this,e),this._methodName=t})),$R=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new F_(j_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F_(j_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Y_(this._lat,e._lat)||Y_(this._long,e._long)}}]),e}(),YR=/^__.*__$/,JR=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new jT(e,this.data,this.fieldMask,t,this.fieldTransforms):new MT(e,this.data,t,this.fieldTransforms)}}]),e}(),XR=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return new jT(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ZR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R_()}}var eL=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return bL(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ZR(this.ca)&&YR.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),tL=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||SP(t)}return m(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new eL({ca:e,methodName:t,ga:n,path:iI.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function nL(e){var t=e._freezeSettings(),n=SP(e._databaseId);return new tL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rL(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);mL("Data must be an object, but it was:",o,r);var u,s,c=pL(r,o);if(a.merge)u=new kS(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=E(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=yL(t,l.value,n);if(!o.contains(d))throw new F_(j_.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));wL(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new kS(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new JR(new XS(c),u,s)}var iL=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(QR);function aL(e,t,n){return new eL({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var oL=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){return new ET(e.path,new gT)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(QR),uL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).pa=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=aL(this,e,!0),n=this.pa.map((function(e){return dL(e,t)})),r=new kT(n);return new ET(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(QR),sL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).pa=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=aL(this,e,!0),n=this.pa.map((function(e){return dL(e,t)})),r=new wT(n);return new ET(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(QR),cL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).Ia=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=new _T(e.serializer,dT(e.serializer,this.Ia));return new ET(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(QR);function lL(e,t,n,r){var i=e.ya(1,t,n);mL("Data must be an object, but it was:",i,r);var a=[],o=XS.empty();fS(r,(function(e,r){var u=kL(t,e,n);r=Yi(r);var s=i.da(u);if(r instanceof iL)a.push(u);else{var c=dL(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new kS(a);return new XR(o,u,i.fieldTransforms)}function fL(e,t,n,r,i,a){var o=e.ya(1,t,n),u=[yL(t,r,n)],s=[i];if(a.length%2!=0)throw new F_(j_.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(yL(t,a[c])),s.push(a[c+1]);for(var l=[],f=XS.empty(),h=u.length-1;h>=0;--h)if(!wL(l,u[h])){var d=u[h],p=s[h];p=Yi(p);var v=o.da(d);if(p instanceof iL)l.push(d);else{var m=dL(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new kS(l);return new XR(f,y,o.fieldTransforms)}function hL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return dL(n,e.ya(r?4:3,t))}function dL(e,t){if(vL(e=Yi(e)))return mL("Unsupported field value:",t,e),pL(e,t);if(e instanceof QR)return function(e,t){if(!ZR(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=E(e);try{for(a.s();!(n=a.n()).done;){var o=dL(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Yi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dT(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Z_.fromDate(e);return{timestampValue:kC(t.serializer,n)}}if(e instanceof Z_){var r=new Z_(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kC(t.serializer,r)}}if(e instanceof $R)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof HR)return{bytesValue:bC(t.serializer,e._byteString)};if(e instanceof TR){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:_C(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(wR(e)))}(e,t)}function pL(e,t){var n={};return hS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fS(e,(function(e,r){var i=dL(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function vL(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Z_||e instanceof $R||e instanceof HR||e instanceof TR||e instanceof QR)}function mL(e,t,n){if(!vL(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=wR(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function yL(e,t,n){if((t=Yi(t))instanceof GR)return t._internalPath;if("string"==typeof t)return kL(e,t);throw bL("Field path arguments must be of type string or ",e,!1,void 0,n)}var gL=new RegExp("[~\\*/\\[\\]]");function kL(e,t,n){if(t.search(gL)>=0)throw bL("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return _(GR,f(t.split(".")))._internalPath}catch(r){throw bL("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function bL(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new F_(j_.INVALID_ARGUMENT,u+e+s)}function wL(e,t){return e.some((function(e){return e.isEqual(t)}))}var xL=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new TR(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new _L(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(IL("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),_L=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return Co(k(n.prototype),"data",this).call(this)}}]),n}(xL);function IL(e,t){return"string"==typeof t?kL(e,t):t instanceof GR?t._internalPath:t._delegate._internalPath}function SL(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new F_(j_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var EL=m((function e(){h(this,e)})),TL=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(EL);function CL(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof EL&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof AL})).length,n=e.filter((function(e){return e instanceof NL})).length;if(t>1||t>0&&n>0)throw new F_(j_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=E(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var NL=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return m(n,[{key:"_apply",value:function(e){var t=this._parse(e);return zL(e._query,t),new CR(e.firestore,e.converter,zE(e._query,t))}},{key:"_parse",value:function(e){var t=nL(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new F_(j_.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){BL(o,a);var s,c=[],l=E(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(VL(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=VL(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||BL(o,a),u=hL(n,"where",o,"in"===a||"not-in"===a);return uE.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(TL);var AL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return m(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:sE.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=E(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;zL(r,a),r=zE(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new CR(e.firestore,e.converter,zE(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(EL);var PL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return m(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new F_(j_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new F_(j_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new iE(t,n);return function(e,t){if(null===jE(e)){var n=FE(e);null!==n&&qL(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new CR(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new OE(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(TL);var DL=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return m(n,[{key:"_apply",value:function(e){return new CR(e.firestore,e.converter,qE(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(TL);var OL=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=UL(e,this.type,this._docOrFields,this._inclusive);return new CR(e.firestore,e.converter,function(e,t){return new OE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(TL);function RL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return OL._create("startAt",t,!0)}function LL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return OL._create("startAfter",t,!1)}var ML=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=UL(e,this.type,this._docOrFields,this._inclusive);return new CR(e.firestore,e.converter,function(e,t){return new OE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(TL);function jL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ML._create("endBefore",t,!1)}function FL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ML._create("endAt",t,!0)}function UL(e,t,n,r){if(n[0]=Yi(n[0]),n[0]instanceof xL)return function(e,t,n,r,i){if(!r)throw new F_(j_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=E(VE(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(VS(t,r.key));else{var c=r.data.field(s.field);if(ES(c))throw new F_(j_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new F_(j_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new tE(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=nL(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new F_(j_.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new F_(j_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!UE(e)&&-1!==c.indexOf("/"))throw new F_(j_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(nI.fromString(c));if(!aI.isDocumentKey(l))throw new F_(j_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new aI(l);u.push(VS(t,f))}else{var h=hL(n,r,c);u.push(h)}}return new tE(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function VL(e,t,n){if("string"==typeof(n=Yi(n))){if(""===n)throw new F_(j_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UE(t)&&-1!==n.indexOf("/"))throw new F_(j_.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(nI.fromString(n));if(!aI.isDocumentKey(r))throw new F_(j_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return VS(e,new aI(r))}if(n instanceof TR)return VS(e,n._key);throw new F_(j_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(wR(n),"."))}function BL(e,t){if(!Array.isArray(e)||0===e.length)throw new F_(j_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function zL(e,t){if(t.isInequality()){var n=FE(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new F_(j_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=jE(e);null!==i&&qL(e,r,i)}var a=function(e,t){var n,r=E(e);try{for(r.s();!(n=r.n()).done;){var i,a=E(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new F_(j_.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new F_(j_.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function qL(e,t,n){if(!n.isEqual(t))throw new F_(j_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var KL=function(){function e(){h(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(OS(e)){case 0:return null;case 1:return e.booleanValue;case 2:return IS(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(SS(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw R_()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return fS(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new $R(IS(e.latitude),IS(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=TS(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(CS(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=_S(e);return new Z_(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=nI.fromString(e);L_(GC(n));var r=new AS(n.get(1),n.get(3)),i=new aI(n.popFirst(5));return r.isEqual(t)||P_("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function WL(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var HL=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new HR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new TR(this.firestore,null,t)}}]),n}(KL);var GL=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),QL=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return m(n,[{key:"exists",value:function(){return Co(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new $L(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(IL("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(xL),$L=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Co(k(n.prototype),"data",this).call(this,e)}}]),n}(QL),YL=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new GL(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new $L(n._firestore,n._userDataWriter,r.key,r,new GL(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new F_(j_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new $L(e._firestore,e._userDataWriter,t.doc.key,t.doc,new GL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new $L(e._firestore,e._userDataWriter,t.doc.key,t.doc,new GL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:JL(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function JL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R_()}}function XL(e,t){return e instanceof QL&&t instanceof QL?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof YL&&t instanceof YL&&e._firestore===t._firestore&&OR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var ZL=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new HR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new TR(this.firestore,null,t)}}]),n}(KL);function eM(e){e=xR(e,TR);var t=xR(e.firestore,jR),n=FR(t),r=new ZL(t);return function(e,t){var n=new U_;return e.asyncQueue.enqueueAndForget(Zi(Ji().mark((function r(){return Ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Zi(Ji().mark((function e(t,n,r){var i,a;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=M_(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new F_(j_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=wD(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,uR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new QL(t,r,e._key,n,new GL(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function tM(e){e=xR(e,CR);var t=xR(e.firestore,jR),n=FR(t),r=new ZL(t);return function(e,t){var n=new U_;return e.asyncQueue.enqueueAndForget(Zi(Ji().mark((function r(){return Ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Zi(Ji().mark((function e(t,n,r){var i,a,o,u,s;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JA(t,n,!0);case 3:i=e.sent,a=new BD(n,i.ir),o=a.sc(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=wD(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,uR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new YL(t,r,e,n)}))}function nM(e,t,n){e=xR(e,TR);var r=xR(e.firestore,jR),i=WL(e.converter,t,n);return oM(r,[rL(nL(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,CT.none())])}function rM(e,t,n){e=xR(e,TR);for(var r=xR(e.firestore,jR),i=nL(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return oM(r,[("string"==typeof(t=Yi(t))||t instanceof GR?fL(i,"updateDoc",e._key,t,n,o):lL(i,"updateDoc",e._key,t)).toMutation(e._key,CT.exists(!0))])}function iM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Yi(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||LR(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(LR(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof TR)l=xR(e.firestore,jR),f=LE(e._key.path),c={next:function(t){n[s]&&n[s](uM(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=xR(e,CR);l=xR(p.firestore,jR),f=p._query;var v=new ZL(l);c={next:function(e){n[s]&&n[s](new YL(l,v,p,e))},error:n[s+1],complete:n[s+2]},SL(e._query)}return function(e,t,n,r){var i=new HO(r),a=new RD(t,i,n);return e.asyncQueue.enqueueAndForget(Zi(Ji().mark((function t(){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=TD,t.next=3,fR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(Zi(Ji().mark((function t(){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ND,t.next=3,fR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(FR(l),f,h,c)}function aM(e,t){return function(e,t){var n=new HO(t);return e.asyncQueue.enqueueAndForget(Zi(Ji().mark((function t(){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){M_(e).ku.add(t),t.next()},t.next=3,fR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(Zi(Ji().mark((function t(){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){M_(e).ku.delete(t)},t.next=3,fR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(FR(e=xR(e,jR)),LR(t)?t:{next:t})}function oM(e,t){return function(e,t){var n=new U_;return e.asyncQueue.enqueueAndForget(Zi(Ji().mark((function r(){return Ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=JD,r.next=3,cR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(FR(e),t)}function uM(e,t,n){var r=n.docs.get(t._key),i=new ZL(e);return new QL(e,i,t._key,r,new GL(n.hasPendingWrites,n.fromCache),t.converter)}var sM={maxAttempts:5},cM=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=nL(t)}return m(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=lM(e,this._firestore),i=WL(r.converter,t,n),a=rL(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,CT.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=lM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Yi(t))||t instanceof GR?fL(this._dataReader,"WriteBatch.update",i._key,t,n,o):lL(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,CT.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=lM(e,this._firestore);return this._mutations=this._mutations.concat(new qT(t._key,CT.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new F_(j_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function lM(e,t){if((e=Yi(e)).firestore!==t)throw new F_(j_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var fM=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return m(n,[{key:"get",value:function(e){var t=this,r=lM(e,this._firestore),i=new ZL(this._firestore);return Co(k(n.prototype),"get",this).call(this,e).then((function(e){return new QL(t._firestore,i,r._key,e._document,new GL(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=nL(t)}return m(e,[{key:"get",value:function(e){var t=this,n=lM(e,this._firestore),r=new HL(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return R_();var i=e[0];if(i.isFoundDocument())return new xL(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new xL(t._firestore,r,n._key,null,n.converter);throw R_()}))}},{key:"set",value:function(e,t,n){var r=lM(e,this._firestore),i=WL(r.converter,t,n),a=rL(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=lM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Yi(t))||t instanceof GR?fL(this._dataReader,"Transaction.update",i._key,t,n,o):lL(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=lM(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function hM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uL("arrayUnion",t)}function dM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sL("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){T_=e}(Qa),Ba(new ea("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new jR(new q_(e.getProvider("auth-internal")),new G_(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new F_(j_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new AS(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),eo(S_,"3.12.0",e),eo(S_,"3.12.0","esm2017")}();function pM(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new F_("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function vM(){if("undefined"===typeof Uint8Array)throw new F_("unimplemented","Uint8Arrays are not available in this environment.")}function mM(){if("undefined"==typeof atob)throw new F_("unimplemented","Blobs are unavailable in Firestore in this environment.")}var yM=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"toBase64",value:function(){return mM(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return vM(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return mM(),new e(HR.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return vM(),new e(HR.fromUint8Array(t))}}]),e}();function gM(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=E(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var kM=function(){function e(){h(this,e)}return m(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){WR(e=xR(e,jR));var n=FR(e);if(n._uninitializedComponentsProvider)throw new F_(j_.FAILED_PRECONDITION,"SDK cache is already specified.");D_("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new KO;return VR(n,i,new zO(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){WR(e=xR(e,jR));var t=FR(e);if(t._uninitializedComponentsProvider)throw new F_(j_.FAILED_PRECONDITION,"SDK cache is already specified.");D_("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new KO;return VR(t,r,new qO(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new F_(j_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new U_;return e._queue.enqueueAndForgetEvenWhileRestricted(Zi(Ji().mark((function n(){return Ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Zi(Ji().mark((function e(t){var n;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wI.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,wI.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(MA(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),bM=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof AS||(this._appCompat=t)}return m(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||D_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ER(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return BR(this._delegate)}},{key:"disableNetwork",value:function(){return zR(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&gR("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new U_;return e.asyncQueue.enqueueAndForget(Zi(Ji().mark((function n(){return Ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=sO,n.next=3,cR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(FR(xR(this._delegate,jR)))}},{key:"onSnapshotsInSync",value:function(e){return aM(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new F_("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new RM(this,AR(this._delegate,e))}catch(VF){throw EM(VF,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new SM(this,PR(this._delegate,e))}catch(VF){throw EM(VF,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new PM(this,function(e,t){if(e=xR(e,SR),yR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new F_(j_.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new CR(e,null,function(e){return new OE(nI.emptyPath(),e)}(t))}(this._delegate,e))}catch(VF){throw EM(VF,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=xR(e,jR);var r=Object.assign(Object.assign({},sM),n);return function(e){if(e.maxAttempts<1)throw new F_(j_.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new U_;return e.asyncQueue.enqueueAndForget(Zi(Ji().mark((function i(){var a;return Ji().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lR(e);case 2:a=i.sent,new $O(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(FR(e),(function(n){return t(new fM(e,n))}),r)}(this._delegate,(function(n){return e(new xM(t,n))}))}},{key:"batch",value:function(){var e=this;return FR(this._delegate),new _M(new cM(this._delegate,(function(t){return oM(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return qR(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return KR(this._delegate,e).then((function(e){return e?new PM(t,e):null}))}}]),e}(),wM=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new yM(new HR(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return SM.forKey(t,this.firestore,null)}}]),n}(KL);var xM=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new wM(t)}return m(e,[{key:"get",value:function(e){var t=this,n=LM(e);return this._delegate.get(n).then((function(e){return new NM(t._firestore,new QL(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=LM(e);return n?(pM("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=LM(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LM(e);return this._delegate.delete(t),this}}]),e}(),_M=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"set",value:function(e,t,n){var r=LM(e);return n?(pM("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=LM(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LM(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),IM=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return m(e,[{key:"fromFirestore",value:function(e,t){var n=new $L(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new AM(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new wM(t),n),i.set(n,a)),a}}]),e}();IM.INSTANCES=new WeakMap;var SM=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new wM(t)}return m(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new RM(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new RM(this.firestore,AR(this._delegate,e))}catch(VF){throw EM(VF,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Yi(e))instanceof TR&&DR(this._delegate,e)}},{key:"set",value:function(e,t){t=pM("DocumentReference.set",t);try{return t?nM(this._delegate,e,t):nM(this._delegate,e)}catch(VF){throw EM(VF,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?rM(this._delegate,e):rM.apply(void 0,[this._delegate,e,t].concat(r))}catch(VF){throw EM(VF,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return oM(xR((e=this._delegate).firestore,jR),[new qT(e._key,CT.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TM(n),a=CM(n,(function(t){return new NM(e.firestore,new QL(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return iM(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?eM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=xR(e,TR);var t=xR(e.firestore,jR);return dR(FR(t),e._key,{source:"server"}).then((function(n){return uM(t,e,n)}))}(this._delegate):function(e){e=xR(e,TR);var t=xR(e.firestore,jR);return dR(FR(t),e._key).then((function(n){return uM(t,e,n)}))}(this._delegate)).then((function(e){return new NM(t.firestore,new QL(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(IM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new F_("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new TR(n._delegate,r,new aI(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new TR(n._delegate,r,t))}}]),e}();function EM(e,t,n){return e.message=e.message.replace(t,n),e}function TM(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!gM(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function CM(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=gM(e[0])?e[0]:gM(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var NM=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"ref",get:function(){return new SM(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return XL(this._delegate,e._delegate)}}]),e}(),AM=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||R_(),t}}]),n}(NM),PM=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new wM(t)}return m(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,CL(this._delegate,function(e,t,n){var r=t,i=IL("where",e);return NL._create(i,r,n)}(t,n,r)))}catch(VF){throw EM(VF,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,CL(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=IL("orderBy",e);return PL._create(n,t)}(t,n)))}catch(VF){throw EM(VF,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,CL(this._delegate,(_R("limit",n=t),DL._create("limit",n,"F"))))}catch(VF){throw EM(VF,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,CL(this._delegate,(_R("limitToLast",n=t),DL._create("limitToLast",n,"L"))))}catch(VF){throw EM(VF,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,CL(this._delegate,RL.apply(void 0,arguments)))}catch(VF){throw EM(VF,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,CL(this._delegate,LL.apply(void 0,arguments)))}catch(VF){throw EM(VF,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,CL(this._delegate,jL.apply(void 0,arguments)))}catch(VF){throw EM(VF,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,CL(this._delegate,FL.apply(void 0,arguments)))}catch(VF){throw EM(VF,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return OR(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?tM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=xR(e,CR);var t=xR(e.firestore,jR),n=FR(t),r=new ZL(t);return pR(n,e._query,{source:"server"}).then((function(n){return new YL(t,r,e,n)}))}(this._delegate):function(e){e=xR(e,CR);var t=xR(e.firestore,jR),n=FR(t),r=new ZL(t);return SL(e._query),pR(n,e._query).then((function(n){return new YL(t,r,e,n)}))}(this._delegate)).then((function(e){return new OM(t.firestore,new YL(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TM(n),a=CM(n,(function(t){return new OM(e.firestore,new YL(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return iM(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(IM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),DM=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new AM(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),OM=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"query",get:function(){return new PM(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new AM(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new DM(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new AM(n._firestore,r))}))}},{key:"isEqual",value:function(e){return XL(this._delegate,e._delegate)}}]),e}(),RM=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return m(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new SM(this.firestore,e):null}},{key:"doc",value:function(e){try{return new SM(this.firestore,void 0===e?PR(this._delegate):PR(this._delegate,e))}catch(VF){throw EM(VF,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=xR(e.firestore,jR),r=PR(e),i=WL(e.converter,t);return oM(n,[rL(nL(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,CT.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new SM(t.firestore,e)}))}},{key:"isEqual",value:function(e){return DR(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(IM.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(PM);function LM(e){return xR(e,TR)}var MM=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=_(GR,n)}return m(e,[{key:"isEqual",value:function(e){return(e=Yi(e))instanceof GR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(iI.keyField().canonicalString())}}]),e}(),jM=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new oL("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new iL("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=hM.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=dM.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new cL("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),FM={Firestore:bM,GeoPoint:$R,Timestamp:Z_,Blob:yM,Transaction:xM,WriteBatch:_M,DocumentReference:SM,DocumentSnapshot:NM,Query:PM,QueryDocumentSnapshot:AM,QuerySnapshot:OM,CollectionReference:RM,FieldPath:MM,FieldValue:jM,setLogLevel:function(e){var t;t=e,C_.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ea("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},FM)))}(e,(function(e,t){return new bM(e,t,new kM)})),e.registerVersion("@firebase/firestore-compat","0.3.9")}(To);var UM=JSON.parse('[{"username":"Eric Tlaseca","password":"Cisc275"},{"username":"Shay Patel","password":"Cisc275"},{"username":"Arjun Manikyath","password":"Cisc275"},{"username":"Josh Taing","password":"Cisc275"},{"username":"Stephen Wiafe","password":"Cisc275"},{"username":"Thomas Pelosi","password":"Cisc275"}]');var VM=function(){var e=Se(),t=c((0,r.useState)(""),2),n=t[0],i=t[1],a=c((0,r.useState)(""),2),o=a[0],u=a[1];To.initializeApp({apiKey:"AIzaSyDuuO3Qvj_guTliM6iPgV3_5dF0OWOLi-0",authDomain:"proj-15d75.firebaseapp.com",projectId:"proj-15d75",storageBucket:"proj-15d75.appspot.com",messagingSenderId:"1096734466692",appId:"1:1096734466692:web:c7cbf5f3fd67c3bf7c58d1",measurementId:"G-WWLTRVX79F"});var s=To.auth(),l=new To.auth.GoogleAuthProvider,f=c((0,r.useState)(""),2),h=f[0],d=f[1],p=c((0,r.useState)(""),2),v=p[0],m=p[1];return(0,ut.jsxs)("div",{className:"login",children:[(0,ut.jsx)("div",{className:"login",children:(0,ut.jsx)("img",{src:bi})}),(0,ut.jsxs)("div",{className:"login-info",children:[(0,ut.jsxs)("h2",{className:"header",children:["Welcome to Ekin ",n]}),(0,ut.jsx)("div",{className:"forms",children:(0,ut.jsxs)(fn.Group,{controlId:"formBasicEmail",children:[(0,ut.jsx)(fn.Control,{className:"forms",type:"text",placeholder:"Email or Username",value:h,onChange:function(e){return d(e.target.value)}}),(0,ut.jsx)(fn.Control,{type:"password",placeholder:"Password",value:v,onChange:function(e){return m(e.target.value)}})]})}),(0,ut.jsxs)("div",{className:"middle-buttons",children:[(0,ut.jsx)("div",{children:(0,ut.jsx)(yn,{className:"button",onClick:function(){UM.find((function(e){return e.username===h&&e.password===v}))?e("/landing"):alert("Invalid username or password")},children:"LOGIN NOW"})}),(0,ut.jsx)("h6",{children:"Forgot your password?"}),(0,ut.jsx)("div",{children:(0,ut.jsx)(yn,{onClick:function(){s.signInWithPopup(l);var e=To.auth().currentUser;null!=(null===e||void 0===e?void 0:e.displayName)&&i(e.displayName),null!=(null===e||void 0===e?void 0:e.photoURL)&&u(e.photoURL),console.log(e)},children:"Sign in with Google"})})]}),(0,ut.jsxs)("div",{className:"last-buttons",children:[(0,ut.jsx)(yn,{children:"Make account"}),(0,ut.jsx)(yn,{children:"Log in as Admin"})]})]}),(0,ut.jsx)("h2",{children:(0,ut.jsx)("img",{src:o,alt:""})})]})};var BM=function(){var e=c((0,r.useState)(0),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){return n(Math.floor(100*Math.random()))}),[]),(0,ut.jsx)("img",{src:"https://avatars.dicebear.com/api/human/".concat(t,".svg"),"data-testid":"userImage"})};var zM=function(){return(0,ut.jsxs)("div",{className:"App",children:[(0,ut.jsx)("div",{className:"profile",children:(0,ut.jsx)(BM,{})}),(0,ut.jsx)("div",{className:"forms",children:(0,ut.jsxs)(fn.Group,{children:[(0,ut.jsx)(fn.Control,{className:"forms",type:"email",placeholder:"Please Enter Email"}),(0,ut.jsx)(fn.Control,{className:"forms",type:"email",placeholder:"Name"}),(0,ut.jsx)(fn.Control,{className:"forms",type:"email",placeholder:"Qualities"}),(0,ut.jsx)(fn.Control,{className:"forms",type:"email",placeholder:"Password"}),(0,ut.jsx)(fn.Control,{className:"forms",type:"email",placeholder:"Age"})]})}),(0,ut.jsx)(yn,{className:"button",children:"UPDATE onClick"})]})};function qM(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var KM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},WM=r.createContext&&r.createContext(KM),HM=function(){return HM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},HM.apply(this,arguments)},GM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function QM(e){return e&&e.map((function(e,t){return r.createElement(e.tag,HM({key:t},e.attr),QM(e.child))}))}function $M(e){return function(t){return r.createElement(YM,HM({attr:HM({},e.attr)},t),QM(e.child))}}function YM(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,u=GM(e,["attr","size","title"]),s=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",HM({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:n,style:HM(HM({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==WM?r.createElement(WM.Consumer,null,(function(e){return t(e)})):t(KM)}var JM=n(441),XM=n(613),ZM=n.n(XM);var ej=function(e){function t(e,r,s,c,h){for(var d,p,v,m,b,x=0,_=0,I=0,S=0,E=0,D=0,R=v=d=0,M=0,j=0,F=0,U=0,V=s.length,B=V-1,z="",q="",K="",W="";M<V;){if(p=s.charCodeAt(M),M===B&&0!==_+S+I+x&&(0!==_&&(p=47===_?10:47),S=I=x=0,V++,B++),0===_+S+I+x){if(M===B&&(0<j&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(R=M+1;R<B;++R)switch(s.charCodeAt(R)){case 47:if(42===p&&42===s.charCodeAt(R-1)&&M+2!==R){M=R+1;break e}break;case 10:if(47===p){M=R+1;break e}}M=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<j&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=P}if(U=(v=t(r,j,v,p,h+1)).length,0<O&&(b=u(3,v,j=n(P,z,F),r,C,T,U,p,h,c),z=j.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,F),v,c,h+1);K+=v,v=F=j=R=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(z=(0<j?z.replace(f,""):z).trim()).length))switch(0===R&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<O&&void 0!==(b=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(U=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=z+s.charAt(M);break}default:58!==z.charCodeAt(U-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}F=j=R=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<z.length&&(j=1,z+="\0"),0<O*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+S+I+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===S+x+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+_+x&&(j=F=1,m="\f"+m);break;case 108:if(0===S+_+x+N&&0<R)switch(M-R){case 2:112===E&&58===s.charCodeAt(M-3)&&(N=E);case 8:111===D&&(N=D)}break;case 58:0===S+_+x&&(R=M);break;case 44:0===_+I+S+x&&(j=1,m+="\r");break;case 34:case 39:0===_&&(S=S===p?0:0===S?p:S);break;case 91:0===S+_+I&&x++;break;case 93:0===S+_+I&&x--;break;case 41:0===S+_+x&&I--;break;case 40:if(0===S+_+x){if(0===d)if(2*E+3*D===533);else d=1;I++}break;case 64:0===_+I+S+x+R+v&&(v=1);break;case 42:case 47:if(!(0<S+x+I))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,M+1)),m="",_=0)}}0===_&&(z+=m)}D=E,E=p,M++}if(0<(U=q.length)){if(j=r,0<O&&(void 0!==(b=u(2,q,j,e,C,T,U,c,h,c))&&0===(q=b).length))return W+q+K;if(q=j.join(",")+"{"+q+"}",0!==A*N){switch(2!==A||a(q,2)||(N=0),N){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}N=0}}return W+q+K}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===A||2===A&&a(s,1)?"-webkit-"+s+s:s}if(0===A||2===A&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(I,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<O;++h)switch(f=D[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?A=1:(A=2,R=e):A=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<O&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",N=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,N=0,A=1,P=[],D=[],O=0,R=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:O=D.length=0;break;default:if("function"===typeof t)D[O++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},tj={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var nj=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},rj=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ij=nj((function(e){return rj.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),aj=n(110),oj=n.n(aj);function uj(){return(uj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var sj=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},cj=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,JM.typeOf)(e)},lj=Object.freeze([]),fj=Object.freeze({});function hj(e){return"function"==typeof e}function dj(e){return e.displayName||e.name||"Component"}function pj(e){return e&&"string"==typeof e.styledComponentId}var vj="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",mj="undefined"!=typeof window&&"HTMLElement"in window,yj=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/team3_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)));function gj(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var kj=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&gj(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),bj=new Map,wj=new Map,xj=1,_j=function(e){if(bj.has(e))return bj.get(e);for(;wj.has(xj);)xj++;var t=xj++;return bj.set(e,t),wj.set(t,e),t},Ij=function(e){return wj.get(e)},Sj=function(e,t){t>=xj&&(xj=t+1),bj.set(e,t),wj.set(t,e)},Ej="style["+vj+'][data-styled-version="5.3.9"]',Tj=new RegExp("^"+vj+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Cj=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Nj=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(Tj);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(Sj(c,s),Cj(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},Aj=function(){return n.nc},Pj=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(vj))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(vj,"active"),r.setAttribute("data-styled-version","5.3.9");var o=Aj();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Dj=function(){function e(e){var t=this.element=Pj(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}gj(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Oj=function(){function e(e){var t=this.element=Pj(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Rj=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Lj=mj,Mj={isServer:!mj,useCSSOMInjection:!yj},jj=function(){function e(e,t,n){void 0===e&&(e=fj),void 0===t&&(t={}),this.options=uj({},Mj,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&mj&&Lj&&(Lj=!1,function(e){for(var t=document.querySelectorAll(Ej),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(vj)&&(Nj(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return _j(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(uj({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Rj(i):r?new Dj(i):new Oj(i),new kj(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(_j(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(_j(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(_j(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Ij(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=vj+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Fj=/(a)(d)/gi,Uj=function(e){return String.fromCharCode(e+(e>25?39:97))};function Vj(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Uj(t%52)+n;return(Uj(t%52)+n).replace(Fj,"$1-$2")}var Bj=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},zj=function(e){return Bj(5381,e)};function qj(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(hj(n)&&!pj(n))return!1}return!0}var Kj=zj("5.3.9"),Wj=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&qj(e),this.componentId=t,this.baseHash=Bj(Kj,t),this.baseStyle=n,jj.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=cF(this.rules,e,t,n).join(""),o=Vj(Bj(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=Bj(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=cF(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Bj(c,p+f),l+=p}}if(l){var v=Vj(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Hj=/^\s*\/\/.*$/gm,Gj=[":","[",".","#"];function Qj(e){var t,n,r,i,a=void 0===e?fj:e,o=a.options,u=void 0===o?fj:o,s=a.plugins,c=void 0===s?lj:s,l=new ej(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==Gj.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(Hj,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||gj(15),Bj(e,t.name)}),5381).toString():"",p}var $j=r.createContext(),Yj=($j.Consumer,r.createContext()),Jj=(Yj.Consumer,new jj),Xj=Qj();function Zj(){return(0,r.useContext)($j)||Jj}function eF(){return(0,r.useContext)(Yj)||Xj}function tF(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=Zj(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,r.useMemo)((function(){return Qj({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){ZM()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement($j.Provider,{value:o},r.createElement(Yj.Provider,{value:u},e.children))}var nF=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Xj);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return gj(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Xj),this.name+e.hash},e}(),rF=/([A-Z])/,iF=/([A-Z])/g,aF=/^ms-/,oF=function(e){return"-"+e.toLowerCase()};function uF(e){return rF.test(e)?e.replace(iF,oF).replace(aF,"-ms-"):e}var sF=function(e){return null==e||!1===e||""===e};function cF(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=cF(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return sF(e)?"":pj(e)?"."+e.styledComponentId:hj(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:cF(e(t),t,n,r):e instanceof nF?n?(e.inject(n,r),e.getName(r)):e:cj(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!sF(t[o])&&(Array.isArray(t[o])&&t[o].isCss||hj(t[o])?a.push(uF(o)+":",t[o],";"):cj(t[o])?a.push.apply(a,e(t[o],o)):a.push(uF(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in tj?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var lF=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function fF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return hj(e)||cj(e)?lF(cF(sj(lj,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:lF(cF(sj(e,n)))}new Set;var hF=function(e,t,n){return void 0===n&&(n=fj),e.theme!==n.theme&&e.theme||t||n.theme},dF=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,pF=/(^-|-$)/g;function vF(e){return e.replace(dF,"-").replace(pF,"")}var mF=function(e){return Vj(zj(e)>>>0)};function yF(e){return"string"==typeof e&&!0}var gF=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},kF=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function bF(e,t,n){var r=e[n];gF(t)&&gF(r)?wF(r,t):e[n]=t}function wF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(gF(o))for(var u in o)kF(u)&&bF(e,o[u],u)}return e}var xF=r.createContext();xF.Consumer;var _F={};function IF(e,t,n){var i=pj(e),a=!yF(e),o=t.attrs,u=void 0===o?lj:o,s=t.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":vF(e);_F[n]=(_F[n]||0)+1;var r=n+"-"+mF("5.3.9"+n+_F[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):s,l=t.displayName,f=void 0===l?function(e){return yF(e)?"styled."+e:"Styled("+dj(e)+")"}(e):l,h=t.displayName&&t.componentId?vF(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new Wj(n,h,i?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=fj);var r=uj({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in hj(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(hF(t,(0,r.useContext)(xF),u)||fj,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=Zj(),a=eF();return t?e.generateAndInjectStyles(fj,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=yF(y),k=p!==t?uj({},t,{},p):t,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,ij,y):!g||ij(w))&&(b[w]=k[w]));return t.style&&p.style!==t.style&&(b.style=uj({},t.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,r.createElement)(y,b)}(v,e,t,y)};return g.displayName=f,(v=r.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):lj,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(yF(e)?e:vF(dj(e)));return IF(e,uj({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?wF({},e.defaultProps,t):t}}),Object.defineProperty(v,"toString",{value:function(){return"."+v.styledComponentId}}),a&&oj()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var SF=function(e){return function e(t,n,r){if(void 0===r&&(r=fj),!(0,JM.isValidElementType)(n))return gj(1,String(n));var i=function(){return t(n,r,fF.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,uj({},r,{},i))},i.attrs=function(i){return e(t,n,uj({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(IF,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){SF[e]=SF(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=qj(e),jj.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(cF(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&jj.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Aj();return"<style "+[n&&'nonce="'+n+'"',vj+'="true"','data-styled-version="5.3.9"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?gj(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return gj(2);var n=((t={})[vj]="",t["data-styled-version"]="5.3.9",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=Aj();return i&&(n.nonce=i),[r.createElement("style",uj({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new jj({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?gj(2):r.createElement(tF,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return gj(3)}}();var EF,TF,CF,NF,AF=SF,PF=AF.nav(EF||(EF=qM(["\n    background: #add8e6;\n    height: 85px;\n    display: flex;\n    justify-content: space-between;\n    padding: 0.2rem calc((100vw - 1000px) / 2);\n    z-index: 12;\n"]))),DF=AF($e)(TF||(TF=qM(["\n    color: #808080;\n    display: flex;\n    align-items: center;\n    text-decoration: none;\n    padding: 0 1rem;\n    height: 100%;\n    cursor: pointer;\n    &.active {\n        color: #4d4dff;\n    }\n"]))),OF=(AF((function(e){return $M({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}))(CF||(CF=qM(["\n    display: none;\n    color: #808080;\n    @media screen and (max-width: 768px) {\n        display: block;\n        position: absolute;\n        top: 0;\n        right: 0;\n        transform: translate(-100%, 75%);\n        font-size: 1.8rem;\n        cursor: pointer;\n    }\n"]))),AF.div(NF||(NF=qM(["\n    display: flex;\n    align-items: center;\n    margin-right: -24px;\n    /* Second Nav */\n    /* margin-right: 24px; */\n    /* Third Nav */\n    /* width: 100vw;\nwhite-space: nowrap; */\n    @media screen and (max-width: 768px) {\n        display: none;\n    }\n"])))),RF=function(){return(0,ut.jsx)(ut.Fragment,{children:(0,ut.jsxs)(PF,{"data-testid":"Navbar",children:[(0,ut.jsx)(BM,{}),(0,ut.jsxs)(OF,{"data-testid":"NavMenu",children:[(0,ut.jsx)(DF,{role:"nav",to:"/Login","data-testid":"LoginNav",children:"Login"}),(0,ut.jsx)(DF,{role:"nav",to:"/Landing","data-testid":"LandingNav",children:"Landing"}),(0,ut.jsx)(DF,{role:"nav",to:"/Makeaccount","data-testid":"AccountNav",children:"Account"}),(0,ut.jsx)(DF,{role:"nav",to:"/Cart","data-testid":"CartNav",children:"Cart"}),(0,ut.jsx)(DF,{role:"nav",to:"/Checkout","data-testid":"CheckoutNav",children:"Checkout"}),(0,ut.jsx)(DF,{role:"nav",to:"/Admin","data-testid":"AdminNav",children:"Admin"}),(0,ut.jsx)(DF,{role:"nav",to:"/Admininventory","data-testid":"AdminInvNav",children:"Admin inventory"})]})]})})},LF=n.p+"static/media/messi.b40cf5032a7263e37cab.jpeg";var MF=function(){var e=Se(),t=c((0,r.useState)(""),2),n=t[0],i=t[1],a=c((0,r.useState)(""),2),o=a[0],u=a[1];return(0,ut.jsxs)("div",{className:"login",children:[(0,ut.jsx)("div",{className:"Messi",children:(0,ut.jsx)("img",{src:LF,alt:"Messi"})}),(0,ut.jsxs)("div",{className:"login-info",children:[(0,ut.jsx)("h2",{className:"header",children:"Welcome to Ekin"}),(0,ut.jsx)("h5",{className:"sign-in",children:"ADMIN Sign in"}),(0,ut.jsx)("div",{className:"forms",children:(0,ut.jsxs)(fn.Group,{controlId:"formBasicEmail",children:[(0,ut.jsx)(fn.Control,{className:"forms",type:"text",placeholder:"Email or Username",value:n,onChange:function(e){return i(e.target.value)}}),(0,ut.jsx)(fn.Control,{type:"password",placeholder:"Password",value:o,onChange:function(e){return u(e.target.value)}})]})}),(0,ut.jsxs)("div",{className:"middle-buttons",children:[(0,ut.jsx)("div",{children:(0,ut.jsx)(yn,{className:"button",onClick:function(){UM.find((function(e){return e.username===n&&e.password===o}))&&e("/admininventory")},children:"LOGIN NOW"})}),(0,ut.jsx)("h6",{children:"Forgot your password?"})]})]})]})};function jF(){return(0,ut.jsx)("div",{className:"area","data-testid":"order_placed",children:(0,ut.jsx)("h2",{children:" Your order has been placed, thank YOU! "})})}var FF=function(){return(0,ut.jsx)("div",{className:"App",children:(0,ut.jsxs)(We,{basename:"/team3_Project",children:[(0,ut.jsx)(RF,{}),(0,ut.jsxs)(Fe,{children:[(0,ut.jsx)(Me,{path:"/login",element:(0,ut.jsx)(VM,{})}),(0,ut.jsx)(Me,{path:"/Landing",element:(0,ut.jsx)(ki,{})}),(0,ut.jsx)(Me,{path:"/Makeaccount",element:(0,ut.jsx)(zM,{})}),(0,ut.jsx)(Me,{path:"/Cart",element:(0,ut.jsx)(Pn,{})}),(0,ut.jsx)(Me,{path:"/Checkout",element:(0,ut.jsx)(Rn,{})}),(0,ut.jsx)(Me,{path:"/Admin",element:(0,ut.jsx)(MF,{})}),(0,ut.jsx)(Me,{path:"/Fullfilled",element:(0,ut.jsx)(jF,{})}),(0,ut.jsx)(Me,{path:"/Admininventory",element:(0,ut.jsx)(wn,{})})]})]})})},UF=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.render((0,ut.jsx)(r.StrictMode,{children:(0,ut.jsx)(FF,{})}),document.getElementById("root")),UF()}()}();
//# sourceMappingURL=main.4184eb57.js.map